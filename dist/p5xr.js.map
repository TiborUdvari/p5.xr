{"version":3,"sources":["../node_modules/webxr-polyfill/build/webxr-polyfill.module.js","p5xr/p5vr/p5vr.js","app.js"],"names":["WebXRPolyfill","_global","global","self","window","PRIVATE","Symbol","EventTarget","constructor","listeners","Map","addEventListener","type","listener","Error","typedListeners","get","push","set","removeEventListener","i","length","pop","dispatchEvent","event","queue","PRIVATE$1","XR","device","requestDevice","now","startTime","Date","performance","now$1","PRIVATE$2","XRPresentationContext","canvas","ctx","glAttribs","Object","assign","EPSILON","ARRAY_TYPE","Float32Array","Array","degree","Math","PI","create","out","copy","a","identity","invert","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","multiply","b","b0","b1","b2","b3","fromRotationTranslation","q","v","x","y","z","w","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","getTranslation","mat","getRotation","trace","S","sqrt","perspective","fovy","aspect","near","far","f","nf","tan","Infinity","PRIVATE$3","XRDevicePose","polyfill","leftViewMatrix","rightViewMatrix","poseModelMatrix","getViewMatrix","view","eye","updateFromFrameOfReference","frameOfRef","pose","getBasePoseMatrix","getBaseViewMatrix","transformBasePoseMatrix","transformBaseViewMatrix","PRIVATE$4","XRViewport","target","width","height","XREyes","PRIVATE$5","XRView","sessionId","includes","temp","viewport","projectionMatrix","getProjectionMatrix","_getViewport","layer","getViewport","PRIVATE$6","XRFrame","session","devicePose","views","immersive","getDevicePose","coordinateSystem","getInputPose","inputSource","PRIVATE$7","XRStageBoundsPoint","PRIVATE$8","XRStageBounds","boundsData","geometry","XRCoordinateSystem","getTransformTo","other","DEFAULT_EMULATION_HEIGHT","PRIVATE$9","XRFrameOfReferenceTypes","XRFrameOfReferenceOptions","freeze","disableStageEmulation","stageEmulationHeight","XRFrameOfReference","options","transform","bounds","emulatedHeight","onboundschange","undefined","PRIVATE$10","XRSessionCreationOptions","outputContext","validateSessionOptions","XRSession","sessionOptions","id","ended","suspended","suspendedCallback","frame","onPresentationEnd","requestAnimationFrame","onPresentationStart","onSelectStart","onSelectEnd","evt","onblur","onfocus","onresetpose","onend","onselect","onselectstart","onselectend","depthNear","value","depthFar","environmentBlendMode","baseLayer","onBaseLayerSet","requestFrameOfReference","TypeError","requestFrameOfReferenceTransform","e","requestStageBounds","callback","onFrameStart","onFrameEnd","cancelAnimationFrame","handle","getInputSources","end","endSession","PRIVATE$11","XRDevice","immersiveSession","nonImmersiveSessions","Set","ondeactive","supportsSession","Promise","reject","requestSession","add","onSessionEnd","delete","domPointROExport","DOMPointReadOnly","arguments","DOMPointReadOnly$1","XRRay","origin","direction","transformMatrix","defineProperties","writable","PRIVATE$12","XRInputPose","inputSourceImpl","hasGripMatrix","targetRay","gripMatrix","emulatedPosition","PRIVATE$13","XRInputSource","impl","handedness","targetRayMode","XRLayer","POLYFILLED_COMPATIBLE_XR_DEVICE","COMPATIBLE_XR_DEVICE","PRIVATE$14","XRWebGLLayerInit","antialias","depth","stencil","alpha","multiview","framebufferScaleFactor","XRWebGLLayer","context","layerInit","config","framebuffer","getParameter","FRAMEBUFFER_BINDING","framebufferWidth","drawingBufferWidth","framebufferHeight","drawingBufferHeight","requestViewportScaling","viewportScaleFactor","console","warn","API","polyfillSetCompatibleXRDevice","Context","prototype","setCompatibleXRDevice","xrDevice","resolve","then","polyfillGetContext","Canvas","renderContextType","getContext","contextType","call","compatibleXRDevice","create$1","clone$1","fromValues$1","copy$1","set$1","add$1","subtract$1","scale$1","normalize","len","dot","cross","ax","ay","az","bx","by","bz","transformMat4","m","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","angle","tempA","tempB","cosine","acos","sub$1","forEach","vec","stride","offset","count","fn","arg","l","min","isImageBitmapSupported","ImageBitmapRenderingContext","createImageBitmap","poseMatrixToXRRay","poseMatrix","rayOrigin","rayDirection","isMobile","check","test","substr","navigator","userAgent","vendor","opera","applyCanvasStylesForMinimalRendering","style","display","position","top","left","commonjsGlobal","unwrapExports","__esModule","hasOwnProperty","createCommonjsModule","module","exports","cardboardVrDisplay","classCallCheck","observedWarnings","match","instance","Constructor","createClass","props","descriptor","enumerable","configurable","defineProperty","key","protoProps","staticProps","slicedToArray","arr","isArray","iterator","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","err","lerp","t","isIOS","platform","isWebViewAndroid","indexOf","isFirefoxAndroid","getChromeVersion","parseInt","isChromeWithoutDeviceMotion","_match$1$split","split","_match$1$split2","branch","build","isR7","isLandscapeMode","rtn","orientation","getScreenWidth","max","screen","devicePixelRatio","getScreenHeight","exitFullscreen","document","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen","linkProgram","gl","vertexSource","fragmentSource","attribLocationMap","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","program","createProgram","attribName","attachShader","bindAttribLocation","deleteShader","getProgramUniforms","uniforms","uniformCount","getProgramParameter","ACTIVE_UNIFORMS","uniformName","uniformInfo","getActiveUniform","name","replace","getUniformLocation","extend","dest","src","safariCssSizeWorkaround","setTimeout","frameDataFromPose","piOver180","rad45","defaultOrientation","defaultPosition","updateEyeMatrices","projection","fov","vrDisplay","mat4_perspectiveFromFieldOfView","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","mat4_translate","mat4_invert","frameData","timestamp","leftProjectionMatrix","_getFieldOfView","_getEyeOffset","rightProjectionMatrix","getOriginFromUrl","url","domainIdx","protoSepIdx","domainEndIdx","substring","warnOnce","message","deprecateWarning","deprecated","suggested","alternative","glPreserveState","WGLUPreserveGLState","bindings","boundValues","activeTexture","binding","TEXTURE_BINDING_2D","TEXTURE_BINDING_CUBE_MAP","textureUnit","TEXTURE0","TEXTURE31","error","ACTIVE_TEXTURE","boundValue","ARRAY_BUFFER_BINDING","bindBuffer","ARRAY_BUFFER","COLOR_CLEAR_VALUE","clearColor","COLOR_WRITEMASK","colorMask","CURRENT_PROGRAM","useProgram","ELEMENT_ARRAY_BUFFER_BINDING","ELEMENT_ARRAY_BUFFER","bindFramebuffer","FRAMEBUFFER","RENDERBUFFER_BINDING","bindRenderbuffer","RENDERBUFFER","bindTexture","TEXTURE_2D","TEXTURE_CUBE_MAP","VIEWPORT","BLEND","CULL_FACE","DEPTH_TEST","SCISSOR_TEST","STENCIL_TEST","enable","disable","log","toString","distortionVS","join","distortionFS","CardboardDistorter","cardboardUI","bufferScale","dirtySubmitFrameBindings","ctxAttribs","getContextAttributes","meshWidth","meshHeight","bufferWidth","bufferHeight","realBindFramebuffer","realEnable","realDisable","realColorMask","realClearColor","realViewport","realCanvasWidth","getOwnPropertyDescriptor","__proto__","realCanvasHeight","isPatched","lastBoundFramebuffer","cullFace","depthTest","blend","scissorTest","stencilTest","attribs","texCoord","viewportOffsetScale","setTextureBounds","vertexBuffer","createBuffer","indexBuffer","indexCount","renderTarget","createTexture","createFramebuffer","depthStencilBuffer","depthBuffer","stencilBuffer","createRenderbuffer","patch","onResize","destroy","unpatch","deleteProgram","deleteBuffer","deleteTexture","deleteFramebuffer","deleteRenderbuffer","glState","clear","COLOR_BUFFER_BIT","texImage2D","RGBA","RGB","UNSIGNED_BYTE","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","framebufferTexture2D","COLOR_ATTACHMENT0","renderbufferStorage","DEPTH_STENCIL","framebufferRenderbuffer","DEPTH_STENCIL_ATTACHMENT","DEPTH_COMPONENT16","DEPTH_ATTACHMENT","STENCIL_INDEX8","STENCIL_ATTACHMENT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","apply","pname","r","g","h","leftBounds","rightBounds","submitFrame","enableVertexAttribArray","vertexAttribPointer","FLOAT","uniform1i","diffuse","uniform4fv","drawElements","TRIANGLES","UNSIGNED_SHORT","renderNoState","preserveDrawingBuffer","updateDeviceInfo","deviceInfo","vertices","computeMeshVertices_","bufferData","STATIC_DRAW","indices","computeMeshIndices_","lensFrustum","getLeftEyeVisibleTanAngles","noLensFrustum","getLeftEyeNoLensTanAngles","getLeftEyeVisibleScreenRect","vidx","j","u","s","d","distortion","distortInverse","p","Uint16Array","halfwidth","halfheight","iidx","getOwnPropertyDescriptor_","proto","attrName","getAttribute","val","setAttribute","uiVS","uiFS","DEG2RAD","kInnerRadius","CardboardUI","gearOffset","gearVertexCount","arrowOffset","arrowVertexCount","projMat","Distortion","coefficients","listen","optionsCallback","backCallback","midline","clientWidth","clientX","kButtonWidthDp","clientY","clientHeight","physicalPixels","scalingRatio","dps","lineWidth","buttonSize","buttonScale","buttonBorder","addGearSegment","theta","cos","sin","segmentTheta","kAnglePerGearSection","addArrowVertex","angledLineWidth","render","right","bottom","lr","bt","uniform4f","color","uniformMatrix4fv","projectionMat","drawArrays","TRIANGLE_STRIP","radius","r0","r1","dr0","distort","abs","dr1","r2","ret","degToRad","radToDeg","Vector3","scalar","invScalar","multiplyScalar","applyQuaternion","ix","iy","iz","iw","crossVectors","Quaternion","v1","Device","params","widthMeters","heightMeters","bevelMeters","quaternion","setFromEulerXYZ","c1","c2","c3","s1","s2","s3","setFromEulerYXZ","setFromAxisAngle","axis","halfAngle","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","inverse","slerp","qb","cosHalfTheta","halfTheta","sinHalfTheta","ratioA","ratioB","setFromUnitVectors","vFrom","vTo","DEFAULT_ANDROID","DEFAULT_IOS","Viewers","CardboardV1","CardboardViewer","label","interLensDistance","baselineLensDistance","screenLensDistance","distortionCoefficients","inverseCoefficients","CardboardV2","DeviceInfo","deviceParams","additionalViewers","viewer","updateDeviceParams","determineDevice_","getDevice","setViewer","METERS_PER_INCH","metersPerPixelX","xdpi","metersPerPixelY","ydpi","bevelMm","getDistortedFieldOfViewLeftEye","eyeToScreenDistance","outerDist","innerDist","bottomDist","topDist","outerAngle","atan","innerAngle","bottomAngle","topAngle","fovLeft","fovTop","fovRight","fovBottom","halfWidth","halfHeight","verticalLensOffset","centerX","centerY","centerZ","screenLeft","screenTop","screenRight","screenBottom","result","undistortedFrustum","dist","eyeX","eyeY","getFieldOfViewLeftEye","opt_isUndistorted","getUndistortedFieldOfViewLeftEye","getFieldOfViewRightEye","getUndistortedParams_","getUndistortedViewportLeftEye","screenWidth","screenHeight","xPxPerTanAngle","yPxPerTanAngle","round","eyePosX","eyePosY","halfLensDistance","maxFov","viewerMax","format","DPDB_CACHE","last_updated","devices","Dpdb","onDeviceParamsUpdated","dpdb","recalculateDeviceParams_","xhr","XMLHttpRequest","obj","open","loading","status","JSON","parse","response","send","DeviceParams","SensorSample","sample","timestampS","ComplementaryFilter","kFilter","isDebug","currentAccelMeasurement","currentGyroMeasurement","previousGyroMeasurement","filterQ","previousFilterQ","accelQ","isOrientationInitialized","estimatedGravity","measuredGravity","gyroIntegralQ","PosePredictor","predictionTimeS","previousQ","previousTimestampS","deltaQ","outQ","FusionPoseSensor","predictionTime","yawOnly","accelerometer","gyroscope","filter","posePredictor","chromeVersion","isDeviceMotionInRadians","isWithoutDeviceMotion","filterToWorldQ","inverseWorldToScreenQ","worldToScreenQ","originalPoseAdjustQ","setScreenTransform_","resetQ","orientationOut_","start","getDeviceParams","newDeviceParams","calcDeviceParams_","db","rules","matched","rule","ruleMatches_","dpi","bw","ua","res","resX","resY","sensorSample","addAccelMeasurement","vector","addGyroMeasurement","deltaT","timestampDeltaS","isNaN","run_","accelToQuaternion_","gyroDeltaQ","gyroToQuaternionDelta_","invFilterQ","quat","toFixed","targetQ","getOrientation","accel","normAccel","gyro","dt","getPrediction","currentQ","angularSpeed","predictAngle","getPosition","_deviceOrientationQ","deviceOrientationFixQ","deviceOrientationFilterToWorldQ","filterOrientation","resetPose","onDeviceOrientation_","beta","gamma","onDeviceMotion_","deviceMotion","updateDeviceMotion_","accGravity","accelerationIncludingGravity","rotRate","rotationRate","timeStamp","deltaS","onOrientationChange_","screenOrientation","onMessage_","data","toLowerCase","deviceMotionEvent","isFramed","refOrigin","thisOrigin","onDeviceMotionCallback_","bind","onOrientationChangeCallback_","onMessageCallback_","onDeviceOrientationCallback_","referrer","location","href","stop","SENSOR_FREQUENCY","X_AXIS","Z_AXIS","SENSOR_TO_VR","PoseSensor","sensor","fusionSensor","_out","api","errors","_sensorQ","_outQ","_onSensorRead","_onSensorError","init","RelativeOrientationSensor","frequency","referenceFrame","useDeviceMotion","K_FILTER","PREDICTION_TIME_S","YAW_ONLY","DEBUG","RotateInstructions","loadIcon_","overlay","createElement","backgroundColor","fontFamily","zIndex","img","icon","marginLeft","marginTop","appendChild","text","textAlign","fontSize","lineHeight","margin","innerHTML","snackbar","padding","boxSizing","snackbarText","float","snackbarButton","fontWeight","textTransform","borderLeft","paddingLeft","textDecoration","hide","show","parent","parentElement","removeChild","body","querySelector","showTemporarily","ms","timer","disableShowTemporarily","clearTimeout","update","encodeURIComponent","DEFAULT_VIEWER","VIEWER_KEY","ViewerSelector","defaultViewer","selectedKey","localStorage","getItem","dialog","createDialog_","root","onChangeCallbacks_","selected","checked","contains","getCurrentViewer","getSelectedKey_","input","onChange","cb","fireOnChange_","onSave_","setItem","container","classList","background","overflow","boxShadow","createH1_","createChoice_","createButton_","h1","marginBottom","div","onclick","button","letterSpacing","border","NoSleep","NoSleep$1","factory","modules","installedModules","__webpack_require__","moduleId","c","getter","o","n","object","property","_createClass","mediaFile","oldIOS","parseFloat","exec","MSStream","_classCallCheck","noSleepTimer","noSleepVideo","currentTime","random","setInterval","play","clearInterval","pause","nextDisplayId","defaultLeftBounds","defaultRightBounds","raf","caf","VRDisplayCapabilities","hasPosition","hasExternalDisplay","canPresent","maxLayers","hasOrientation","VRDisplay","USE_WAKELOCK","wakelock","isPolyfilled","displayId","displayName","isPresenting","capabilities","stageParameters","waitingForPresent_","layer_","originalParent_","fullscreenElement_","fullscreenWrapper_","fullscreenElementCachedStyle_","fullscreenEventTarget_","fullscreenChangeHandler_","fullscreenErrorHandler_","wakelock_","getFrameData","_getPose","getPose","_resetPose","getImmediatePose","wrapForFullscreen","element","cssProperties","insertBefore","firstChild","applyFullscreenElementStyle","removeFullscreenWrapper","removeAttribute","requestPresent","layers","wasPresenting","incomingLayer","source","updatePresent_","predistorted","slice","fullscreenElement","addFullscreenListeners_","actualFullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","lock","catch","beginPresent_","unlock","disableWakeLock","endPresent_","removeFullscreenListeners_","fireVRDisplayPresentChange_","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","enableWakeLock","exitPresent","getLayers","CustomEvent","detail","fireVRDisplayConnect_","changeHandler","errorHandler","fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled","getEyeParameters","whichEye","ADDITIONAL_VIEWERS","MOBILE_WAKE_LOCK","DPDB_URL","CARDBOARD_UI_DISABLED","ROTATE_INSTRUCTIONS_DISABLED","BUFFER_SCALE","DIRTY_SUBMIT_FRAME_BINDINGS","Eye","LEFT","RIGHT","CardboardVRDisplay","config$$1","defaults","bufferScale_","poseSensor_","distorter_","cardboardUI_","dpdb_","onDeviceParamsUpdated_","deviceInfo_","viewerSelector_","onViewerChanged_","rotateInstructions_","onResize_","linearVelocity","linearAcceleration","angularVelocity","angularAcceleration","fieldOfView","eyeParams","renderWidth","renderHeight","newParams","updateBounds_","stopPropagation","preventDefault","orientationHandler","vrdisplaypresentchangeHandler","fireVRDisplayDeviceParamsChange_","lastWidth","lastHeight","vrdisplay","VRFrameData","PolyfilledXRDevice","onWindowResize","create$2","create$3","clone$3","copy$3","normalize$1","forEach$1","create$4","setAxisAngle","rad","multiply$4","aw","omega","cosom","sinom","scale0","scale1","invert$2","a0","a1","a2","a3","dot$$1","invDot","fromMat3","fTrace","fRoot","k","fromEuler","halfToRad","sx","cx","sy","cy","sz","cz","clone$4","copy$4","normalize$2","rotationTo","tmpvec3","xUnitVec3","yUnitVec3","sqlerp","temp1","temp2","setAxes","matr","up","HEAD_ELBOW_OFFSET_RIGHTHANDED","HEAD_ELBOW_OFFSET_LEFTHANDED","ELBOW_WRIST_OFFSET","WRIST_CONTROLLER_OFFSET","ARM_EXTENSION_OFFSET","ELBOW_BEND_RATIO","EXTENSION_RATIO_WEIGHT","MIN_ANGULAR_SPEED","MIN_ANGLE_DELTA","MIN_EXTENSION_COS","MAX_EXTENSION_COS","RAD_TO_DEG","eulerFromQuaternion","order","clamp","min$$1","max$$1","sqx","sqy","sqz","sqw","atan2","asin","OrientationArmModel","hand","headElbowOffset","controllerQ","lastControllerQ","headQ","headPos","elbowPos","wristPos","time","lastTime","rootQ","setHandedness","controllerOrientation","headPoseMatrix","headYawQ","getHeadYawOrientation_","angleDelta","quatAngle_","controllerForward","controllerDotY","extensionRatio","clamp_","controllerCameraQ","elbowOffset","totalAngle","totalAngleDeg","lerpValue","pow","wristQ","invWristQ","elbowQ","headEuler","destinationQ","q1","q2","vec1","vec2","GamepadXRInputSource","primaryButtonIndex","gamepad","lastPosition","basePoseMatrix","inputPoses","WeakMap","primaryActionPressed","armModel","updateFromGamepad","updateBasePoseMatrix","getXRInputPose","inputPose","rayTransformMatrix","TEST_ENV","EXTRA_PRESENTATION_ATTRIBUTES","highRefreshRate","PRIMARY_BUTTON_MAP","oculus","openvr","SESSION_ID","Session","polyfillOptions","modifiedCanvasLayer","renderContext","WebVRDevice","sessions","baseModelMatrix","gamepadInputSources","tempVec3","onVRDisplayPresentChange","CAN_USE_GAMEPAD","HAS_BITMAP_SUPPORT","attributes","getPrimaryButtonIndex","primaryButton","buttons","prevInputSources","gamepads","getGamepads","pressed","outputCanvas","oWidth","offsetWidth","oHeight","offsetHeight","mirroring","iCanvas","iWidth","iHeight","oCanvas","transferToImageBitmap","transferFromImageBitmap","resizeWidth","resizeHeight","bitmap","drawImage","sizeX","sizeZ","sittingToStandingTransform","inputSources","CardboardXRDevice","getXRDevice","xr","getVRDisplay","displays","getVRDisplays","webvr","cardboard","CONFIG_DEFAULTS","partials","nativeWebXR","injected","_patchRequestDevice","_injectPolyfill","every","iface","className","keys","polyfilledCtx","WebGLRenderingContext","HTMLCanvasElement","OffscreenCanvas","WebGL2RenderingContext","p5vr","xrSession","xrFrameOfRef","onVRSessionStarted","onSessionEnded","createCanvas","windowWidth","windowHeight","WEBGL","p5","onXRFrame","onVRButtonClicked","_renderer","uMVMatrix","uPMatrix","drawing","createVRCanvas","WebXRVersionShim","initVR","_pInst","xrButton","getElementById","disabled","fill","translate","strokeWeight","rotateX","rotateY","box","_update","RendererGL","ambientLightColors","directionalLightDirections","directionalLightColors","pointLightPositions","pointLightColors"],"mappings":";;AAk0KeA,IAAAA,EAAAA,UAAAA,GAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EA/tKf,MAAMC,OAA4B,IAAXC,EAAyBA,EAChB,oBAATC,KAAuBA,KACZ,oBAAXC,OAAyBA,OAAS,GAEnDC,EAAUC,OAAO,gCACvB,MAAMC,EACJC,cACOH,KAAAA,GAAW,CACdI,UAAW,IAAIC,KAGnBC,iBAAiBC,EAAMC,GACjB,GAAgB,iBAATD,EAA2B,MAAA,IAAIE,MAAM,2BAC5C,GAAoB,mBAAbD,EAAiC,MAAA,IAAIC,MAAM,iCAChDC,MAAAA,EAAiB,KAAKV,GAASI,UAAUO,IAAIJ,IAAS,GAC5DG,EAAeE,KAAKJ,GACfR,KAAAA,GAASI,UAAUS,IAAIN,EAAMG,GAEpCI,oBAAoBP,EAAMC,GACpB,GAAgB,iBAATD,EAA2B,MAAA,IAAIE,MAAM,2BAC5C,GAAoB,mBAAbD,EAAiC,MAAA,IAAIC,MAAM,iCAChDC,MAAAA,EAAiB,KAAKV,GAASI,UAAUO,IAAIJ,IAAS,GACvD,IAAA,IAAIQ,EAAIL,EAAeM,OAAQD,GAAK,EAAGA,IACtCL,EAAeK,KAAOP,GACxBE,EAAeO,MAIrBC,cAAcX,EAAMY,GACZT,MAAAA,EAAiB,KAAKV,GAASI,UAAUO,IAAIJ,IAAS,GACtDa,EAAQ,GACT,IAAA,IAAIL,EAAI,EAAGA,EAAIL,EAAeM,OAAQD,IACzCK,EAAML,GAAKL,EAAeK,GAEvB,IAAA,IAAIP,KAAYY,EACnBZ,EAASW,GAEsB,mBAAtB,UAAUZ,MACb,UAAIA,KAAQY,IAKxB,MAAME,EAAYpB,OAAO,uBACzB,MAAMqB,UAAWpB,EACfC,YAAYoB,GACV,QACKF,KAAAA,GAAa,CAChBE,OAAAA,GAGEC,sBACED,MAAAA,QAAe,KAAKF,GAAWE,OACjCA,GAAAA,EACKA,OAAAA,EAEH,MAAA,IAAId,MAAM,kBAIpB,IAAIgB,EACJ,GAAI,gBAAiB7B,IAAY,EAAO,CAClC8B,IAAAA,EAAYC,KAAKF,MACrBA,EAAM,KAAME,KAAKF,MAAQC,QAEzBD,EAAM,KAAMG,YAAYH,OAE1B,IAAII,EAAQJ,EAEZ,MAAMK,EAAY7B,OAAO,0CACzB,MAAM8B,EACJ5B,YAAY6B,EAAQC,EAAKC,GAClBJ,KAAAA,GAAa,CAAEE,OAAAA,EAAQC,IAAAA,EAAKC,UAAAA,GACjCC,OAAOC,OAAO,KAAMH,GAElBD,aAAkB,OAAA,KAAKF,GAAWE,QAGxC,MAAMK,EAAU,KAChB,IAAIC,EAAsC,oBAAjBC,aAAgCA,aAAeC,MAGxE,MAAMC,EAASC,KAAKC,GAAK,IAEzB,SAASC,IACHC,IAAAA,EAAM,IAAIP,EAAW,IAmBlBO,OAlBJP,GAAcC,eACfM,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,GAEZA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAGT,SAASC,EAAKD,EAAKE,GAiBVF,OAhBPA,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,IAAME,EAAE,IACZF,EAAI,IAAME,EAAE,IACZF,EAAI,IAAME,EAAE,IACZF,EAAI,IAAME,EAAE,IACZF,EAAI,IAAME,EAAE,IACZF,EAAI,IAAME,EAAE,IACLF,EAIT,SAASG,EAASH,GAiBTA,OAhBPA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACHA,EAGT,SAASI,EAAOJ,EAAKE,GACfG,IAAAA,EAAMH,EAAE,GAAII,EAAMJ,EAAE,GAAIK,EAAML,EAAE,GAAIM,EAAMN,EAAE,GAC5CO,EAAMP,EAAE,GAAIQ,EAAMR,EAAE,GAAIS,EAAMT,EAAE,GAAIU,EAAMV,EAAE,GAC5CW,EAAMX,EAAE,GAAIY,EAAMZ,EAAE,GAAIa,EAAMb,EAAE,IAAKc,EAAMd,EAAE,IAC7Ce,EAAMf,EAAE,IAAKgB,EAAMhB,EAAE,IAAKiB,EAAMjB,EAAE,IAAKkB,EAAMlB,EAAE,IAC/CmB,EAAMhB,EAAMK,EAAMJ,EAAMG,EACxBa,EAAMjB,EAAMM,EAAMJ,EAAME,EACxBc,EAAMlB,EAAMO,EAAMJ,EAAMC,EACxBe,EAAMlB,EAAMK,EAAMJ,EAAMG,EACxBe,EAAMnB,EAAMM,EAAMJ,EAAME,EACxBgB,EAAMnB,EAAMK,EAAMJ,EAAMG,EACxBgB,EAAMd,EAAMK,EAAMJ,EAAMG,EACxBW,EAAMf,EAAMM,EAAMJ,EAAME,EACxBY,EAAMhB,EAAMO,EAAMJ,EAAMC,EACxBa,EAAMhB,EAAMK,EAAMJ,EAAMG,EACxBa,EAAMjB,EAAMM,EAAMJ,EAAME,EACxBc,EAAMjB,EAAMK,EAAMJ,EAAMG,EACxBc,EAAMZ,EAAMW,EAAMV,EAAMS,EAAMR,EAAMO,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EACxE,OAACM,GAGLA,EAAM,EAAMA,EACZjC,EAAI,IAAMU,EAAMsB,EAAMrB,EAAMoB,EAAMnB,EAAMkB,GAAOG,EAC/CjC,EAAI,IAAMO,EAAMwB,EAAMzB,EAAM0B,EAAMxB,EAAMsB,GAAOG,EAC/CjC,EAAI,IAAMkB,EAAMQ,EAAMP,EAAMM,EAAML,EAAMI,GAAOS,EAC/CjC,EAAI,IAAMe,EAAMU,EAAMX,EAAMY,EAAMV,EAAMQ,GAAOS,EAC/CjC,EAAI,IAAMW,EAAMkB,EAAMpB,EAAMuB,EAAMpB,EAAMgB,GAAOK,EAC/CjC,EAAI,IAAMK,EAAM2B,EAAMzB,EAAMsB,EAAMrB,EAAMoB,GAAOK,EAC/CjC,EAAI,IAAMmB,EAAMI,EAAMN,EAAMS,EAAMN,EAAME,GAAOW,EAC/CjC,EAAI,IAAMa,EAAMa,EAAMX,EAAMQ,EAAMP,EAAMM,GAAOW,EAC/CjC,EAAI,IAAMS,EAAMsB,EAAMrB,EAAMmB,EAAMjB,EAAMe,GAAOM,EAC/CjC,EAAI,IAAMM,EAAMuB,EAAMxB,EAAM0B,EAAMvB,EAAMmB,GAAOM,EAC/CjC,EAAI,KAAOiB,EAAMQ,EAAMP,EAAMK,EAAMH,EAAMC,GAAOY,EAChDjC,EAAI,KAAOc,EAAMS,EAAMV,EAAMY,EAAMT,EAAMK,GAAOY,EAChDjC,EAAI,KAAOU,EAAMkB,EAAMnB,EAAMqB,EAAMnB,EAAMgB,GAAOM,EAChDjC,EAAI,KAAOK,EAAMyB,EAAMxB,EAAMsB,EAAMrB,EAAMoB,GAAOM,EAChDjC,EAAI,KAAOkB,EAAMI,EAAML,EAAMO,EAAML,EAAME,GAAOY,EAChDjC,EAAI,KAAOa,EAAMW,EAAMV,EAAMQ,EAAMP,EAAMM,GAAOY,EACzCjC,GAnBE,KAuBX,SAASkC,EAASlC,EAAKE,EAAGiC,GACpB9B,IAAAA,EAAMH,EAAE,GAAII,EAAMJ,EAAE,GAAIK,EAAML,EAAE,GAAIM,EAAMN,EAAE,GAC5CO,EAAMP,EAAE,GAAIQ,EAAMR,EAAE,GAAIS,EAAMT,EAAE,GAAIU,EAAMV,EAAE,GAC5CW,EAAMX,EAAE,GAAIY,EAAMZ,EAAE,GAAIa,EAAMb,EAAE,IAAKc,EAAMd,EAAE,IAC7Ce,EAAMf,EAAE,IAAKgB,EAAMhB,EAAE,IAAKiB,EAAMjB,EAAE,IAAKkB,EAAMlB,EAAE,IAC/CkC,EAAMD,EAAE,GAAIE,EAAKF,EAAE,GAAIG,EAAKH,EAAE,GAAII,EAAKJ,EAAE,GAoBtCnC,OAnBPA,EAAI,GAAKoC,EAAG/B,EAAMgC,EAAG5B,EAAM6B,EAAGzB,EAAM0B,EAAGtB,EACvCjB,EAAI,GAAKoC,EAAG9B,EAAM+B,EAAG3B,EAAM4B,EAAGxB,EAAMyB,EAAGrB,EACvClB,EAAI,GAAKoC,EAAG7B,EAAM8B,EAAG1B,EAAM2B,EAAGvB,EAAMwB,EAAGpB,EACvCnB,EAAI,GAAKoC,EAAG5B,EAAM6B,EAAGzB,EAAM0B,EAAGtB,EAAMuB,EAAGnB,EACvCgB,EAAKD,EAAE,GAAIE,EAAKF,EAAE,GAAIG,EAAKH,EAAE,GAAII,EAAKJ,EAAE,GACxCnC,EAAI,GAAKoC,EAAG/B,EAAMgC,EAAG5B,EAAM6B,EAAGzB,EAAM0B,EAAGtB,EACvCjB,EAAI,GAAKoC,EAAG9B,EAAM+B,EAAG3B,EAAM4B,EAAGxB,EAAMyB,EAAGrB,EACvClB,EAAI,GAAKoC,EAAG7B,EAAM8B,EAAG1B,EAAM2B,EAAGvB,EAAMwB,EAAGpB,EACvCnB,EAAI,GAAKoC,EAAG5B,EAAM6B,EAAGzB,EAAM0B,EAAGtB,EAAMuB,EAAGnB,EACvCgB,EAAKD,EAAE,GAAIE,EAAKF,EAAE,GAAIG,EAAKH,EAAE,IAAKI,EAAKJ,EAAE,IACzCnC,EAAI,GAAKoC,EAAG/B,EAAMgC,EAAG5B,EAAM6B,EAAGzB,EAAM0B,EAAGtB,EACvCjB,EAAI,GAAKoC,EAAG9B,EAAM+B,EAAG3B,EAAM4B,EAAGxB,EAAMyB,EAAGrB,EACvClB,EAAI,IAAMoC,EAAG7B,EAAM8B,EAAG1B,EAAM2B,EAAGvB,EAAMwB,EAAGpB,EACxCnB,EAAI,IAAMoC,EAAG5B,EAAM6B,EAAGzB,EAAM0B,EAAGtB,EAAMuB,EAAGnB,EACxCgB,EAAKD,EAAE,IAAKE,EAAKF,EAAE,IAAKG,EAAKH,EAAE,IAAKI,EAAKJ,EAAE,IAC3CnC,EAAI,IAAMoC,EAAG/B,EAAMgC,EAAG5B,EAAM6B,EAAGzB,EAAM0B,EAAGtB,EACxCjB,EAAI,IAAMoC,EAAG9B,EAAM+B,EAAG3B,EAAM4B,EAAGxB,EAAMyB,EAAGrB,EACxClB,EAAI,IAAMoC,EAAG7B,EAAM8B,EAAG1B,EAAM2B,EAAGvB,EAAMwB,EAAGpB,EACxCnB,EAAI,IAAMoC,EAAG5B,EAAM6B,EAAGzB,EAAM0B,EAAGtB,EAAMuB,EAAGnB,EACjCpB,EAcT,SAASwC,EAAwBxC,EAAKyC,EAAGC,GACnCC,IAAAA,EAAIF,EAAE,GAAIG,EAAIH,EAAE,GAAII,EAAIJ,EAAE,GAAIK,EAAIL,EAAE,GACpCM,EAAKJ,EAAIA,EACTK,EAAKJ,EAAIA,EACTK,EAAKJ,EAAIA,EACTK,EAAKP,EAAII,EACTI,EAAKR,EAAIK,EACTI,EAAKT,EAAIM,EACTI,EAAKT,EAAII,EACTM,EAAKV,EAAIK,EACTM,EAAKV,EAAII,EACTO,EAAKV,EAAIC,EACTU,EAAKX,EAAIE,EACTU,EAAKZ,EAAIG,EAiBNjD,OAhBPA,EAAI,GAAK,GAAKqD,EAAKE,GACnBvD,EAAI,GAAKmD,EAAKO,EACd1D,EAAI,GAAKoD,EAAKK,EACdzD,EAAI,GAAK,EACTA,EAAI,GAAKmD,EAAKO,EACd1D,EAAI,GAAK,GAAKkD,EAAKK,GACnBvD,EAAI,GAAKsD,EAAKE,EACdxD,EAAI,GAAK,EACTA,EAAI,GAAKoD,EAAKK,EACdzD,EAAI,GAAKsD,EAAKE,EACdxD,EAAI,IAAM,GAAKkD,EAAKG,GACpBrD,EAAI,IAAM,EACVA,EAAI,IAAM0C,EAAE,GACZ1C,EAAI,IAAM0C,EAAE,GACZ1C,EAAI,IAAM0C,EAAE,GACZ1C,EAAI,IAAM,EACHA,EAGT,SAAS2D,EAAe3D,EAAK4D,GAIpB5D,OAHPA,EAAI,GAAK4D,EAAI,IACb5D,EAAI,GAAK4D,EAAI,IACb5D,EAAI,GAAK4D,EAAI,IACN5D,EAGT,SAAS6D,EAAY7D,EAAK4D,GACpBE,IAAAA,EAAQF,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAC9BG,EAAI,EA0BD/D,OAzBH8D,EAAQ,GACVC,EAA6B,EAAzBlE,KAAKmE,KAAKF,EAAQ,GACtB9D,EAAI,GAAK,IAAO+D,EAChB/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,GACnBH,EAAI,GAAKA,EAAI,IAAQA,EAAI,GAAKA,EAAI,KAC5CG,EAAiD,EAA7ClE,KAAKmE,KAAK,EAAMJ,EAAI,GAAKA,EAAI,GAAKA,EAAI,KAC1C5D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,GAAK,IAAO+D,EAChB/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,GACpBH,EAAI,GAAKA,EAAI,KACtBG,EAAiD,EAA7ClE,KAAKmE,KAAK,EAAMJ,EAAI,GAAKA,EAAI,GAAKA,EAAI,KAC1C5D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,GAAK,IAAO+D,EAChB/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,IAE7BA,EAAiD,EAA7ClE,KAAKmE,KAAK,EAAMJ,EAAI,IAAMA,EAAI,GAAKA,EAAI,IAC3C5D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,IAAM4D,EAAI,GAAKA,EAAI,IAAMG,EAC7B/D,EAAI,GAAK,IAAO+D,GAEX/D,EAMT,SAASiE,EAAYjE,EAAKkE,EAAMC,EAAQC,EAAMC,GACxCC,IAA8BC,EAA9BD,EAAI,EAAMzE,KAAK2E,IAAIN,EAAO,GAuBvBlE,OAtBPA,EAAI,GAAKsE,EAAIH,EACbnE,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAKsE,EACTtE,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACC,MAAPqE,GAAeA,IAAQI,EAAAA,GACzBF,EAAK,GAAKH,EAAOC,GACjBrE,EAAI,KAAOqE,EAAMD,GAAQG,EACzBvE,EAAI,IAAO,EAAIqE,EAAMD,EAAQG,IAE7BvE,EAAI,KAAO,EACXA,EAAI,KAAO,EAAIoE,GAEVpE,EAGT,MAAM0E,EAAYtH,OAAO,iCACzB,MAAMuH,EACJrH,YAAYsH,GACLF,KAAAA,GAAa,CAChBE,SAAAA,EACAC,eAAgB1E,EAAS,IAAIT,aAAa,KAC1CoF,gBAAiB3E,EAAS,IAAIT,aAAa,KAC3CqF,gBAAiB5E,EAAS,IAAIT,aAAa,MAG3CqF,sBAA2B,OAAA,KAAKL,GAAWK,gBAC/CC,cAAcC,GACJA,OAAAA,EAAKC,KACN,IAAA,OAAe,OAAA,KAAKR,GAAWG,eAC/B,IAAA,QAAgB,OAAA,KAAKH,GAAWI,gBAEjC,MAAA,IAAIlH,MAAO,6BAEnBuH,2BAA2BC,GACnBC,MAAAA,EAAO,KAAKX,GAAWE,SAASU,oBAChCT,EAAiB,KAAKH,GAAWE,SAASW,kBAAkB,QAC5DT,EAAkB,KAAKJ,GAAWE,SAASW,kBAAkB,SAC/DF,GACFD,EAAWI,wBAAwB,KAAKd,GAAWK,gBAAiBM,GAElER,GAAkBC,IACpBM,EAAWK,wBAAwB,KAAKf,GAAWG,eAChBA,EACA,KAAKH,GAAWK,iBACnDK,EAAWK,wBAAwB,KAAKf,GAAWI,gBAChBA,EACA,KAAKJ,GAAWK,mBAKzD,MAAMW,EAAYtI,OAAO,+BACzB,MAAMuI,EACJrI,YAAYsI,GACLF,KAAAA,GAAa,CAAEE,OAAAA,GAElBjD,QAAa,OAAA,KAAK+C,GAAWE,OAAOjD,EACpCC,QAAa,OAAA,KAAK8C,GAAWE,OAAOhD,EACpCiD,YAAiB,OAAA,KAAKH,GAAWE,OAAOC,MACxCC,aAAkB,OAAA,KAAKJ,GAAWE,OAAOE,QAG/C,MAAMC,EAAS,CAAC,OAAQ,SAClBC,EAAY5I,OAAO,2BACzB,MAAM6I,EACJ3I,YAAYsH,EAAUM,EAAKgB,GACrB,IAACH,EAAOI,SAASjB,GACb,MAAA,IAAItH,+BAA+BmI,KAErCK,MAAAA,EAAO9G,OAAOS,OAAO,MACrBsG,EAAW,IAAIV,EAAWS,GAC3BJ,KAAAA,GAAa,CAChBpB,SAAAA,EACAM,IAAAA,EACAmB,SAAAA,EACAD,KAAAA,EACAF,UAAAA,GAGAhB,UAAe,OAAA,KAAKc,GAAWd,IAC/BoB,uBAA4B,OAAA,KAAKN,GAAWpB,SAAS2B,oBAAoB,KAAKrB,KAClFsB,aAAaC,GACM,KAAKT,GAAWK,SAC7B,GAAA,KAAKL,GAAWpB,SAAS8B,YAAY,KAAKV,GAAWE,UAClB,KAAKhB,IACLuB,EACA,KAAKT,GAAWI,MAC9C,OAAA,KAAKJ,GAAWK,UAM7B,MAAMM,EAAYvJ,OAAO,4BACzB,MAAMwJ,EACJtJ,YAAYsH,EAAUiC,EAASX,GACvBY,MAAAA,EAAa,IAAInC,EAAaC,GAC9BmC,EAAQ,CACZ,IAAId,EAAOrB,EAAU,OAAQsB,IAE3BW,EAAQG,WACVD,EAAMhJ,KAAK,IAAIkI,EAAOrB,EAAU,QAASsB,IAEtCS,KAAAA,GAAa,CAChB/B,SAAAA,EACAkC,WAAAA,EACAC,MAAAA,EACAF,QAAAA,GAGAA,cAAmB,OAAA,KAAKF,GAAWE,QACnCE,YAAiB,OAAA,KAAKJ,GAAWI,MACrCE,cAAcC,GAEL,OADFP,KAAAA,GAAWG,WAAW3B,2BAA2B+B,GAC/C,KAAKP,GAAWG,WAEzBK,aAAaC,EAAaF,GACjB,OAAA,KAAKP,GAAW/B,SAASuC,aAAaC,EAAaF,IAI9D,MAAMG,EAAYjK,OAAO,uCACzB,MAAMkK,EACJhK,YAAYqF,EAAGE,GACRwE,KAAAA,GAAa,CAAE1E,EAAAA,EAAGE,EAAAA,GAErBF,QAAa,OAAA,KAAK0E,GAAW1E,EAC7BE,QAAa,OAAA,KAAKwE,GAAWxE,GAGnC,MAAM0E,EAAYnK,OAAO,kCACzB,MAAMoK,EACJlK,YAAYmK,GACJC,MAAAA,EAAW,GACZ,IAAA,IAAIxJ,EAAI,EAAGA,EAAIuJ,EAAWtJ,OAAQD,GAAK,EAC1CwJ,EAAS3J,KAAK,IAAIuJ,EAAmBG,EAAWvJ,GAAIuJ,EAAWvJ,EAAI,KAEhEqJ,KAAAA,GAAa,CAAEG,SAAAA,GAElBA,eAAoB,OAAA,KAAKH,GAAWG,UAG1C,MAAMC,EACJrK,eACAsK,eAAeC,GACP,MAAA,IAAIjK,MAAM,sBAIpB,MAAMkK,EAA2B,IAC3BC,EAAY3K,OAAO,uCACnB4K,EAA0B,CAAC,aAAc,YAAa,SACtDC,EAA4B3I,OAAO4I,OAAO,CAC9CC,uBAAuB,EACvBC,qBAAsB,IAExB,MAAMC,UAA2BV,EAC/BrK,YAAYsH,EAAUlH,EAAM4K,EAASC,EAAWC,GAE1C,GADJF,EAAUhJ,OAAOC,OAAO,GAAI0I,EAA2BK,IAClDN,EAAwB7B,SAASzI,GAC9B,MAAA,IAAIE,+CAA+CoK,KAGvDtK,GADJ,QACa,UAATA,GAAoB4K,EAAQH,wBAA0BI,EAClD,MAAA,IAAI3K,MAAO,oGAEb,MAAA,sBAAEuK,EAAF,qBAAyBC,GAAyBE,EACpDG,IAAAA,EAAiB,EACR,UAAT/K,GAAqB6K,IACvBE,EAA0C,IAAzBL,EAA6BA,EAAuBN,GAE1D,UAATpK,GAAqB6K,KACvBA,EAAYpI,EAAS,IAAIT,aAAa,MAC5B,IAAM+I,GAEbV,KAAAA,GAAa,CAChBI,sBAAAA,EACAC,qBAAAA,EACAK,eAAAA,EACA/K,KAAAA,EACA6K,UAAAA,EACA3D,SAAAA,EACA4D,OAAAA,GAEGE,KAAAA,oBAAiBC,EAEpBH,aAAkB,OAAA,KAAKT,GAAWS,OAClCC,qBAA0B,OAAA,KAAKV,GAAWU,eAC1C/K,WAAgB,OAAA,KAAKqK,GAAWrK,KACpC8H,wBAAwBxF,EAAKqF,GACvB,GAAA,KAAK0C,GAAWQ,UAClBrG,EAASlC,EAAK,KAAK+H,GAAWQ,UAAWlD,QAGnC,OAAA,KAAK3H,MACN,IAAA,aAKH,OAJIsC,IAAQqF,GACVpF,EAAKD,EAAKqF,QAEZrF,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAM,GAE3B,IAAA,YAIH,YAHIA,IAAQqF,GACVpF,EAAKD,EAAKqF,KAKlBI,wBAAwBzF,EAAKiF,GACvBG,IAAAA,EAAa,KAAK2C,GAAWQ,UAC7BnD,GAAAA,EACFhF,EAAOJ,EAAKoF,GACZlD,EAASlC,EAAKiF,EAAMjF,OAEjB,CAAA,GAAkB,eAAd,KAAKtC,KAMLsC,OALPI,EAAOJ,EAAKiF,GACZjF,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVI,EAAOJ,EAAKA,GACLA,EAGPC,EAAKD,EAAKiF,GAELjF,OAAAA,GAIX,MAAM4I,EAAaxL,OAAO,8BACpByL,EAA2BvJ,OAAO4I,OAAO,CAC7ClB,WAAW,EACX8B,mBAAeH,IAEXI,EAAyBT,IACvB,MAAA,UAAEtB,EAAF,cAAa8B,GAAkBR,EACjC,SAACtB,IAAc8B,UAGGH,IAAlBG,GAAiCA,aAAyB5J,IAKhE,MAAM8J,UAAkB3L,EACtBC,YAAYsH,EAAUlG,EAAQuK,EAAgBC,GAC5CD,EAAiB3J,OAAOC,OAAO,GAAIsJ,EAA0BI,GAC7D,QACM,MAAA,UAAEjC,EAAF,cAAa8B,GAAkBG,EAChCL,KAAAA,GAAc,CACjBhE,SAAAA,EACAlG,OAAAA,EACAsI,UAAAA,EACA8B,cAAAA,EACAK,OAAO,EACPC,WAAW,EACXC,kBAAmB,KACnBH,GAAAA,GAEII,MAAAA,EAAQ,IAAI1C,EAAQhC,EAAU,KAAM,KAAKgE,GAAYM,IACtDN,KAAAA,GAAYU,MAAQA,EACpBV,KAAAA,GAAYW,kBAAoBrD,CAAAA,IAC/BA,GAAAA,IAAc,KAAK0C,GAAYM,GAAI,CAChCN,KAAAA,GAAYQ,WAAY,EACxB/K,KAAAA,cAAc,QAAS,CAAEwI,QAAS,OACjCwC,MAAAA,EAAoB,KAAKT,GAAYS,kBAK3C,OAJKT,KAAAA,GAAYS,kBAAoB,UACjCA,GACGG,KAAAA,sBAAsBH,IAI1BT,KAAAA,GAAYO,OAAQ,EACzBvE,EAAS3G,oBAAoB,iCAAkC,KAAK2K,GAAYW,mBAChF3E,EAAS3G,oBAAoB,mCAAoC,KAAK2K,GAAYa,qBAClF7E,EAAS3G,oBAAoB,sCAAuC,KAAK2K,GAAYc,eACrF9E,EAAS3G,oBAAoB,oCAAqC,KAAK2K,GAAYe,aAC9EtL,KAAAA,cAAc,MAAO,CAAEwI,QAAS,SAEvCjC,EAASnH,iBAAiB,kCAAmC,KAAKmL,GAAYW,mBACzEX,KAAAA,GAAYa,oBAAsBvD,CAAAA,IACjCA,IAAc,KAAK0C,GAAYM,KAG9BN,KAAAA,GAAYQ,WAAY,EACxB/K,KAAAA,cAAc,OAAQ,CAAEwI,QAAS,UAExCjC,EAASnH,iBAAiB,oCAAqC,KAAKmL,GAAYa,qBAC3Eb,KAAAA,GAAYc,cAAgBE,CAAAA,IAC3BA,EAAI1D,YAAc,KAAK0C,GAAYM,IAGlC7K,KAAAA,cAAc,cAAe,CAChCiL,MAAO,KAAKV,GAAYU,MACxBlC,YAAawC,EAAIxC,gBAGrBxC,EAASnH,iBAAiB,sCAAuC,KAAKmL,GAAYc,eAC7Ed,KAAAA,GAAYe,YAAcC,CAAAA,IACzBA,EAAI1D,YAAc,KAAK0C,GAAYM,KAGlC7K,KAAAA,cAAc,YAAa,CAC9BiL,MAAO,KAAKV,GAAYU,MACxBlC,YAAawC,EAAIxC,cAEd/I,KAAAA,cAAc,SAAW,CAC5BiL,MAAO,KAAKV,GAAYU,MACxBlC,YAAawC,EAAIxC,iBAGrBxC,EAASnH,iBAAiB,oCAAqC,KAAKmL,GAAYe,aAC3EE,KAAAA,YAASlB,EACTmB,KAAAA,aAAUnB,EACVoB,KAAAA,iBAAcpB,EACdqB,KAAAA,WAAQrB,EACRsB,KAAAA,cAAWtB,EACXuB,KAAAA,mBAAgBvB,EAChBwB,KAAAA,iBAAcxB,EAEjBjK,aAAkB,OAAA,KAAKkK,GAAYlK,OACnCsI,gBAAqB,OAAA,KAAK4B,GAAY5B,UACtC8B,oBAAyB,OAAA,KAAKF,GAAYE,cAC1CsB,gBAAqB,OAAA,KAAKxB,GAAYhE,SAASwF,UAC/CA,cAAUC,GAAczB,KAAAA,GAAYhE,SAASwF,UAAYC,EACzDC,eAAoB,OAAA,KAAK1B,GAAYhE,SAAS0F,SAC9CA,aAASD,GAAczB,KAAAA,GAAYhE,SAAS0F,SAAWD,EACvDE,2BACK,OAAA,KAAK3B,GAAYhE,SAAS2F,sBAAwB,SAEvDC,gBAAqB,OAAA,KAAK5B,GAAY4B,UACtCA,cAAUH,GACR,KAAKzB,GAAYO,QAGhBP,KAAAA,GAAY4B,UAAYH,EACxBzB,KAAAA,GAAYhE,SAAS6F,eAAe,KAAK7B,GAAYM,GAAImB,IAE1DK,8BAAwBhN,EAAM4K,EAAQ,IACtC,GAAA,KAAKM,GAAYO,MACnB,OAGE,GADJb,EAAUhJ,OAAOC,OAAO,GAAI0I,EAA2BK,IAClDN,EAAwB7B,SAASzI,GAC9B,MAAA,IAAIiN,mDAAmD3C,KAE3DO,IAAAA,EAAY,KACZC,EAAS,KACT,IACFD,QAAkB,KAAKK,GAAYhE,SAASgG,iCAAiClN,EAAM4K,GACnF,MAAOuC,GACHnN,GAAS,UAATA,GAAoB4K,EAAQH,sBACxB0C,MAAAA,EASH,MANM,UAATnN,GAAoB6K,IACtBC,EAAS,KAAKI,GAAYhE,SAASkG,wBAEjCtC,EAAS,IAAIhB,EAAcgB,IAGxB,IAAIH,EAAmB,KAAKO,GAAYhE,SAAUlH,EAAM4K,EAASC,EAAWC,GAErFgB,sBAAsBuB,GAChB,KAAA,KAAKnC,GAAYO,OAGjB,KAAKP,GAAYQ,WAAa,KAAKR,GAAYS,mBAM5C,OAHH,KAAKT,GAAYQ,YAAc,KAAKR,GAAYS,oBAC7CT,KAAAA,GAAYS,kBAAoB0B,GAEhC,KAAKnC,GAAYhE,SAAS4E,sBAAsB,KAChDZ,KAAAA,GAAYhE,SAASoG,aAAa,KAAKpC,GAAYM,IACxD6B,EAAS/L,IAAS,KAAK4J,GAAYU,OAC9BV,KAAAA,GAAYhE,SAASqG,WAAW,KAAKrC,GAAYM,MAG1DgC,qBAAqBC,GACf,KAAKvC,GAAYO,OAGhBP,KAAAA,GAAYhE,SAASsG,qBAAqBC,GAEjDC,kBACS,OAAA,KAAKxC,GAAYhE,SAASwG,kBAE7BC,YACA,IAAA,KAAKzC,GAAYO,MAed,OAZF,KAAKnC,YACH4B,KAAAA,GAAYO,OAAQ,EACpBP,KAAAA,GAAYhE,SAAS3G,oBAAoB,oCACH,KAAK2K,GAAYa,qBACvDb,KAAAA,GAAYhE,SAAS3G,oBAAoB,kCACH,KAAK2K,GAAYW,mBACvDX,KAAAA,GAAYhE,SAAS3G,oBAAoB,sCACH,KAAK2K,GAAYc,eACvDd,KAAAA,GAAYhE,SAAS3G,oBAAoB,oCACH,KAAK2K,GAAYe,aACvDtL,KAAAA,cAAc,MAAO,CAAEwI,QAAS,QAEhC,KAAK+B,GAAYhE,SAAS0G,WAAW,KAAK1C,GAAYM,KAIjE,MAAMqC,EAAanO,OAAO,6BAC1B,MAAMoO,UAAiBnO,EACrBC,YAAYsH,GACN,IAACA,EACG,MAAA,IAAIhH,MAAM,+CAElB,QACK2N,KAAAA,GAAc,CACjB3G,SAAAA,EACA6G,iBAAkB,KAClBC,qBAAsB,IAAIC,KAEvBC,KAAAA,gBAAajD,EAEdkD,sBAAgB5C,EAAe,IAE/B,OADJA,EAAiB3J,OAAOC,OAAO,GAAIsJ,EAA0BI,GACxDF,EAAuBE,IAGvB,KAAKsC,GAAY3G,SAASiH,gBAAgB5C,GAGxC,KALE6C,QAAQC,OAAO,MAOpBC,qBAAe/C,GAEf,GADJA,EAAiB3J,OAAOC,OAAO,GAAIsJ,EAA0BI,IACxDF,EAAuBE,GACpB,MAAA,IAAIrL,MAAM,qBAEd,GAAA,KAAK2N,GAAYE,kBAAoBxC,EAAejC,UAChD,MAAA,IAAIpJ,MAAM,qBAEZsI,MAAAA,QAAkB,KAAKqF,GAAY3G,SAASoH,eAAe/C,GAC3DpC,EAAU,IAAImC,EAAU,KAAKuC,GAAY3G,SAAU,KAAMqE,EAAgB/C,GAC3E+C,EAAejC,UACZuE,KAAAA,GAAYE,iBAAmB5E,EAE/B0E,KAAAA,GAAYG,qBAAqBO,IAAIpF,GAEtCqF,MAAAA,EAAe,KACfrF,EAAQG,UACLuE,KAAAA,GAAYE,iBAAmB,KAE/BF,KAAAA,GAAYG,qBAAqBS,OAAOtF,GAE/CA,EAAQ5I,oBAAoB,MAAOiO,IAG9BrF,OADPA,EAAQpJ,iBAAiB,MAAOyO,GACzBrF,GAIX,IAAIuF,EAAoB,qBAAsBrP,EAAWsP,iBAAmB,KAC5E,IAAKD,EAAkB,CACfjP,MAAAA,EAAUC,OAAO,qCACvBgP,EAAmB,MACjB9O,YAAYqF,EAAGC,EAAGC,EAAGC,GACfwJ,GAAqB,IAArBA,UAAUnO,OACPhB,KAAAA,GAAW,CACdwF,EAAGA,EAAEA,EACLC,EAAGD,EAAEC,EACLC,EAAGF,EAAEE,EACLC,EAAGH,EAAEG,OAEF,CAAA,GAAyB,IAArBwJ,UAAUnO,OAQb,MAAA,IAAIwM,UAAU,uCAPfxN,KAAAA,GAAW,CACdwF,EAAGA,EACHC,EAAGA,EACHC,EAAGA,EACHC,EAAGA,IAMLH,QAAa,OAAA,KAAKxF,GAASwF,EAC3BC,QAAa,OAAA,KAAKzF,GAASyF,EAC3BC,QAAa,OAAA,KAAK1F,GAAS0F,EAC3BC,QAAa,OAAA,KAAK3F,GAAS2F,IAGnC,IAAIyJ,EAAqBH,EAEzB,MAAMI,EACJlP,YAAYmP,EAAO,IAAIF,EAAmB,EAAG,EAAG,EAAG,GACvCG,EAAU,IAAIH,EAAmB,EAAG,GAAI,EAAG,GAC3CI,EAAgB,IAAIjN,aAAa,KACvC,KAAE+M,aAAkBF,GAChB,MAAA,IAAI3O,MAAM,qCAEd,KAAE8O,aAAqBH,GACnB,MAAA,IAAI3O,MAAM,wCAEd,KAAE+O,aAA2BjN,cACzB,MAAA,IAAI9B,MAAM,0CAElB0B,OAAOsN,iBAAiB,KAAM,CAC5BH,OAAQ,CACNpC,MAAOoC,EACPI,UAAU,GAEZH,UAAW,CACTrC,MAAOqC,EACPG,UAAU,GAEZF,gBAAiB,CACftC,MAAOsC,EACPE,UAAU,MAMlB,MAAMC,EAAa1P,OAAO,gCAC1B,MAAM2P,EACJzP,YAAY0P,EAAiBC,GACtBH,KAAAA,GAAc,CACjBE,gBAAAA,EACAE,UAAW,IAAIV,EACfW,WAAYF,EAAgBlN,IAAW,MAGvCmN,gBAAqB,OAAA,KAAKJ,GAAYI,UACtCA,cAAU7C,GAAcyC,KAAAA,GAAYI,UAAY7C,EAChD+C,uBAA4B,OAAA,KAAKN,GAAYE,gBAAgBI,iBAC7DD,iBAAsB,OAAA,KAAKL,GAAYK,YAG7C,MAAME,EAAajQ,OAAO,kCAC1B,MAAMkQ,EACJhQ,YAAYiQ,GACLF,KAAAA,GAAc,CACjBE,KAAAA,GAGAC,iBAAsB,OAAA,KAAKH,GAAYE,KAAKC,WAC5CC,oBAAyB,OAAA,KAAKJ,GAAYE,KAAKE,eAGrD,MAAMC,GACJpQ,eACAoJ,YAAYzB,GACHA,OAAAA,EAAKuB,aAAa,OAI7B,MAAMmH,GAAkCvQ,OAAO,oDACzCwQ,GAAsBxQ,OAAO,yCAE7ByQ,GAAazQ,OAAO,iCACpB0Q,GAAmBxO,OAAO4I,OAAO,CACrC6F,WAAW,EACXC,OAAO,EACPC,SAAS,EACTC,OAAO,EACPC,WAAW,EACXC,uBAAwB,IAE1B,MAAMC,WAAqBX,GACzBpQ,YAAYuJ,EAASyH,EAASC,EAAU,IAChCC,MAAAA,EAASlP,OAAOC,OAAO,GAAIuO,GAAkBS,GAC/C,KAAE1H,aAAmBmC,GACjB,MAAA,IAAIpL,MAAM,+BAEdiJ,GAAAA,EAAQsC,MACJ,MAAA,IAAIvL,MAAO,qBAEf0Q,GAAAA,EAAQX,KACNW,EAAQV,MAA0B/G,EAAQnI,OACtC,MAAA,IAAId,MAAO,qBAGf6Q,MAAAA,EAAcH,EAAQI,aAAaJ,EAAQK,qBACjD,QACKd,KAAAA,IAAc,CACjBS,QAAAA,EACAE,OAAAA,EACAC,YAAAA,GAGAH,cAAmB,OAAA,KAAKT,IAAYS,QACpCP,gBAAqB,OAAA,KAAKF,IAAYW,OAAOT,UAC7CC,YAAiB,OAAA,KAAKH,IAAYW,OAAOR,MACzCC,cAAmB,OAAA,KAAKJ,IAAYW,OAAOP,QAC3CC,YAAiB,OAAA,KAAKL,IAAYW,OAAON,MACzCC,gBAAqB,OAAA,EACrBM,kBAAuB,OAAA,KAAKZ,IAAYY,YACxCG,uBAA4B,OAAA,KAAKf,IAAYS,QAAQO,mBACrDC,wBAA6B,OAAA,KAAKjB,IAAYS,QAAQS,oBAC1DC,uBAAuBC,GACrBC,QAAQC,KAAK,kDAIjB,IAAIC,GAAM,CACR3Q,GAAAA,EACA+M,SAAAA,EACAxC,UAAAA,EACApC,QAAAA,EACAX,OAAAA,EACAN,WAAAA,EACAhB,aAAAA,EACA+I,QAAAA,GACAW,aAAAA,GACAnP,sBAAAA,EACAyI,mBAAAA,EACAU,mBAAAA,EACAb,cAAAA,EACAF,mBAAAA,EACAyF,YAAAA,EACAO,cAAAA,EACAd,MAAAA,GAGF,MAAM6C,GAAgCC,GACmB,mBAA5CA,EAAQC,UAAUC,wBAG7BF,EAAQC,UAAUC,sBAAwB,SAAUC,GAC3C,OAAA,IAAI3D,QAAQ,CAAC4D,EAAS3D,KACvB0D,GAA+C,mBAA5BA,EAASzD,eAC9B0D,IAEA3D,MAED4D,KAAK,IAAM,KAAK/B,IAAwB6B,KAEtC,GAEHG,GAAqB,CAACC,EAAQC,KAC5BC,MAAAA,EAAaF,EAAON,UAAUQ,WACpCF,EAAON,UAAUQ,WAAa,SAAUC,EAAa3Q,GAC/CyQ,GAAAA,GAAqC,cAAhBE,EAA6B,CAChD5Q,IAAAA,EAAM2Q,EAAWE,KAAK,KAAMH,EAAmBzQ,GAC5C,OAAA,IAAIH,EAAsB,KAAME,EAAKC,GAExCD,MAAAA,EAAM2Q,EAAWE,KAAK,KAAMD,EAAa3Q,GAKxCD,OAJPA,EAAIuO,KAAmC,EACnCtO,GAAc,uBAAwBA,IACxCD,EAAIwO,IAAwBvO,EAAU6Q,oBAEjC9Q,IAIX,SAAS+Q,KACHnQ,IAAAA,EAAM,IAAIP,EAAW,GAMlBO,OALJP,GAAcC,eACfM,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAEJA,EAET,SAASoQ,GAAQlQ,GACXF,IAAAA,EAAM,IAAIP,EAAW,GAIlBO,OAHPA,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACJF,EAET,SAAS7B,GAAO+B,GACVyC,IAAAA,EAAIzC,EAAE,GACN0C,EAAI1C,EAAE,GACN2C,EAAI3C,EAAE,GACHL,OAAAA,KAAKmE,KAAKrB,EAAEA,EAAIC,EAAEA,EAAIC,EAAEA,GAEjC,SAASwN,GAAa1N,EAAGC,EAAGC,GACtB7C,IAAAA,EAAM,IAAIP,EAAW,GAIlBO,OAHPA,EAAI,GAAK2C,EACT3C,EAAI,GAAK4C,EACT5C,EAAI,GAAK6C,EACF7C,EAET,SAASsQ,GAAOtQ,EAAKE,GAIZF,OAHPA,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACJF,EAET,SAASuQ,GAAMvQ,EAAK2C,EAAGC,EAAGC,GAIjB7C,OAHPA,EAAI,GAAK2C,EACT3C,EAAI,GAAK4C,EACT5C,EAAI,GAAK6C,EACF7C,EAET,SAASwQ,GAAMxQ,EAAKE,EAAGiC,GAIdnC,OAHPA,EAAI,GAAKE,EAAE,GAAKiC,EAAE,GAClBnC,EAAI,GAAKE,EAAE,GAAKiC,EAAE,GAClBnC,EAAI,GAAKE,EAAE,GAAKiC,EAAE,GACXnC,EAET,SAASyQ,GAAWzQ,EAAKE,EAAGiC,GAInBnC,OAHPA,EAAI,GAAKE,EAAE,GAAKiC,EAAE,GAClBnC,EAAI,GAAKE,EAAE,GAAKiC,EAAE,GAClBnC,EAAI,GAAKE,EAAE,GAAKiC,EAAE,GACXnC,EAST,SAAS0Q,GAAQ1Q,EAAKE,EAAGiC,GAIhBnC,OAHPA,EAAI,GAAKE,EAAE,GAAKiC,EAChBnC,EAAI,GAAKE,EAAE,GAAKiC,EAChBnC,EAAI,GAAKE,EAAE,GAAKiC,EACTnC,EAQT,SAAS2Q,GAAU3Q,EAAKE,GAClByC,IAAAA,EAAIzC,EAAE,GACN0C,EAAI1C,EAAE,GACN2C,EAAI3C,EAAE,GACN0Q,EAAMjO,EAAEA,EAAIC,EAAEA,EAAIC,EAAEA,EAOjB7C,OANH4Q,EAAM,IACRA,EAAM,EAAI/Q,KAAKmE,KAAK4M,GACpB5Q,EAAI,GAAKE,EAAE,GAAK0Q,EAChB5Q,EAAI,GAAKE,EAAE,GAAK0Q,EAChB5Q,EAAI,GAAKE,EAAE,GAAK0Q,GAEX5Q,EAET,SAAS6Q,GAAI3Q,EAAGiC,GACPjC,OAAAA,EAAE,GAAKiC,EAAE,GAAKjC,EAAE,GAAKiC,EAAE,GAAKjC,EAAE,GAAKiC,EAAE,GAE9C,SAAS2O,GAAM9Q,EAAKE,EAAGiC,GACjB4O,IAAAA,EAAK7Q,EAAE,GAAI8Q,EAAK9Q,EAAE,GAAI+Q,EAAK/Q,EAAE,GAC7BgR,EAAK/O,EAAE,GAAIgP,EAAKhP,EAAE,GAAIiP,EAAKjP,EAAE,GAI1BnC,OAHPA,EAAI,GAAKgR,EAAKI,EAAKH,EAAKE,EACxBnR,EAAI,GAAKiR,EAAKC,EAAKH,EAAKK,EACxBpR,EAAI,GAAK+Q,EAAKI,EAAKH,EAAKE,EACjBlR,EAMT,SAASqR,GAAcrR,EAAKE,EAAGoR,GACzB3O,IAAAA,EAAIzC,EAAE,GAAI0C,EAAI1C,EAAE,GAAI2C,EAAI3C,EAAE,GAC1B4C,EAAIwO,EAAE,GAAK3O,EAAI2O,EAAE,GAAK1O,EAAI0O,EAAE,IAAMzO,EAAIyO,EAAE,IAKrCtR,OAJP8C,EAAIA,GAAK,EACT9C,EAAI,IAAMsR,EAAE,GAAK3O,EAAI2O,EAAE,GAAK1O,EAAI0O,EAAE,GAAKzO,EAAIyO,EAAE,KAAOxO,EACpD9C,EAAI,IAAMsR,EAAE,GAAK3O,EAAI2O,EAAE,GAAK1O,EAAI0O,EAAE,GAAKzO,EAAIyO,EAAE,KAAOxO,EACpD9C,EAAI,IAAMsR,EAAE,GAAK3O,EAAI2O,EAAE,GAAK1O,EAAI0O,EAAE,IAAMzO,EAAIyO,EAAE,KAAOxO,EAC9C9C,EAGT,SAASuR,GAAcvR,EAAKE,EAAGuC,GACvB+O,IAAAA,EAAK/O,EAAE,GAAIgP,EAAKhP,EAAE,GAAIiP,EAAKjP,EAAE,GAAIkP,EAAKlP,EAAE,GACxCE,EAAIzC,EAAE,GAAI0C,EAAI1C,EAAE,GAAI2C,EAAI3C,EAAE,GAC1B0R,EAAMH,EAAK5O,EAAI6O,EAAK9O,EACpBiP,EAAMH,EAAK/O,EAAI6O,EAAK3O,EACpBiP,EAAMN,EAAK5O,EAAI6O,EAAK9O,EACpBoP,EAAON,EAAKK,EAAMJ,EAAKG,EACvBG,EAAON,EAAKE,EAAMJ,EAAKM,EACvBG,EAAOT,EAAKK,EAAMJ,EAAKG,EACvBM,EAAU,EAALP,EAUF3R,OATP4R,GAAOM,EACPL,GAAOK,EACPJ,GAAOI,EACPH,GAAQ,EACRC,GAAQ,EACRC,GAAQ,EACRjS,EAAI,GAAK2C,EAAIiP,EAAMG,EACnB/R,EAAI,GAAK4C,EAAIiP,EAAMG,EACnBhS,EAAI,GAAK6C,EAAIiP,EAAMG,EACZjS,EAKX,SAASmS,GAAMjS,EAAGiC,GACZiQ,IAAAA,EAAQ/B,GAAanQ,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACnCmS,EAAQhC,GAAalO,EAAE,GAAIA,EAAE,GAAIA,EAAE,IACvCwO,GAAUyB,EAAOA,GACjBzB,GAAU0B,EAAOA,GACbC,IAAAA,EAASzB,GAAIuB,EAAOC,GACrBC,OAAAA,EAAS,EACH,EAEDA,GAAU,EACTzS,KAAKC,GAELD,KAAK0S,KAAKD,GAMrB,MAAME,GAAQ/B,GAKRG,GAAMzS,GAENsU,GAAW,WACXC,IAAAA,EAAMvC,KACH,OAAA,SAASjQ,EAAGyS,EAAQC,EAAQC,EAAOC,EAAIC,GACxC7U,IAAAA,EAAG8U,EAYH9U,IAXAyU,IACFA,EAAS,GAEPC,IACFA,EAAS,GAGTI,EADCH,EACGhT,KAAKoT,IAAKJ,EAAQF,EAAUC,EAAQ1S,EAAE/B,QAEtC+B,EAAE/B,OAEJD,EAAI0U,EAAQ1U,EAAI8U,EAAG9U,GAAKyU,EAC1BD,EAAI,GAAKxS,EAAEhC,GAAIwU,EAAI,GAAKxS,EAAEhC,EAAE,GAAIwU,EAAI,GAAKxS,EAAEhC,EAAE,GAC7C4U,EAAGJ,EAAKA,EAAKK,GACb7S,EAAEhC,GAAKwU,EAAI,GAAIxS,EAAEhC,EAAE,GAAKwU,EAAI,GAAIxS,EAAEhC,EAAE,GAAKwU,EAAI,GAExCxS,OAAAA,GApBM,GAwBXgT,GAAyBlW,MAC1BA,EAAOmW,8BACPnW,EAAOoW,mBACNC,GAAoBC,IAClBC,MAAAA,EAAY,GACZC,EAAe,GAOd,OANPjD,GAAMgD,EAAW,EAAG,EAAG,GACvBlC,GAAckC,EAAWA,EAAWD,GACpC/C,GAAMiD,EAAc,EAAG,GAAI,GAC3BnC,GAAcmC,EAAcA,EAAcF,GAC1Cd,GAAMgB,EAAcA,EAAcD,GAClC5C,GAAU6C,EAAcA,GACjB,IAAIhH,EAAM,IAAID,EAAmBgH,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAI,GACjE,IAAIhH,EAAmBiH,EAAa,GAAIA,EAAa,GAAIA,EAAa,GAAI,GAC1EF,IAEbG,GAAWzW,IACX0W,IAAAA,GAAQ,EAELA,OADN,SAASxT,IAAM,2TAA2TyT,KAAKzT,IAAI,0kDAA0kDyT,KAAKzT,EAAE0T,OAAO,EAAE,OAAIF,GAAQ,GAAz7D,CAAi8D1W,EAAO6W,UAAUC,WAAW9W,EAAO6W,UAAUE,QAAQ/W,EAAOgX,OACv/DN,GAEHO,GAAuC9U,IAC3CA,EAAO+U,MAAMC,QAAU,QACvBhV,EAAO+U,MAAME,SAAW,WACxBjV,EAAO+U,MAAMrO,MAAQ1G,EAAO+U,MAAMpO,OAAS,MAC3C3G,EAAO+U,MAAMG,IAAMlV,EAAO+U,MAAMI,KAAO,OAGzC,IAAIC,GAAmC,oBAAXrX,OAAyBA,YAA2B,IAAXF,EAAyBA,EAAyB,oBAATC,KAAuBA,KAAO,GAI5I,SAASuX,GAAe7R,GAChBA,OAAAA,GAAKA,EAAE8R,YAAcnV,OAAOiQ,UAAUmF,eAAezE,KAAKtN,EAAG,WAAaA,EAAC,QAAcA,EAGjG,SAASgS,GAAqB7B,EAAI8B,GAC1BA,OAA0B9B,EAA1B8B,EAAS,CAAEC,QAAS,IAAiBD,EAAOC,SAAUD,EAAOC,QAGrE,IAAIC,GAAqBH,GAAqB,SAAUC,EAAQC,GAE/DD,EAAOC,QACW,WAAkBE,IAic/BC,EA1WAC,EACA5K,EAxF+B0K,EAAiB,SAAUG,EAAUC,GACpE,KAAED,aAAoBC,GAClB,MAAA,IAAIxK,UAAU,sCAGpByK,EAAc,WACPxI,SAAAA,EAAiBhH,EAAQyP,GAC3B,IAAA,IAAInX,EAAI,EAAGA,EAAImX,EAAMlX,OAAQD,IAAK,CACjCoX,IAAAA,EAAaD,EAAMnX,GACvBoX,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWzI,UAAW,GACjDvN,OAAOmW,eAAe7P,EAAQ0P,EAAWI,IAAKJ,IAG3C,OAAA,SAAUH,EAAaQ,EAAYC,GAGjCT,OAFHQ,GAAY/I,EAAiBuI,EAAY5F,UAAWoG,GACpDC,GAAahJ,EAAiBuI,EAAaS,GACxCT,GAbO,GAgBdU,EAuBK,SAAUC,EAAK5X,GAChByB,GAAAA,MAAMoW,QAAQD,GACTA,OAAAA,EACF,GAAI1Y,OAAO4Y,YAAY1W,OAAOwW,GAC5BG,OA1BFA,SAAcH,EAAK5X,GACtBgY,IAAAA,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAK1N,EACL,IACG,IAAA,IAAiC2N,EAA7BC,EAAKT,EAAI1Y,OAAO4Y,cAAmBG,GAAMG,EAAKC,EAAGC,QAAQC,QAChEP,EAAKnY,KAAKuY,EAAGjM,QACTnM,GAAKgY,EAAK/X,SAAWD,GAF8CiY,GAAK,IAI9E,MAAOO,GACPN,GAAK,EACLC,EAAKK,EACG,QACJ,KACGP,GAAMI,EAAE,QAAYA,EAAE,SACnB,QACJH,GAAAA,EAAI,MAAMC,GAGXH,OAAAA,EAMED,CAAcH,EAAK5X,GAEpB,MAAA,IAAIyM,UAAU,yDAStBgM,EAAO,SAAczW,EAAGiC,EAAGyU,GACtB1W,OAAAA,GAAKiC,EAAIjC,GAAK0W,GAEnBC,EAAQ,WACNA,IAAAA,EAAQ,mBAAmBlD,KAAKE,UAAUiD,UACvC,OAAA,WACED,OAAAA,GAHC,GAMRE,EAAmB,WACjBA,IAAAA,GAA+D,IAA5ClD,UAAUC,UAAUkD,QAAQ,aAAiE,IAA5CnD,UAAUC,UAAUkD,QAAQ,aAAgE,IAA3CnD,UAAUC,UAAUkD,QAAQ,UAC9I,OAAA,WACED,OAAAA,GAHY,GAYnBE,GALa,iCAAiCtD,KAAKE,UAAUC,WAK1C,WACjBmD,IAAAA,GAA+D,IAA5CpD,UAAUC,UAAUkD,QAAQ,aAAiE,IAA5CnD,UAAUC,UAAUkD,QAAQ,WAC7F,OAAA,WACEC,OAAAA,GAHY,IAMnBC,GACEjC,EAAQpB,UAAUC,UAAUmB,MAAM,sBAClC5K,EAAQ4K,EAAQkC,SAASlC,EAAM,GAAI,IAAM,KACtC,WACE5K,OAAAA,IAGP+M,EAA8B,WAC5B/M,IAAAA,GAAQ,EACR6M,GAAuB,KAAvBA,IAA2B,CACzBjC,IAAAA,EAAQpB,UAAUC,UAAUmB,MAAM,wBAClCA,GAAAA,EAAO,CACLoC,IAAAA,EAAiBpC,EAAM,GAAGqC,MAAM,KAChCC,EAAkB1B,EAAcwB,EAAgB,GAGhDG,GAFQD,EAAgB,GAChBA,EAAgB,GACfA,EAAgB,IACzBE,EAAQF,EAAgB,GAC5BlN,EAAiC,OAAzB8M,SAASK,EAAQ,KAAgBL,SAASM,EAAO,IAAM,KAG5D,OAAA,WACEpN,OAAAA,GAfuB,GAkB9BqN,EAAO,WACLA,IAAAA,GAAoD,IAA7C7D,UAAUC,UAAUkD,QAAQ,YAChC,OAAA,WACEU,OAAAA,GAHA,GAMPC,EAAkB,WAChBC,IAAAA,EAA4B,IAAtB1a,OAAO2a,cAA4C,IAAvB3a,OAAO2a,YACtCH,OAAAA,KAAUE,EAAMA,GAcrBE,EAAiB,WACZjY,OAAAA,KAAKkY,IAAI7a,OAAO8a,OAAOnS,MAAO3I,OAAO8a,OAAOlS,QAAU5I,OAAO+a,kBAElEC,EAAkB,WACbrY,OAAAA,KAAKoT,IAAI/V,OAAO8a,OAAOnS,MAAO3I,OAAO8a,OAAOlS,QAAU5I,OAAO+a,kBAmBlEE,EAAiB,WACfC,GAAAA,SAASD,eACXC,SAASD,sBACJ,GAAIC,SAASC,qBAClBD,SAASC,4BACJ,GAAID,SAASE,oBAClBF,SAASE,0BACJ,CAAA,IAAIF,SAASG,iBAGX,OAAA,EAFPH,SAASG,mBAIJ,OAAA,GAKLC,EAAc,SAAqBC,EAAIC,EAAcC,EAAgBC,GACnEC,IAAAA,EAAeJ,EAAGK,aAAaL,EAAGM,eACtCN,EAAGO,aAAaH,EAAcH,GAC9BD,EAAGQ,cAAcJ,GACbK,IAAAA,EAAiBT,EAAGK,aAAaL,EAAGU,iBACxCV,EAAGO,aAAaE,EAAgBP,GAChCF,EAAGQ,cAAcC,GACbE,IAAAA,EAAUX,EAAGY,gBAGZ,IAAA,IAAIC,KAFTb,EAAGc,aAAaH,EAASP,GACzBJ,EAAGc,aAAaH,EAASF,GACFN,EACrBH,EAAGe,mBAAmBJ,EAASR,EAAkBU,GAAaA,GAIzDF,OAHNX,EAAGD,YAAYY,GAChBX,EAAGgB,aAAaZ,GAChBJ,EAAGgB,aAAaP,GACTE,GAELM,EAAqB,SAA4BjB,EAAIW,GAIlD,IAHDO,IAAAA,EAAW,GACXC,EAAenB,EAAGoB,oBAAoBT,EAASX,EAAGqB,iBAClDC,EAAc,GACT7b,EAAI,EAAGA,EAAI0b,EAAc1b,IAAK,CACjC8b,IAAAA,EAAcvB,EAAGwB,iBAAiBb,EAASlb,GAC/C6b,EAAcC,EAAYE,KAAKC,QAAQ,MAAO,IAC9CR,EAASI,GAAetB,EAAG2B,mBAAmBhB,EAASW,GAElDJ,OAAAA,GAwBLlG,EAAW,WACTC,IACOxT,EADPwT,GAAQ,EAILA,OAHIxT,EAER2T,UAAUC,WAAaD,UAAUE,QAAU7W,OAAO8W,OAD/C,2TAA2TL,KAAKzT,IAAM,0kDAA0kDyT,KAAKzT,EAAE0T,OAAO,EAAG,OAAKF,GAAQ,GAE76DA,GAEL2G,EAAS,SAAgBC,EAAMC,GAC5B,IAAA,IAAI7E,KAAO6E,EACVA,EAAI7F,eAAegB,KACrB4E,EAAK5E,GAAO6E,EAAI7E,IAGb4E,OAAAA,GAELE,EAA0B,SAAiCrb,GACzD0X,GAAAA,IAAS,CACPhR,IAAAA,EAAQ1G,EAAO+U,MAAMrO,MACrBC,EAAS3G,EAAO+U,MAAMpO,OAC1B3G,EAAO+U,MAAMrO,MAAQsR,SAAStR,GAAS,EAAI,KAC3C1G,EAAO+U,MAAMpO,OAASqR,SAASrR,GAAU,KACzC2U,WAAW,WACTtb,EAAO+U,MAAMrO,MAAQA,EACrB1G,EAAO+U,MAAMpO,OAASA,GACrB,KAEL5I,OAAOiC,OAASA,GAEdub,EAAoB,WAClBC,IAAAA,EAAY9a,KAAKC,GAAK,IACtB8a,EAAkB,IAAV/a,KAAKC,GAoJb+a,EAAqB,IAAInb,aAAa,CAAC,EAAG,EAAG,EAAG,IAChDob,EAAkB,IAAIpb,aAAa,CAAC,EAAG,EAAG,IACrCqb,SAAAA,EAAkBC,EAAY/V,EAAMI,EAAM4V,EAAKrI,EAAQsI,IArJvDC,SAAgCnb,EAAKib,EAAK7W,EAAMC,GACnD+W,IAAAA,EAAQvb,KAAK2E,IAAIyW,EAAMA,EAAII,UAAYV,EAAYC,GACnDU,EAAUzb,KAAK2E,IAAIyW,EAAMA,EAAIM,YAAcZ,EAAYC,GACvDY,EAAU3b,KAAK2E,IAAIyW,EAAMA,EAAIQ,YAAcd,EAAYC,GACvDc,EAAW7b,KAAK2E,IAAIyW,EAAMA,EAAIU,aAAehB,EAAYC,GACzDgB,EAAS,GAAOJ,EAAUE,GAC1BG,EAAS,GAAOT,EAAQE,GAC5Btb,EAAI,GAAK4b,EACT5b,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK6b,EACT7b,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,KAAQwb,EAAUE,GAAYE,EAAS,GAC3C5b,EAAI,IAAMob,EAAQE,GAAWO,EAAS,GACtC7b,EAAI,IAAMqE,GAAOD,EAAOC,GACxBrE,EAAI,KAAO,EACXA,EAAI,IAAM,EACVA,EAAI,IAAM,EACVA,EAAI,IAAMqE,EAAMD,GAAQA,EAAOC,GAC/BrE,EAAI,IAAM,EAgIVmb,CAAgCH,EAAYC,GAAO,KAAMC,EAAU9Q,UAAW8Q,EAAU5Q,UACpFuN,IA9HgC7X,EAAKyC,EAAGC,EACxCC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EA8GAmU,EAAcxS,EAAKwS,aAAegD,EAClCzG,EAAW/O,EAAK+O,UAAY0G,EA/HI9a,EAgIPiF,EAhIevC,EAgII0R,EA/H5CzR,GADqCF,EAgINoV,GA/HzB,GACNjV,EAAIH,EAAE,GACNI,EAAIJ,EAAE,GACNK,EAAIL,EAAE,GAINS,EAAKP,GAHLI,EAAKJ,EAAIA,GAITQ,EAAKR,GAHLK,EAAKJ,EAAIA,GAITQ,EAAKT,GAHLM,EAAKJ,EAAIA,GAITQ,EAAKT,EAAII,EACTM,EAAKV,EAAIK,EACTM,EAAKV,EAAII,EACTO,EAAKV,EAAIC,EACTU,EAAKX,EAAIE,EACTU,EAAKZ,EAAIG,EACbjD,EAAI,GAAK,GAAKqD,EAAKE,GACnBvD,EAAI,GAAKmD,EAAKO,EACd1D,EAAI,GAAKoD,EAAKK,EACdzD,EAAI,GAAK,EACTA,EAAI,GAAKmD,EAAKO,EACd1D,EAAI,GAAK,GAAKkD,EAAKK,GACnBvD,EAAI,GAAKsD,EAAKE,EACdxD,EAAI,GAAK,EACTA,EAAI,GAAKoD,EAAKK,EACdzD,EAAI,GAAKsD,EAAKE,EACdxD,EAAI,IAAM,GAAKkD,EAAKG,GACpBrD,EAAI,IAAM,EACVA,EAAI,IAAM0C,EAAE,GACZ1C,EAAI,IAAM0C,EAAE,GACZ1C,EAAI,IAAM0C,EAAE,GACZ1C,EAAI,IAAM,EAiGN4S,GA9FGkJ,SAAe9b,EAAKE,EAAGwC,GAC1BC,IAGAtC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAdA2B,EAAID,EAAE,GACNE,EAAIF,EAAE,GACNG,EAAIH,EAAE,GAaNxC,IAAMF,GACRA,EAAI,IAAME,EAAE,GAAKyC,EAAIzC,EAAE,GAAK0C,EAAI1C,EAAE,GAAK2C,EAAI3C,EAAE,IAC7CF,EAAI,IAAME,EAAE,GAAKyC,EAAIzC,EAAE,GAAK0C,EAAI1C,EAAE,GAAK2C,EAAI3C,EAAE,IAC7CF,EAAI,IAAME,EAAE,GAAKyC,EAAIzC,EAAE,GAAK0C,EAAI1C,EAAE,IAAM2C,EAAI3C,EAAE,IAC9CF,EAAI,IAAME,EAAE,GAAKyC,EAAIzC,EAAE,GAAK0C,EAAI1C,EAAE,IAAM2C,EAAI3C,EAAE,MAE9CG,EAAMH,EAAE,GAAGI,EAAMJ,EAAE,GAAGK,EAAML,EAAE,GAAGM,EAAMN,EAAE,GACzCO,EAAMP,EAAE,GAAGQ,EAAMR,EAAE,GAAGS,EAAMT,EAAE,GAAGU,EAAMV,EAAE,GACzCW,EAAMX,EAAE,GAAGY,EAAMZ,EAAE,GAAGa,EAAMb,EAAE,IAAIc,EAAMd,EAAE,IAC1CF,EAAI,GAAKK,EAAIL,EAAI,GAAKM,EAAIN,EAAI,GAAKO,EAAIP,EAAI,GAAKQ,EAChDR,EAAI,GAAKS,EAAIT,EAAI,GAAKU,EAAIV,EAAI,GAAKW,EAAIX,EAAI,GAAKY,EAChDZ,EAAI,GAAKa,EAAIb,EAAI,GAAKc,EAAId,EAAI,IAAMe,EAAIf,EAAI,IAAMgB,EAClDhB,EAAI,IAAMK,EAAMsC,EAAIlC,EAAMmC,EAAI/B,EAAMgC,EAAI3C,EAAE,IAC1CF,EAAI,IAAMM,EAAMqC,EAAIjC,EAAMkC,EAAI9B,EAAM+B,EAAI3C,EAAE,IAC1CF,EAAI,IAAMO,EAAMoC,EAAIhC,EAAMiC,EAAI7B,EAAM8B,EAAI3C,EAAE,IAC1CF,EAAI,IAAMQ,EAAMmC,EAAI/B,EAAMgC,EAAI5B,EAAM6B,EAAI3C,EAAE,KA+DhC4b,CAAe7W,EAAMA,EAAM2N,GA3DhCmJ,SAAY/b,EAAKE,GACpBG,IAAAA,EAAMH,EAAE,GACRI,EAAMJ,EAAE,GACRK,EAAML,EAAE,GACRM,EAAMN,EAAE,GACRO,EAAMP,EAAE,GACRQ,EAAMR,EAAE,GACRS,EAAMT,EAAE,GACRU,EAAMV,EAAE,GACRW,EAAMX,EAAE,GACRY,EAAMZ,EAAE,GACRa,EAAMb,EAAE,IACRc,EAAMd,EAAE,IACRe,EAAMf,EAAE,IACRgB,EAAMhB,EAAE,IACRiB,EAAMjB,EAAE,IACRkB,EAAMlB,EAAE,IACRmB,EAAMhB,EAAMK,EAAMJ,EAAMG,EACxBa,EAAMjB,EAAMM,EAAMJ,EAAME,EACxBc,EAAMlB,EAAMO,EAAMJ,EAAMC,EACxBe,EAAMlB,EAAMK,EAAMJ,EAAMG,EACxBe,EAAMnB,EAAMM,EAAMJ,EAAME,EACxBgB,EAAMnB,EAAMK,EAAMJ,EAAMG,EACxBgB,EAAMd,EAAMK,EAAMJ,EAAMG,EACxBW,EAAMf,EAAMM,EAAMJ,EAAME,EACxBY,EAAMhB,EAAMO,EAAMJ,EAAMC,EACxBa,EAAMhB,EAAMK,EAAMJ,EAAMG,EACxBa,EAAMjB,EAAMM,EAAMJ,EAAME,EACxBc,EAAMjB,EAAMK,EAAMJ,EAAMG,EAC5Bc,EAAMZ,EAAMW,EAAMV,EAAMS,EAAMR,EAAMO,EAAMN,EAAMK,EAAMJ,EAAMG,EAAMF,EAAMC,EACpE,IAACM,EACI,OAAA,KAETA,EAAM,EAAMA,EACZjC,EAAI,IAAMU,EAAMsB,EAAMrB,EAAMoB,EAAMnB,EAAMkB,GAAOG,EAC/CjC,EAAI,IAAMO,EAAMwB,EAAMzB,EAAM0B,EAAMxB,EAAMsB,GAAOG,EAC/CjC,EAAI,IAAMkB,EAAMQ,EAAMP,EAAMM,EAAML,EAAMI,GAAOS,EAC/CjC,EAAI,IAAMe,EAAMU,EAAMX,EAAMY,EAAMV,EAAMQ,GAAOS,EAC/CjC,EAAI,IAAMW,EAAMkB,EAAMpB,EAAMuB,EAAMpB,EAAMgB,GAAOK,EAC/CjC,EAAI,IAAMK,EAAM2B,EAAMzB,EAAMsB,EAAMrB,EAAMoB,GAAOK,EAC/CjC,EAAI,IAAMmB,EAAMI,EAAMN,EAAMS,EAAMN,EAAME,GAAOW,EAC/CjC,EAAI,IAAMa,EAAMa,EAAMX,EAAMQ,EAAMP,EAAMM,GAAOW,EAC/CjC,EAAI,IAAMS,EAAMsB,EAAMrB,EAAMmB,EAAMjB,EAAMe,GAAOM,EAC/CjC,EAAI,IAAMM,EAAMuB,EAAMxB,EAAM0B,EAAMvB,EAAMmB,GAAOM,EAC/CjC,EAAI,KAAOiB,EAAMQ,EAAMP,EAAMK,EAAMH,EAAMC,GAAOY,EAChDjC,EAAI,KAAOc,EAAMS,EAAMV,EAAMY,EAAMT,EAAMK,GAAOY,EAChDjC,EAAI,KAAOU,EAAMkB,EAAMnB,EAAMqB,EAAMnB,EAAMgB,GAAOM,EAChDjC,EAAI,KAAOK,EAAMyB,EAAMxB,EAAMsB,EAAMrB,EAAMoB,GAAOM,EAChDjC,EAAI,KAAOkB,EAAMI,EAAML,EAAMO,EAAML,EAAME,GAAOY,EAChDjC,EAAI,KAAOa,EAAMW,EAAMV,EAAMQ,EAAMP,EAAMM,GAAOY,EAWhD8Z,CAAY9W,EAAMA,GAEb,OAAA,SAAU+W,EAAW3W,EAAM6V,GAC5B,SAACc,IAAc3W,IACnB2W,EAAU3W,KAAOA,EACjB2W,EAAUC,UAAY5W,EAAK4W,UAC3BlB,EAAkBiB,EAAUE,qBAAsBF,EAAUnX,eAAgBQ,EAAM6V,EAAUiB,gBAAgB,QAASjB,EAAUkB,cAAc,QAASlB,GACtJH,EAAkBiB,EAAUK,sBAAuBL,EAAUlX,gBAAiBO,EAAM6V,EAAUiB,gBAAgB,SAAUjB,EAAUkB,cAAc,SAAUlB,GACnJ,KAtKa,GA+KpBoB,EAAmB,SAA0BC,GAC3CC,IAAAA,EACAC,EAAcF,EAAIvF,QAAQ,OAE5BwF,GADmB,IAAjBC,EACUA,EAAc,EAEd,EAEVC,IAAAA,EAAeH,EAAIvF,QAAQ,IAAKwF,GAI7BD,OAHe,IAAlBG,IACFA,EAAeH,EAAIpe,QAEdoe,EAAII,UAAU,EAAGD,IAUtBE,GACE5H,EAAmB,GAChB,SAAUU,EAAKmH,QACUlU,IAA1BqM,EAAiBU,KACnBxG,QAAQC,KAAK,mBAAqB0N,GAClC7H,EAAiBU,IAAO,KAI1BoH,EAAmB,SAA0BC,EAAYC,GACvDC,IAAAA,EAAcD,EAAY,cAAgBA,EAAY,YAAc,GACxEJ,EAASG,EAAYA,EAAa,qEAA4EE,IAoG5GC,EAlGKC,SAAoB1E,EAAI2E,EAAUrS,GACrC,GAACqS,EAAD,CAMC,IAFDC,IAAAA,EAAc,GACdC,EAAgB,KACXpf,EAAI,EAAGA,EAAIkf,EAASjf,SAAUD,EAAG,CACpCqf,IAAAA,EAAUH,EAASlf,GACfqf,OAAAA,GACD9E,KAAAA,EAAG+E,mBACH/E,KAAAA,EAAGgF,yBACFC,IAAAA,EAAcN,IAAWlf,GACzBwf,GAAAA,EAAcjF,EAAGkF,UAAYD,EAAcjF,EAAGmF,UAAW,CAC3D1O,QAAQ2O,MAAM,2FACdR,EAAYtf,KAAK,KAAM,MACvB,MAEGuf,IACHA,EAAgB7E,EAAG/J,aAAa+J,EAAGqF,iBAErCrF,EAAG6E,cAAcI,GACjBL,EAAYtf,KAAK0a,EAAG/J,aAAa6O,GAAU,MAC3C,MACG9E,KAAAA,EAAGqF,eACNR,EAAgB7E,EAAG/J,aAAa+J,EAAGqF,gBACnCT,EAAYtf,KAAK,MACjB,MACF,QACEsf,EAAYtf,KAAK0a,EAAG/J,aAAa6O,KAIvCxS,EAAS0N,GACJ,IAAA,IAAIva,EAAI,EAAGA,EAAIkf,EAASjf,SAAUD,EAAG,CACpCqf,IAAAA,EAAUH,EAASlf,GACnB6f,EAAaV,EAAYnf,GACrBqf,OAAAA,GACD9E,KAAAA,EAAGqF,eACN,MACGrF,KAAAA,EAAGuF,qBACNvF,EAAGwF,WAAWxF,EAAGyF,aAAcH,GAC/B,MACGtF,KAAAA,EAAG0F,kBACN1F,EAAG2F,WAAWL,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAIA,EAAW,IACtE,MACGtF,KAAAA,EAAG4F,gBACN5F,EAAG6F,UAAUP,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAIA,EAAW,IACrE,MACGtF,KAAAA,EAAG8F,gBACN9F,EAAG+F,WAAWT,GACd,MACGtF,KAAAA,EAAGgG,6BACNhG,EAAGwF,WAAWxF,EAAGiG,qBAAsBX,GACvC,MACGtF,KAAAA,EAAG9J,oBACN8J,EAAGkG,gBAAgBlG,EAAGmG,YAAab,GACnC,MACGtF,KAAAA,EAAGoG,qBACNpG,EAAGqG,iBAAiBrG,EAAGsG,aAAchB,GACrC,MACGtF,KAAAA,EAAG+E,mBACFE,IAAAA,EAAcN,IAAWlf,GACzBwf,GAAAA,EAAcjF,EAAGkF,UAAYD,EAAcjF,EAAGmF,UAChD,MACFnF,EAAG6E,cAAcI,GACjBjF,EAAGuG,YAAYvG,EAAGwG,WAAYlB,GAC9B,MACGtF,KAAAA,EAAGgF,yBACFC,IAAAA,EAAcN,IAAWlf,GACzBwf,GAAAA,EAAcjF,EAAGkF,UAAYD,EAAcjF,EAAGmF,UAChD,MACFnF,EAAG6E,cAAcI,GACjBjF,EAAGuG,YAAYvG,EAAGyG,iBAAkBnB,GACpC,MACGtF,KAAAA,EAAG0G,SACN1G,EAAGpS,SAAS0X,EAAW,GAAIA,EAAW,GAAIA,EAAW,GAAIA,EAAW,IACpE,MACGtF,KAAAA,EAAG2G,MACH3G,KAAAA,EAAG4G,UACH5G,KAAAA,EAAG6G,WACH7G,KAAAA,EAAG8G,aACH9G,KAAAA,EAAG+G,aACFzB,EACFtF,EAAGgH,OAAOlC,GAEV9E,EAAGiH,QAAQnC,GAEb,MACF,QACErO,QAAQyQ,IAAI,gCAAkCpC,EAAQqC,SAAS,KAG/DtC,GACF7E,EAAG6E,cAAcA,SA5FnBvS,EAAS0N,IAiGToH,EAAe,CAAC,2BAA4B,2BAA4B,0BAA2B,uCAAwC,gBAAiB,0DAA2D,2DAA4D,8CAA+C,KAAKC,KAAK,MAC5UC,EAAe,CAAC,2BAA4B,6BAA8B,0BAA2B,gBAAiB,kDAAmD,KAAKD,KAAK,MAC9KE,SAAAA,EAAmBvH,EAAIwH,EAAaC,EAAaC,GACnD1H,KAAAA,GAAKA,EACLwH,KAAAA,YAAcA,EACdC,KAAAA,YAAcA,EACdC,KAAAA,yBAA2BA,EAC3BC,KAAAA,WAAa3H,EAAG4H,uBAChBC,KAAAA,UAAY,GACZC,KAAAA,WAAa,GACbC,KAAAA,YAAc/H,EAAG5J,mBACjB4R,KAAAA,aAAehI,EAAG1J,oBAClB2R,KAAAA,oBAAsBjI,EAAGkG,gBACzBgC,KAAAA,WAAalI,EAAGgH,OAChBmB,KAAAA,YAAcnI,EAAGiH,QACjBmB,KAAAA,cAAgBpI,EAAG6F,UACnBwC,KAAAA,eAAiBrI,EAAG2F,WACpB2C,KAAAA,aAAetI,EAAGpS,SAClBwQ,MACEmK,KAAAA,gBAAkB1hB,OAAO2hB,yBAAyBxI,EAAGtZ,OAAO+hB,UAAW,SACvEC,KAAAA,iBAAmB7hB,OAAO2hB,yBAAyBxI,EAAGtZ,OAAO+hB,UAAW,WAE1EE,KAAAA,WAAY,EACZC,KAAAA,qBAAuB,KACvBC,KAAAA,UAAW,EACXC,KAAAA,WAAY,EACZC,KAAAA,OAAQ,EACRC,KAAAA,aAAc,EACdC,KAAAA,aAAc,EACdrb,KAAAA,SAAW,CAAC,EAAG,EAAG,EAAG,GACrBiY,KAAAA,UAAY,EAAC,GAAM,GAAM,GAAM,GAC/BF,KAAAA,WAAa,CAAC,EAAG,EAAG,EAAG,GACvBuD,KAAAA,QAAU,CACbvN,SAAU,EACVwN,SAAU,GAEPxI,KAAAA,QAAUZ,EAAYC,EAAIoH,EAAcE,EAAc,KAAK4B,SAC3DhI,KAAAA,SAAWD,EAAmBjB,EAAI,KAAKW,SACvCyI,KAAAA,oBAAsB,IAAIniB,aAAa,GACvCoiB,KAAAA,mBACAC,KAAAA,aAAetJ,EAAGuJ,eAClBC,KAAAA,YAAcxJ,EAAGuJ,eACjBE,KAAAA,WAAa,EACbC,KAAAA,aAAe1J,EAAG2J,gBAClB3T,KAAAA,YAAcgK,EAAG4J,oBACjBC,KAAAA,mBAAqB,KACrBC,KAAAA,YAAc,KACdC,KAAAA,cAAgB,KACjB,KAAKpC,WAAWpS,OAAS,KAAKoS,WAAWnS,QACtCqU,KAAAA,mBAAqB7J,EAAGgK,qBACpB,KAAKrC,WAAWpS,MACpBuU,KAAAA,YAAc9J,EAAGgK,qBACb,KAAKrC,WAAWnS,UACpBuU,KAAAA,cAAgB/J,EAAGgK,sBAErBC,KAAAA,QACAC,KAAAA,WAEP3C,EAAmBzQ,UAAUqT,QAAU,WACjCnK,IAAAA,EAAK,KAAKA,GACToK,KAAAA,UACLpK,EAAGqK,cAAc,KAAK1J,SACtBX,EAAGsK,aAAa,KAAKhB,cACrBtJ,EAAGsK,aAAa,KAAKd,aACrBxJ,EAAGuK,cAAc,KAAKb,cACtB1J,EAAGwK,kBAAkB,KAAKxU,aACtB,KAAK6T,oBACP7J,EAAGyK,mBAAmB,KAAKZ,oBAEzB,KAAKC,aACP9J,EAAGyK,mBAAmB,KAAKX,aAEzB,KAAKC,eACP/J,EAAGyK,mBAAmB,KAAKV,eAEzB,KAAKvC,aACFA,KAAAA,YAAY2C,WAGrB5C,EAAmBzQ,UAAUoT,SAAW,WAClClK,IAAAA,EAAK,KAAKA,GACVxb,EAAO,KACPkmB,EAAU,CAAC1K,EAAGoG,qBAAsBpG,EAAG+E,mBAAoB/E,EAAGkF,UAClET,EAAgBzE,EAAI0K,EAAS,SAAU1K,GACrCxb,EAAKyjB,oBAAoBzQ,KAAKwI,EAAIA,EAAGmG,YAAa,MAC9C3hB,EAAKwkB,aACPxkB,EAAK2jB,YAAY3Q,KAAKwI,EAAIA,EAAG8G,cAE/BtiB,EAAK4jB,cAAc5Q,KAAKwI,GAAI,GAAM,GAAM,GAAM,GAC9Cxb,EAAK8jB,aAAa9Q,KAAKwI,EAAI,EAAG,EAAGA,EAAG5J,mBAAoB4J,EAAG1J,qBAC3D9R,EAAK6jB,eAAe7Q,KAAKwI,EAAI,EAAG,EAAG,EAAG,GACtCA,EAAG2K,MAAM3K,EAAG4K,kBACZpmB,EAAKyjB,oBAAoBzQ,KAAKwI,EAAIA,EAAGmG,YAAa3hB,EAAKwR,aACvDgK,EAAGuG,YAAYvG,EAAGwG,WAAYhiB,EAAKklB,cACnC1J,EAAG6K,WAAW7K,EAAGwG,WAAY,EAAGhiB,EAAKmjB,WAAWlS,MAAQuK,EAAG8K,KAAO9K,EAAG+K,IAAKvmB,EAAKujB,YAAavjB,EAAKwjB,aAAc,EAAGxjB,EAAKmjB,WAAWlS,MAAQuK,EAAG8K,KAAO9K,EAAG+K,IAAK/K,EAAGgL,cAAe,MAC9KhL,EAAGiL,cAAcjL,EAAGwG,WAAYxG,EAAGkL,mBAAoBlL,EAAGmL,QAC1DnL,EAAGiL,cAAcjL,EAAGwG,WAAYxG,EAAGoL,mBAAoBpL,EAAGmL,QAC1DnL,EAAGiL,cAAcjL,EAAGwG,WAAYxG,EAAGqL,eAAgBrL,EAAGsL,eACtDtL,EAAGiL,cAAcjL,EAAGwG,WAAYxG,EAAGuL,eAAgBvL,EAAGsL,eACtDtL,EAAGwL,qBAAqBxL,EAAGmG,YAAanG,EAAGyL,kBAAmBzL,EAAGwG,WAAYhiB,EAAKklB,aAAc,GAC5FllB,EAAKmjB,WAAWpS,OAAS/Q,EAAKmjB,WAAWnS,SAC3CwK,EAAGqG,iBAAiBrG,EAAGsG,aAAc9hB,EAAKqlB,oBAC1C7J,EAAG0L,oBAAoB1L,EAAGsG,aAActG,EAAG2L,cAAennB,EAAKujB,YAAavjB,EAAKwjB,cACjFhI,EAAG4L,wBAAwB5L,EAAGmG,YAAanG,EAAG6L,yBAA0B7L,EAAGsG,aAAc9hB,EAAKqlB,qBACrFrlB,EAAKmjB,WAAWpS,OACzByK,EAAGqG,iBAAiBrG,EAAGsG,aAAc9hB,EAAKslB,aAC1C9J,EAAG0L,oBAAoB1L,EAAGsG,aAActG,EAAG8L,kBAAmBtnB,EAAKujB,YAAavjB,EAAKwjB,cACrFhI,EAAG4L,wBAAwB5L,EAAGmG,YAAanG,EAAG+L,iBAAkB/L,EAAGsG,aAAc9hB,EAAKslB,cAC7EtlB,EAAKmjB,WAAWnS,UACzBwK,EAAGqG,iBAAiBrG,EAAGsG,aAAc9hB,EAAKulB,eAC1C/J,EAAG0L,oBAAoB1L,EAAGsG,aAActG,EAAGgM,eAAgBxnB,EAAKujB,YAAavjB,EAAKwjB,cAClFhI,EAAG4L,wBAAwB5L,EAAGmG,YAAanG,EAAGiM,mBAAoBjM,EAAGsG,aAAc9hB,EAAKulB,iBAErF/J,EAAGkM,uBAAuBlM,EAAGmG,eAAiBnG,EAAGmM,sBACpD1V,QAAQ2O,MAAM,2BAEhB5gB,EAAKyjB,oBAAoBzQ,KAAKwI,EAAIA,EAAGmG,YAAa3hB,EAAKokB,sBACnDpkB,EAAKwkB,aACPxkB,EAAK0jB,WAAW1Q,KAAKwI,EAAIA,EAAG8G,cAE9BtiB,EAAK4jB,cAAcgE,MAAMpM,EAAIxb,EAAKqhB,WAClCrhB,EAAK8jB,aAAa8D,MAAMpM,EAAIxb,EAAKoJ,UACjCpJ,EAAK6jB,eAAe+D,MAAMpM,EAAIxb,EAAKmhB,cAEjC,KAAK6B,aACFA,KAAAA,YAAY0C,YAGrB3C,EAAmBzQ,UAAUmT,MAAQ,WAC/B,IAAA,KAAKtB,UAAL,CAGAnkB,IAAAA,EAAO,KACPkC,EAAS,KAAKsZ,GAAGtZ,OACjBsZ,EAAK,KAAKA,GACT5B,MACH1X,EAAO0G,MAAQiS,IAAmB,KAAKoI,YACvC/gB,EAAO2G,OAASoS,IAAoB,KAAKgI,YACzC5gB,OAAOmW,eAAetW,EAAQ,QAAS,CACrCqW,cAAc,EACdD,YAAY,EACZzX,IAAK,WACIb,OAAAA,EAAKujB,aAEdxiB,IAAK,SAAaqM,GAChBpN,EAAKujB,YAAcnW,EACnBpN,EAAK+jB,gBAAgBhjB,IAAIiS,KAAK9Q,EAAQkL,GACtCpN,EAAK0lB,cAGTrjB,OAAOmW,eAAetW,EAAQ,SAAU,CACtCqW,cAAc,EACdD,YAAY,EACZzX,IAAK,WACIb,OAAAA,EAAKwjB,cAEdziB,IAAK,SAAaqM,GAChBpN,EAAKwjB,aAAepW,EACpBpN,EAAKkkB,iBAAiBnjB,IAAIiS,KAAK9Q,EAAQkL,GACvCpN,EAAK0lB,eAINtB,KAAAA,qBAAuB5I,EAAG/J,aAAa+J,EAAG9J,qBACd,MAA7B,KAAK0S,uBACFA,KAAAA,qBAAuB,KAAK5S,YAC5BgK,KAAAA,GAAGkG,gBAAgBlG,EAAGmG,YAAa,KAAKnQ,cAE1CgK,KAAAA,GAAGkG,gBAAkB,SAAU/Y,EAAQ6I,GAC1CxR,EAAKokB,qBAAuB5S,GAA4BxR,EAAKwR,YAC7DxR,EAAKyjB,oBAAoBzQ,KAAKwI,EAAI7S,EAAQ3I,EAAKokB,uBAE5CC,KAAAA,SAAW7I,EAAG/J,aAAa+J,EAAG4G,WAC9BkC,KAAAA,UAAY9I,EAAG/J,aAAa+J,EAAG6G,YAC/BkC,KAAAA,MAAQ/I,EAAG/J,aAAa+J,EAAG2G,OAC3BqC,KAAAA,YAAchJ,EAAG/J,aAAa+J,EAAG8G,cACjCmC,KAAAA,YAAcjJ,EAAG/J,aAAa+J,EAAG+G,cACtC/G,EAAGgH,OAAS,SAAUqF,GACZA,OAAAA,GACDrM,KAAAA,EAAG4G,UACNpiB,EAAKqkB,UAAW,EAAK,MAClB7I,KAAAA,EAAG6G,WACNriB,EAAKskB,WAAY,EAAK,MACnB9I,KAAAA,EAAG2G,MACNniB,EAAKukB,OAAQ,EAAK,MACf/I,KAAAA,EAAG8G,aACNtiB,EAAKwkB,aAAc,EAAK,MACrBhJ,KAAAA,EAAG+G,aACNviB,EAAKykB,aAAc,EAEvBzkB,EAAK0jB,WAAW1Q,KAAKwI,EAAIqM,IAE3BrM,EAAGiH,QAAU,SAAUoF,GACbA,OAAAA,GACDrM,KAAAA,EAAG4G,UACNpiB,EAAKqkB,UAAW,EAAM,MACnB7I,KAAAA,EAAG6G,WACNriB,EAAKskB,WAAY,EAAM,MACpB9I,KAAAA,EAAG2G,MACNniB,EAAKukB,OAAQ,EAAM,MAChB/I,KAAAA,EAAG8G,aACNtiB,EAAKwkB,aAAc,EAAM,MACtBhJ,KAAAA,EAAG+G,aACNviB,EAAKykB,aAAc,EAEvBzkB,EAAK2jB,YAAY3Q,KAAKwI,EAAIqM,IAEvBxG,KAAAA,UAAY7F,EAAG/J,aAAa+J,EAAG4F,iBACpC5F,EAAG6F,UAAY,SAAUyG,EAAGC,EAAG7iB,EAAGjC,GAChCjD,EAAKqhB,UAAU,GAAKyG,EACpB9nB,EAAKqhB,UAAU,GAAK0G,EACpB/nB,EAAKqhB,UAAU,GAAKnc,EACpBlF,EAAKqhB,UAAU,GAAKpe,EACpBjD,EAAK4jB,cAAc5Q,KAAKwI,EAAIsM,EAAGC,EAAG7iB,EAAGjC,IAElCke,KAAAA,WAAa3F,EAAG/J,aAAa+J,EAAG0F,mBACrC1F,EAAG2F,WAAa,SAAU2G,EAAGC,EAAG7iB,EAAGjC,GACjCjD,EAAKmhB,WAAW,GAAK2G,EACrB9nB,EAAKmhB,WAAW,GAAK4G,EACrB/nB,EAAKmhB,WAAW,GAAKjc,EACrBlF,EAAKmhB,WAAW,GAAKle,EACrBjD,EAAK6jB,eAAe7Q,KAAKwI,EAAIsM,EAAGC,EAAG7iB,EAAGjC,IAEnCmG,KAAAA,SAAWoS,EAAG/J,aAAa+J,EAAG0G,UACnC1G,EAAGpS,SAAW,SAAU1D,EAAGC,EAAGE,EAAGmiB,GAC/BhoB,EAAKoJ,SAAS,GAAK1D,EACnB1F,EAAKoJ,SAAS,GAAKzD,EACnB3F,EAAKoJ,SAAS,GAAKvD,EACnB7F,EAAKoJ,SAAS,GAAK4e,EACnBhoB,EAAK8jB,aAAa9Q,KAAKwI,EAAI9V,EAAGC,EAAGE,EAAGmiB,IAEjC7D,KAAAA,WAAY,EACjB5G,EAAwBrb,KAE1B6gB,EAAmBzQ,UAAUsT,QAAU,WACjC,GAAC,KAAKzB,UAAN,CAGA3I,IAAAA,EAAK,KAAKA,GACVtZ,EAAS,KAAKsZ,GAAGtZ,OAChB0X,MACHvX,OAAOmW,eAAetW,EAAQ,QAAS,KAAK6hB,iBAC5C1hB,OAAOmW,eAAetW,EAAQ,SAAU,KAAKgiB,mBAE/ChiB,EAAO0G,MAAQ,KAAK2a,YACpBrhB,EAAO2G,OAAS,KAAK2a,aACrBhI,EAAGkG,gBAAkB,KAAK+B,oBAC1BjI,EAAGgH,OAAS,KAAKkB,WACjBlI,EAAGiH,QAAU,KAAKkB,YAClBnI,EAAG6F,UAAY,KAAKuC,cACpBpI,EAAG2F,WAAa,KAAK0C,eACrBrI,EAAGpS,SAAW,KAAK0a,aACf,KAAKM,sBAAwB,KAAK5S,aACpCgK,EAAGkG,gBAAgBlG,EAAGmG,YAAa,MAEhCwC,KAAAA,WAAY,EACjB3G,WAAW,WACTD,EAAwBrb,IACvB,KAEL6gB,EAAmBzQ,UAAUuS,iBAAmB,SAAUoD,EAAYC,GAC/DD,IACHA,EAAa,CAAC,EAAG,EAAG,GAAK,IAEtBC,IACHA,EAAc,CAAC,GAAK,EAAG,GAAK,IAEzBtD,KAAAA,oBAAoB,GAAKqD,EAAW,GACpCrD,KAAAA,oBAAoB,GAAKqD,EAAW,GACpCrD,KAAAA,oBAAoB,GAAKqD,EAAW,GACpCrD,KAAAA,oBAAoB,GAAKqD,EAAW,GACpCrD,KAAAA,oBAAoB,GAAKsD,EAAY,GACrCtD,KAAAA,oBAAoB,GAAKsD,EAAY,GACrCtD,KAAAA,oBAAoB,GAAKsD,EAAY,GACrCtD,KAAAA,oBAAoB,GAAKsD,EAAY,IAE5CnF,EAAmBzQ,UAAU6V,YAAc,WACrC3M,IAAAA,EAAK,KAAKA,GACVxb,EAAO,KACPkmB,EAAU,GAuEVtM,GAtEC,KAAKsJ,0BACRgD,EAAQplB,KAAK0a,EAAG8F,gBAAiB9F,EAAGuF,qBAAsBvF,EAAGgG,6BAA8BhG,EAAG+E,mBAAoB/E,EAAGkF,UAEvHT,EAAgBzE,EAAI0K,EAAS,SAAU1K,GACrCxb,EAAKyjB,oBAAoBzQ,KAAKwI,EAAIA,EAAGmG,YAAa,MAC9C3hB,EAAKqkB,UACPrkB,EAAK2jB,YAAY3Q,KAAKwI,EAAIA,EAAG4G,WAE3BpiB,EAAKskB,WACPtkB,EAAK2jB,YAAY3Q,KAAKwI,EAAIA,EAAG6G,YAE3BriB,EAAKukB,OACPvkB,EAAK2jB,YAAY3Q,KAAKwI,EAAIA,EAAG2G,OAE3BniB,EAAKwkB,aACPxkB,EAAK2jB,YAAY3Q,KAAKwI,EAAIA,EAAG8G,cAE3BtiB,EAAKykB,aACPzkB,EAAK2jB,YAAY3Q,KAAKwI,EAAIA,EAAG+G,cAE/BviB,EAAK4jB,cAAc5Q,KAAKwI,GAAI,GAAM,GAAM,GAAM,GAC9Cxb,EAAK8jB,aAAa9Q,KAAKwI,EAAI,EAAG,EAAGA,EAAG5J,mBAAoB4J,EAAG1J,sBACvD9R,EAAKmjB,WAAWlS,OAAS2I,OAC3B5Z,EAAK6jB,eAAe7Q,KAAKwI,EAAI,EAAG,EAAG,EAAG,GACtCA,EAAG2K,MAAM3K,EAAG4K,mBAEd5K,EAAG+F,WAAWvhB,EAAKmc,SACnBX,EAAGwF,WAAWxF,EAAGiG,qBAAsBzhB,EAAKglB,aAC5CxJ,EAAGwF,WAAWxF,EAAGyF,aAAcjhB,EAAK8kB,cACpCtJ,EAAG4M,wBAAwBpoB,EAAK0kB,QAAQvN,UACxCqE,EAAG4M,wBAAwBpoB,EAAK0kB,QAAQC,UACxCnJ,EAAG6M,oBAAoBroB,EAAK0kB,QAAQvN,SAAU,EAAGqE,EAAG8M,OAAO,EAAO,GAAI,GACtE9M,EAAG6M,oBAAoBroB,EAAK0kB,QAAQC,SAAU,EAAGnJ,EAAG8M,OAAO,EAAO,GAAI,GACtE9M,EAAG6E,cAAc7E,EAAGkF,UACpBlF,EAAG+M,UAAUvoB,EAAK0c,SAAS8L,QAAS,GACpChN,EAAGuG,YAAYvG,EAAGwG,WAAYhiB,EAAKklB,cACnC1J,EAAGiN,WAAWzoB,EAAK0c,SAASkI,oBAAqB5kB,EAAK4kB,qBACtDpJ,EAAGkN,aAAalN,EAAGmN,UAAW3oB,EAAKilB,WAAYzJ,EAAGoN,eAAgB,GAC9D5oB,EAAKgjB,aACPhjB,EAAKgjB,YAAY6F,gBAEnB7oB,EAAKyjB,oBAAoBzQ,KAAKhT,EAAKwb,GAAIA,EAAGmG,YAAa3hB,EAAKwR,aACvDxR,EAAKmjB,WAAW2F,wBACnB9oB,EAAK6jB,eAAe7Q,KAAKwI,EAAI,EAAG,EAAG,EAAG,GACtCA,EAAG2K,MAAM3K,EAAG4K,mBAETpmB,EAAKkjB,0BACRljB,EAAKyjB,oBAAoBzQ,KAAKwI,EAAIA,EAAGmG,YAAa3hB,EAAKokB,sBAErDpkB,EAAKqkB,UACPrkB,EAAK0jB,WAAW1Q,KAAKwI,EAAIA,EAAG4G,WAE1BpiB,EAAKskB,WACPtkB,EAAK0jB,WAAW1Q,KAAKwI,EAAIA,EAAG6G,YAE1BriB,EAAKukB,OACPvkB,EAAK0jB,WAAW1Q,KAAKwI,EAAIA,EAAG2G,OAE1BniB,EAAKwkB,aACPxkB,EAAK0jB,WAAW1Q,KAAKwI,EAAIA,EAAG8G,cAE1BtiB,EAAKykB,aACPzkB,EAAK0jB,WAAW1Q,KAAKwI,EAAIA,EAAG+G,cAE9BviB,EAAK4jB,cAAcgE,MAAMpM,EAAIxb,EAAKqhB,WAClCrhB,EAAK8jB,aAAa8D,MAAMpM,EAAIxb,EAAKoJ,WAC7BpJ,EAAKmjB,WAAWlS,OAAUjR,EAAKmjB,WAAW2F,uBAC5C9oB,EAAK6jB,eAAe+D,MAAMpM,EAAIxb,EAAKmhB,cAGnCvH,IAAS,CACP1X,IAAAA,EAASsZ,EAAGtZ,OACZA,EAAO0G,OAAS5I,EAAKujB,aAAerhB,EAAO2G,QAAU7I,EAAKwjB,eAC5DxjB,EAAKujB,YAAcrhB,EAAO0G,MAC1B5I,EAAKwjB,aAAethB,EAAO2G,OAC3B7I,EAAK0lB,cAIX3C,EAAmBzQ,UAAUyW,iBAAmB,SAAUC,GACpDxN,IAAAA,EAAK,KAAKA,GACVxb,EAAO,KACPkmB,EAAU,CAAC1K,EAAGuF,qBAAsBvF,EAAGgG,8BAC3CvB,EAAgBzE,EAAI0K,EAAS,SAAU1K,GACjCyN,IAAAA,EAAWjpB,EAAKkpB,qBAAqBlpB,EAAKqjB,UAAWrjB,EAAKsjB,WAAY0F,GAGtE,GAFJxN,EAAGwF,WAAWxF,EAAGyF,aAAcjhB,EAAK8kB,cACpCtJ,EAAG2N,WAAW3N,EAAGyF,aAAcgI,EAAUzN,EAAG4N,cACvCppB,EAAKilB,WAAY,CAChBoE,IAAAA,EAAUrpB,EAAKspB,oBAAoBtpB,EAAKqjB,UAAWrjB,EAAKsjB,YAC5D9H,EAAGwF,WAAWxF,EAAGiG,qBAAsBzhB,EAAKglB,aAC5CxJ,EAAG2N,WAAW3N,EAAGiG,qBAAsB4H,EAAS7N,EAAG4N,aACnDppB,EAAKilB,WAAaoE,EAAQnoB,WAIhC6hB,EAAmBzQ,UAAU4W,qBAAuB,SAAUtgB,EAAOC,EAAQmgB,GAMtE,IALDC,IAAAA,EAAW,IAAIxmB,aAAa,EAAImG,EAAQC,EAAS,GACjD0gB,EAAcP,EAAWQ,6BACzBC,EAAgBT,EAAWU,4BAC3BtgB,EAAW4f,EAAWW,4BAA4BF,GAClDG,EAAO,EACFhc,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACrB,IAAA,IAAIic,EAAI,EAAGA,EAAIhhB,EAAQghB,IACrB,IAAA,IAAI5oB,EAAI,EAAGA,EAAI2H,EAAO3H,IAAK2oB,IAAQ,CAClCE,IAAAA,EAAI7oB,GAAK2H,EAAQ,GACjBnD,EAAIokB,GAAKhhB,EAAS,GAClBkhB,EAAID,EACJnQ,EAAIlU,EACJC,EAAIgU,EAAK6P,EAAY,GAAIA,EAAY,GAAIO,GACzCnkB,EAAI+T,EAAK6P,EAAY,GAAIA,EAAY,GAAI9jB,GACzCukB,EAAIpnB,KAAKmE,KAAKrB,EAAIA,EAAIC,EAAIA,GAC1BmiB,EAAIkB,EAAWiB,WAAWC,eAAeF,GACzCG,EAAIzkB,EAAIoiB,EAAIkC,EACZxkB,EAAIG,EAAImiB,EAAIkC,EAChBF,GAAKK,EAAIV,EAAc,KAAOA,EAAc,GAAKA,EAAc,IAC/DhkB,GAAKD,EAAIikB,EAAc,KAAOA,EAAc,GAAKA,EAAc,IAC/DK,EAA8C,GAAzC1gB,EAAS1D,EAAIokB,EAAI1gB,EAASR,MAAQ,IACvCnD,EAA+C,GAA1C2D,EAASzD,EAAIF,EAAI2D,EAASP,OAAS,IACxCogB,EAAgB,EAAPW,EAAW,GAAKE,EACzBb,EAAgB,EAAPW,EAAW,GAAKnkB,EACzBwjB,EAAgB,EAAPW,EAAW,GAAKG,EACzBd,EAAgB,EAAPW,EAAW,GAAKjQ,EACzBsP,EAAgB,EAAPW,EAAW,GAAKhc,EAGzB/H,IAAAA,EAAI0jB,EAAY,GAAKA,EAAY,GACrCA,EAAY,KAAO1jB,EAAI0jB,EAAY,IACnCA,EAAY,GAAK1jB,EAAI0jB,EAAY,GACjC1jB,EAAI4jB,EAAc,GAAKA,EAAc,GACrCA,EAAc,KAAO5jB,EAAI4jB,EAAc,IACvCA,EAAc,GAAK5jB,EAAI4jB,EAAc,GACrCrgB,EAAS1D,EAAI,GAAK0D,EAAS1D,EAAI0D,EAASR,OAEnCqgB,OAAAA,GAETlG,EAAmBzQ,UAAUgX,oBAAsB,SAAU1gB,EAAOC,GAM7D,IALDwgB,IAAAA,EAAU,IAAIe,YAAY,GAAKxhB,EAAQ,IAAMC,EAAS,GAAK,GAC3DwhB,EAAYzhB,EAAQ,EACpB0hB,EAAazhB,EAAS,EACtB+gB,EAAO,EACPW,EAAO,EACF3c,EAAI,EAAGA,EAAI,EAAGA,IAChB,IAAA,IAAIic,EAAI,EAAGA,EAAIhhB,EAAQghB,IACrB,IAAA,IAAI5oB,EAAI,EAAGA,EAAI2H,EAAO3H,IAAK2oB,IACrB,GAAL3oB,GAAe,GAAL4oB,IACV5oB,GAAKopB,GAAaR,GAAKS,GACzBjB,EAAQkB,KAAUX,EAClBP,EAAQkB,KAAUX,EAAOhhB,EAAQ,EACjCygB,EAAQkB,KAAUX,EAAOhhB,EACzBygB,EAAQkB,KAAUX,EAAOhhB,EAAQ,EACjCygB,EAAQkB,KAAUX,EAClBP,EAAQkB,KAAUX,EAAO,IAEzBP,EAAQkB,KAAUX,EAAO,EACzBP,EAAQkB,KAAUX,EAAOhhB,EACzBygB,EAAQkB,KAAUX,EAClBP,EAAQkB,KAAUX,EAAOhhB,EACzBygB,EAAQkB,KAAUX,EAAO,EACzBP,EAAQkB,KAAUX,EAAOhhB,EAAQ,IAKlCygB,OAAAA,GAETtG,EAAmBzQ,UAAUkY,0BAA4B,SAAUC,EAAOC,GACpErS,IAAAA,EAAahW,OAAO2hB,yBAAyByG,EAAOC,GAWjDrS,YAVgB3M,IAAnB2M,EAAWxX,UAAwC6K,IAAnB2M,EAAWtX,MAC7CsX,EAAWE,cAAe,EAC1BF,EAAWC,YAAa,EACxBD,EAAWxX,IAAM,WACR,OAAA,KAAK8pB,aAAaD,IAE3BrS,EAAWtX,IAAM,SAAU6pB,GACpBC,KAAAA,aAAaH,EAAUE,KAGzBvS,GAELyS,IAAAA,EAAO,CAAC,2BAA4B,8BAA+B,gBAAiB,+DAAgE,KAAKjI,KAAK,MAC9JkI,EAAO,CAAC,2BAA4B,sBAAuB,gBAAiB,0BAA2B,KAAKlI,KAAK,MACjHmI,EAAUpoB,KAAKC,GAAK,IAMpBooB,EAAe,MAIVC,SAAAA,EAAY1P,GACdA,KAAAA,GAAKA,EACLkJ,KAAAA,QAAU,CACbvN,SAAU,GAEPgF,KAAAA,QAAUZ,EAAYC,EAAIsP,EAAMC,EAAM,KAAKrG,SAC3ChI,KAAAA,SAAWD,EAAmBjB,EAAI,KAAKW,SACvC2I,KAAAA,aAAetJ,EAAGuJ,eAClBoG,KAAAA,WAAa,EACbC,KAAAA,gBAAkB,EAClBC,KAAAA,YAAc,EACdC,KAAAA,iBAAmB,EACnBC,KAAAA,QAAU,IAAI9oB,aAAa,IAC3B/B,KAAAA,SAAW,KACXglB,KAAAA,WA+GE8F,SAAAA,EAAWC,GACbA,KAAAA,aAAeA,EA9GtBP,EAAY5Y,UAAUqT,QAAU,WAC1BnK,IAAAA,EAAK,KAAKA,GACV,KAAK9a,UACP8a,EAAGtZ,OAAOlB,oBAAoB,QAAS,KAAKN,UAAU,GAExD8a,EAAGqK,cAAc,KAAK1J,SACtBX,EAAGsK,aAAa,KAAKhB,eAEvBoG,EAAY5Y,UAAUoZ,OAAS,SAAUC,EAAiBC,GACpD1pB,IAAAA,EAAS,KAAKsZ,GAAGtZ,OAChBxB,KAAAA,SAAW,SAAUW,GACpBwqB,IAAAA,EAAU3pB,EAAO4pB,YAAc,EAE/BzqB,EAAM0qB,QAAUF,EADHG,IAC2B3qB,EAAM0qB,QAAUF,EAD3CG,IACmE3qB,EAAM4qB,QAAU/pB,EAAOgqB,aAD1FF,GAEfL,EAAgBtqB,GAETA,EAAM0qB,QAJEC,IAIsB3qB,EAAM4qB,QAJ5BD,IAKbJ,EAAavqB,IAGnBa,EAAO1B,iBAAiB,QAAS,KAAKE,UAAU,IAElDwqB,EAAY5Y,UAAUoT,SAAW,WAC3BlK,IAAAA,EAAK,KAAKA,GACVxb,EAAO,KACPkmB,EAAU,CAAC1K,EAAGuF,sBAClBd,EAAgBzE,EAAI0K,EAAS,SAAU1K,GACjCyN,IAAAA,EAAW,GACX4C,EAAUrQ,EAAG5J,mBAAqB,EAClCua,EAAiBvpB,KAAKkY,IAAIC,OAAOnS,MAAOmS,OAAOlS,QAAU5I,OAAO+a,iBAChEoR,EAAe5Q,EAAG5J,mBAAqBua,EACvCE,EAAMD,EAAensB,OAAO+a,iBAC5BsR,EAnDqB,EAmDgBD,EAAM,EAC3CE,EAAaP,GAAoCK,EACjDG,EApDa,GAoDkBH,EAAM,EACrCI,EAAe,GAAuDJ,EAMjEK,SAAAA,EAAeC,EAAO7E,GACzB5S,IAAAA,GAAS,GAAKyX,GAAS3B,EACvBtlB,EAAI9C,KAAKgqB,IAAI1X,GACbvP,EAAI/C,KAAKiqB,IAAI3X,GACjB+T,EAASnoB,KAAKmqB,EAAevlB,EAAI8mB,EAAcX,EAASZ,EAAetlB,EAAI6mB,EAAcA,GACzFvD,EAASnoB,KAAKgnB,EAAIpiB,EAAI8mB,EAAcX,EAAS/D,EAAIniB,EAAI6mB,EAAcA,GAVrEvD,EAASnoB,KAAK+qB,EAAUS,EAAWC,GACnCtD,EAASnoB,KAAK+qB,EAAUS,EAAW9Q,EAAG1J,qBACtCmX,EAASnoB,KAAK+qB,EAAUS,EAAWC,GACnCtD,EAASnoB,KAAK+qB,EAAUS,EAAW9Q,EAAG1J,qBACtC9R,EAAKmrB,WAAalC,EAAS/nB,OAAS,EAQ/B,IAAA,IAAID,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACvB6rB,IAAAA,EA1EiB,GA0EF7rB,EACnByrB,EAAeI,EAxEF,GAyEbJ,EAAeI,EA3EG,GAEL,GA0EbJ,EAAeI,EA3EK,GAEN,KA0EdJ,EAAeI,EAAgBC,GA1EjB,KA2EdL,EAAeI,EAAgBC,GA5ElB,GAgFNC,SAAAA,EAAetnB,EAAGC,GACzBsjB,EAASnoB,KAAK2rB,EAAe/mB,EAAG8V,EAAG1J,oBAAsB2a,EAAe9mB,GAH1E3F,EAAKorB,gBAAkBnC,EAAS/nB,OAAS,EAAIlB,EAAKmrB,WAClDnrB,EAAKqrB,YAAcpC,EAAS/nB,OAAS,EAIjC+rB,IAAAA,EAAkBX,EAAY1pB,KAAKiqB,IAAI,GAAK7B,GAChDgC,EAAe,EAAGR,GAClBQ,EAAeR,EAAa,GAC5BQ,EAAeR,EAAcS,EAAiBA,GAC9CD,EAAeC,EAAiBT,EAAcS,GAC9CD,EAAeC,EAAiBT,EAAcS,GAC9CD,EAAe,EAAGR,GAClBQ,EAAeR,EAA2B,EAAdA,GAC5BQ,EAAeR,EAAcS,EAA+B,EAAdT,EAAkBS,GAChED,EAAeC,EAAiBT,EAAcS,GAC9CD,EAAe,EAAGR,GAClBQ,EAAeC,EAAiBT,EAAcF,GAC9CU,EA3FiB,GA2FeX,EAAKG,EAAcF,GACnDU,EAAeC,EAAiBT,EAAcF,GAC9CU,EA7FiB,GA6FeX,EAAKG,EAAcF,GACnDtsB,EAAKsrB,iBAAmBrC,EAAS/nB,OAAS,EAAIlB,EAAKqrB,YACnD7P,EAAGwF,WAAWxF,EAAGyF,aAAcjhB,EAAK8kB,cACpCtJ,EAAG2N,WAAW3N,EAAGyF,aAAc,IAAIxe,aAAawmB,GAAWzN,EAAG4N,gBAGlE8B,EAAY5Y,UAAU4a,OAAS,WACzB1R,IAAAA,EAAK,KAAKA,GACVxb,EAAO,KACPkmB,EAAU,CAAC1K,EAAG4G,UAAW5G,EAAG6G,WAAY7G,EAAG2G,MAAO3G,EAAG8G,aAAc9G,EAAG+G,aAAc/G,EAAG4F,gBAAiB5F,EAAG0G,SAAU1G,EAAG8F,gBAAiB9F,EAAGuF,sBAChJd,EAAgBzE,EAAI0K,EAAS,SAAU1K,GACrCA,EAAGiH,QAAQjH,EAAG4G,WACd5G,EAAGiH,QAAQjH,EAAG6G,YACd7G,EAAGiH,QAAQjH,EAAG2G,OACd3G,EAAGiH,QAAQjH,EAAG8G,cACd9G,EAAGiH,QAAQjH,EAAG+G,cACd/G,EAAG6F,WAAU,GAAM,GAAM,GAAM,GAC/B7F,EAAGpS,SAAS,EAAG,EAAGoS,EAAG5J,mBAAoB4J,EAAG1J,qBAC5C9R,EAAK6oB,mBAGTqC,EAAY5Y,UAAUuW,cAAgB,WAChCrN,IA/6BiCzY,EAAKsU,EAAM8V,EAAOC,EAAQhW,EAAKjQ,EAAMC,EACtEimB,EACAC,EACAhmB,EA46BAkU,EAAK,KAAKA,GACdA,EAAG+F,WAAW,KAAKpF,SACnBX,EAAGwF,WAAWxF,EAAGyF,aAAc,KAAK6D,cACpCtJ,EAAG4M,wBAAwB,KAAK1D,QAAQvN,UACxCqE,EAAG6M,oBAAoB,KAAK3D,QAAQvN,SAAU,EAAGqE,EAAG8M,OAAO,EAAO,EAAG,GACrE9M,EAAG+R,UAAU,KAAK7Q,SAAS8Q,MAAO,EAAK,EAAK,EAAK,GAp7BZzqB,EAq7BzB,KAAKwoB,QAr7ByBlU,EAq7BhB,EAr7BsB8V,EAq7BnB3R,EAAG5J,mBAr7BuBwb,EAq7BH,EAr7BWhW,EAq7BRoE,EAAG1J,oBAp7BtDub,EAAK,GAAKhW,EAAO8V,GACjBG,EAAK,GAAKF,EAAShW,GACnB9P,EAAK,IAH2DH,EAq7BW,KAr7BLC,EAq7BU,OAj7BpFrE,EAAI,IAAM,EAAIsqB,EACdtqB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAIuqB,EACdvqB,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,IAAM,EAAIuE,EACdvE,EAAI,IAAM,EACVA,EAAI,KAAOsU,EAAO8V,GAASE,EAC3BtqB,EAAI,KAAOqU,EAAMgW,GAAUE,EAC3BvqB,EAAI,KAAOqE,EAAMD,GAAQG,EACzBvE,EAAI,IAAM,EAm6BVyY,EAAGiS,iBAAiB,KAAK/Q,SAASgR,eAAe,EAAO,KAAKnC,SAC7D/P,EAAGmS,WAAWnS,EAAGoS,eAAgB,EAAG,GACpCpS,EAAGmS,WAAWnS,EAAGoS,eAAgB,KAAKzC,WAAY,KAAKC,iBACvD5P,EAAGmS,WAAWnS,EAAGoS,eAAgB,KAAKvC,YAAa,KAAKC,mBAK1DE,EAAWlZ,UAAU4X,eAAiB,SAAU2D,GAIvCjrB,IAHHkrB,IAAAA,EAAK,EACLC,EAAK,EACLC,EAAMH,EAAS,KAAKI,QAAQH,GACzBlrB,KAAKsrB,IAAIH,EAAKD,GAAM,MAAqB,CAC1CK,IAAAA,EAAMN,EAAS,KAAKI,QAAQF,GAC5BK,EAAKL,EAAKI,IAAQJ,EAAKD,IAAOK,EAAMH,IACxCF,EAAKC,EACLA,EAAKK,EACLJ,EAAMG,EAEDJ,OAAAA,GAETvC,EAAWlZ,UAAU2b,QAAU,SAAUJ,GAGlC,IAFDO,IAAAA,EAAKP,EAASA,EACdQ,EAAM,EACDptB,EAAI,EAAGA,EAAI,KAAKwqB,aAAavqB,OAAQD,IAC5CotB,EAAMD,GAAMC,EAAM,KAAK5C,aAAaxqB,IAE/B,OAACotB,EAAM,GAAKR,GAEjBS,IAAAA,EAAW1rB,KAAKC,GAAK,IACrB0rB,EAAW,IAAM3rB,KAAKC,GACtB2rB,EAAU,SAAiB9oB,EAAGC,EAAGC,GAC9BF,KAAAA,EAAIA,GAAK,EACTC,KAAAA,EAAIA,GAAK,EACTC,KAAAA,EAAIA,GAAK,GAEhB4oB,EAAQlc,UAAY,CAClBjS,YAAamuB,EACbztB,IAAK,SAAa2E,EAAGC,EAAGC,GAIf,OAHFF,KAAAA,EAAIA,EACJC,KAAAA,EAAIA,EACJC,KAAAA,EAAIA,EACF,MAET5C,KAAM,SAAcyC,GAIX,OAHFC,KAAAA,EAAID,EAAEC,EACNC,KAAAA,EAAIF,EAAEE,EACNC,KAAAA,EAAIH,EAAEG,EACJ,MAET1E,OAAQ,WACC0B,OAAAA,KAAKmE,KAAK,KAAKrB,EAAI,KAAKA,EAAI,KAAKC,EAAI,KAAKA,EAAI,KAAKC,EAAI,KAAKA,IAErE8N,UAAW,WACL+a,IAAAA,EAAS,KAAKvtB,SACdutB,GAAW,IAAXA,EAAc,CACZC,IAAAA,EAAY,EAAID,EACfE,KAAAA,eAAeD,QAEfhpB,KAAAA,EAAI,EACJC,KAAAA,EAAI,EACJC,KAAAA,EAAI,EAEJ,OAAA,MAET+oB,eAAgB,SAAwBF,GACjC/oB,KAAAA,GAAK+oB,EACL9oB,KAAAA,GAAK8oB,EACL7oB,KAAAA,GAAK6oB,GAEZG,gBAAiB,SAAyBppB,GACpCE,IAAAA,EAAI,KAAKA,EACTC,EAAI,KAAKA,EACTC,EAAI,KAAKA,EACT2O,EAAK/O,EAAEE,EACP8O,EAAKhP,EAAEG,EACP8O,EAAKjP,EAAEI,EACP8O,EAAKlP,EAAEK,EACPgpB,EAAKna,EAAKhP,EAAI8O,EAAK5O,EAAI6O,EAAK9O,EAC5BmpB,EAAKpa,EAAK/O,EAAI8O,EAAK/O,EAAI6O,EAAK3O,EAC5BmpB,EAAKra,EAAK9O,EAAI2O,EAAK5O,EAAI6O,EAAK9O,EAC5BspB,GAAMza,EAAK7O,EAAI8O,EAAK7O,EAAI8O,EAAK7O,EAI1B,OAHFF,KAAAA,EAAImpB,EAAKna,EAAKsa,GAAMza,EAAKua,GAAMra,EAAKsa,GAAMva,EAC1C7O,KAAAA,EAAImpB,EAAKpa,EAAKsa,GAAMxa,EAAKua,GAAMxa,EAAKsa,GAAMpa,EAC1C7O,KAAAA,EAAImpB,EAAKra,EAAKsa,GAAMva,EAAKoa,GAAMra,EAAKsa,GAAMva,EACxC,MAETX,IAAK,SAAanO,GACT,OAAA,KAAKC,EAAID,EAAEC,EAAI,KAAKC,EAAIF,EAAEE,EAAI,KAAKC,EAAIH,EAAEG,GAElDqpB,aAAc,SAAsBhsB,EAAGiC,GACjC4O,IAAAA,EAAK7Q,EAAEyC,EACPqO,EAAK9Q,EAAE0C,EACPqO,EAAK/Q,EAAE2C,EACPqO,EAAK/O,EAAEQ,EACPwO,EAAKhP,EAAES,EACPwO,EAAKjP,EAAEU,EAIJ,OAHFF,KAAAA,EAAIqO,EAAKI,EAAKH,EAAKE,EACnBvO,KAAAA,EAAIqO,EAAKC,EAAKH,EAAKK,EACnBvO,KAAAA,EAAIkO,EAAKI,EAAKH,EAAKE,EACjB,OAGPib,IA4IIC,EAAIrH,EA5IRoH,EAAa,SAAoBxpB,EAAGC,EAAGC,EAAGC,GACvCH,KAAAA,EAAIA,GAAK,EACTC,KAAAA,EAAIA,GAAK,EACTC,KAAAA,EAAIA,GAAK,EACTC,KAAAA,OAAU6F,IAAN7F,EAAkBA,EAAI,GAgKxBupB,SAAAA,EAAOC,GACTzmB,KAAAA,MAAQymB,EAAOzmB,OAASiS,IACxBhS,KAAAA,OAASwmB,EAAOxmB,QAAUoS,IAC1BqU,KAAAA,YAAcD,EAAOC,YACrBC,KAAAA,aAAeF,EAAOE,aACtBC,KAAAA,YAAcH,EAAOG,YAnK5BN,EAAW5c,UAAY,CACrBjS,YAAa6uB,EACbnuB,IAAK,SAAa2E,EAAGC,EAAGC,EAAGC,GAKlB,OAJFH,KAAAA,EAAIA,EACJC,KAAAA,EAAIA,EACJC,KAAAA,EAAIA,EACJC,KAAAA,EAAIA,EACF,MAET7C,KAAM,SAAcysB,GAKX,OAJF/pB,KAAAA,EAAI+pB,EAAW/pB,EACfC,KAAAA,EAAI8pB,EAAW9pB,EACfC,KAAAA,EAAI6pB,EAAW7pB,EACfC,KAAAA,EAAI4pB,EAAW5pB,EACb,MAET6pB,gBAAiB,SAAyBhqB,EAAGC,EAAGC,GAC1C+pB,IAAAA,EAAK/sB,KAAKgqB,IAAIlnB,EAAI,GAClBkqB,EAAKhtB,KAAKgqB,IAAIjnB,EAAI,GAClBkqB,EAAKjtB,KAAKgqB,IAAIhnB,EAAI,GAClBkqB,EAAKltB,KAAKiqB,IAAInnB,EAAI,GAClBqqB,EAAKntB,KAAKiqB,IAAIlnB,EAAI,GAClBqqB,EAAKptB,KAAKiqB,IAAIjnB,EAAI,GAKf,OAJFF,KAAAA,EAAIoqB,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EAC7BrqB,KAAAA,EAAIgqB,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EAC7BpqB,KAAAA,EAAI+pB,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EAC7BhqB,KAAAA,EAAI8pB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAC3B,MAETC,gBAAiB,SAAyBvqB,EAAGC,EAAGC,GAC1C+pB,IAAAA,EAAK/sB,KAAKgqB,IAAIlnB,EAAI,GAClBkqB,EAAKhtB,KAAKgqB,IAAIjnB,EAAI,GAClBkqB,EAAKjtB,KAAKgqB,IAAIhnB,EAAI,GAClBkqB,EAAKltB,KAAKiqB,IAAInnB,EAAI,GAClBqqB,EAAKntB,KAAKiqB,IAAIlnB,EAAI,GAClBqqB,EAAKptB,KAAKiqB,IAAIjnB,EAAI,GAKf,OAJFF,KAAAA,EAAIoqB,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EAC7BrqB,KAAAA,EAAIgqB,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EAC7BpqB,KAAAA,EAAI+pB,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EAC7BhqB,KAAAA,EAAI8pB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAC3B,MAETE,iBAAkB,SAA0BC,EAAMjb,GAC5Ckb,IAAAA,EAAYlb,EAAQ,EACpB6U,EAAInnB,KAAKiqB,IAAIuD,GAKV,OAJF1qB,KAAAA,EAAIyqB,EAAKzqB,EAAIqkB,EACbpkB,KAAAA,EAAIwqB,EAAKxqB,EAAIokB,EACbnkB,KAAAA,EAAIuqB,EAAKvqB,EAAImkB,EACblkB,KAAAA,EAAIjD,KAAKgqB,IAAIwD,GACX,MAETnrB,SAAU,SAAkBO,GACnB,OAAA,KAAK6qB,oBAAoB,KAAM7qB,IAExC6qB,oBAAqB,SAA6BptB,EAAGiC,GAC/CorB,IAAAA,EAAMrtB,EAAEyC,EACR6qB,EAAMttB,EAAE0C,EACR6qB,EAAMvtB,EAAE2C,EACR6qB,EAAMxtB,EAAE4C,EACR6qB,EAAMxrB,EAAEQ,EACRirB,EAAMzrB,EAAES,EACRirB,EAAM1rB,EAAEU,EACRirB,EAAM3rB,EAAEW,EAKL,OAJFH,KAAAA,EAAI4qB,EAAMO,EAAMJ,EAAMC,EAAMH,EAAMK,EAAMJ,EAAMG,EAC9ChrB,KAAAA,EAAI4qB,EAAMM,EAAMJ,EAAME,EAAMH,EAAME,EAAMJ,EAAMM,EAC9ChrB,KAAAA,EAAI4qB,EAAMK,EAAMJ,EAAMG,EAAMN,EAAMK,EAAMJ,EAAMG,EAC9C7qB,KAAAA,EAAI4qB,EAAMI,EAAMP,EAAMI,EAAMH,EAAMI,EAAMH,EAAMI,EAC5C,MAETE,QAAS,WAKA,OAJFprB,KAAAA,IAAM,EACNC,KAAAA,IAAM,EACNC,KAAAA,IAAM,EACN8N,KAAAA,YACE,MAETA,UAAW,WACLqC,IAAAA,EAAInT,KAAKmE,KAAK,KAAKrB,EAAI,KAAKA,EAAI,KAAKC,EAAI,KAAKA,EAAI,KAAKC,EAAI,KAAKA,EAAI,KAAKC,EAAI,KAAKA,GAa/E,OAZG,IAANkQ,GACGrQ,KAAAA,EAAI,EACJC,KAAAA,EAAI,EACJC,KAAAA,EAAI,EACJC,KAAAA,EAAI,IAETkQ,EAAI,EAAIA,EACHrQ,KAAAA,EAAI,KAAKA,EAAIqQ,EACbpQ,KAAAA,EAAI,KAAKA,EAAIoQ,EACbnQ,KAAAA,EAAI,KAAKA,EAAImQ,EACblQ,KAAAA,EAAI,KAAKA,EAAIkQ,GAEb,MAETgb,MAAO,SAAeC,EAAIrX,GACpBA,GAAM,IAANA,EAAS,OAAO,KAChBA,GAAM,IAANA,EAAS,OAAO,KAAK3W,KAAKguB,GAC1BtrB,IAAAA,EAAI,KAAKA,EACTC,EAAI,KAAKA,EACTC,EAAI,KAAKA,EACTC,EAAI,KAAKA,EACTorB,EAAeprB,EAAImrB,EAAGnrB,EAAIH,EAAIsrB,EAAGtrB,EAAIC,EAAIqrB,EAAGrrB,EAAIC,EAAIorB,EAAGprB,EAUvDqrB,GATAA,EAAe,GACZprB,KAAAA,GAAKmrB,EAAGnrB,EACRH,KAAAA,GAAKsrB,EAAGtrB,EACRC,KAAAA,GAAKqrB,EAAGrrB,EACRC,KAAAA,GAAKorB,EAAGprB,EACbqrB,GAAgBA,GAEXjuB,KAAAA,KAAKguB,GAERC,GAAgB,EAKX,OAJFprB,KAAAA,EAAIA,EACJH,KAAAA,EAAIA,EACJC,KAAAA,EAAIA,EACJC,KAAAA,EAAIA,EACF,KAELsrB,IAAAA,EAAYtuB,KAAK0S,KAAK2b,GACtBE,EAAevuB,KAAKmE,KAAK,EAAMkqB,EAAeA,GAC9CruB,GAAAA,KAAKsrB,IAAIiD,GAAgB,KAKpB,OAJFtrB,KAAAA,EAAI,IAAOA,EAAI,KAAKA,GACpBH,KAAAA,EAAI,IAAOA,EAAI,KAAKA,GACpBC,KAAAA,EAAI,IAAOA,EAAI,KAAKA,GACpBC,KAAAA,EAAI,IAAOA,EAAI,KAAKA,GAClB,KAELwrB,IAAAA,EAASxuB,KAAKiqB,KAAK,EAAIlT,GAAKuX,GAAaC,EACzCE,EAASzuB,KAAKiqB,IAAIlT,EAAIuX,GAAaC,EAKhC,OAJFtrB,KAAAA,EAAIA,EAAIurB,EAAS,KAAKvrB,EAAIwrB,EAC1B3rB,KAAAA,EAAIA,EAAI0rB,EAAS,KAAK1rB,EAAI2rB,EAC1B1rB,KAAAA,EAAIA,EAAIyrB,EAAS,KAAKzrB,EAAI0rB,EAC1BzrB,KAAAA,EAAIA,EAAIwrB,EAAS,KAAKxrB,EAAIyrB,EACxB,MAETC,mBAGS,SAAUC,EAAOC,GAkBf,YAjBI9lB,IAAPyjB,IAAkBA,EAAK,IAAIX,IAC/B1G,EAAIyJ,EAAM3d,IAAI4d,GAAO,GAHb,MAKN1J,EAAI,EACAllB,KAAKsrB,IAAIqD,EAAM7rB,GAAK9C,KAAKsrB,IAAIqD,EAAM3rB,GACrCupB,EAAGpuB,KAAKwwB,EAAM5rB,EAAG4rB,EAAM7rB,EAAG,GAE1BypB,EAAGpuB,IAAI,GAAIwwB,EAAM3rB,EAAG2rB,EAAM5rB,IAG5BwpB,EAAGF,aAAasC,EAAOC,GAEpB9rB,KAAAA,EAAIypB,EAAGzpB,EACPC,KAAAA,EAAIwpB,EAAGxpB,EACPC,KAAAA,EAAIupB,EAAGvpB,EACPC,KAAAA,EAAIiiB,EACJpU,KAAAA,YACE,OAWT+d,IAAAA,EAAkB,IAAIrC,EAAO,CAC/BE,YAAa,IACbC,aAAc,KACdC,YAAa,OAEXkC,EAAc,IAAItC,EAAO,CAC3BE,YAAa,MACbC,aAAc,MACdC,YAAa,OAEXmC,EAAU,CACZC,YAAa,IAAIC,EAAgB,CAC/B5lB,GAAI,cACJ6lB,MAAO,qBACP9T,IAAK,GACL+T,kBAAmB,IACnBC,qBAAsB,KACtBC,mBAAoB,KACpBC,uBAAwB,CAAC,KAAO,MAChCC,oBAAqB,EAAE,SAAW,WAAa,SAAW,UAAY,UAAY,UAAY,UAAY,WAAa,UAAY,UAAY,UAAY,cAE7JC,YAAa,IAAIP,EAAgB,CAC/B5lB,GAAI,cACJ6lB,MAAO,qBACP9T,IAAK,GACL+T,kBAAmB,KACnBC,qBAAsB,KACtBC,mBAAoB,KACpBC,uBAAwB,CAAC,IAAM,KAC/BC,oBAAqB,EAAE,WAAa,UAAY,SAAW,UAAW,WAAY,UAAY,WAAa,UAAY,YAAc,YAAa,aAAc,iBAG3JE,SAAAA,EAAWC,EAAcC,GAC3BC,KAAAA,OAASb,EAAQS,YACjBK,KAAAA,mBAAmBH,GACnBrI,KAAAA,WAAa,IAAIuB,EAAW,KAAKgH,OAAON,wBACxC,IAAA,IAAIjxB,EAAI,EAAGA,EAAIsxB,EAAkBrxB,OAAQD,IAAK,CAC7CuxB,IAAAA,EAASD,EAAkBtxB,GAC/B0wB,EAAQa,EAAOvmB,IAAM,IAAI4lB,EAAgBW,IAyLpCX,SAAAA,EAAgBxC,GAClBpjB,KAAAA,GAAKojB,EAAOpjB,GACZ6lB,KAAAA,MAAQzC,EAAOyC,MACf9T,KAAAA,IAAMqR,EAAOrR,IACb+T,KAAAA,kBAAoB1C,EAAO0C,kBAC3BC,KAAAA,qBAAuB3C,EAAO2C,qBAC9BC,KAAAA,mBAAqB5C,EAAO4C,mBAC5BC,KAAAA,uBAAyB7C,EAAO6C,uBAChCC,KAAAA,oBAAsB9C,EAAO8C,oBA9LpCE,EAAW/f,UAAUmgB,mBAAqB,SAAUH,GAC7C7wB,KAAAA,OAAS,KAAKixB,iBAAiBJ,IAAiB,KAAK7wB,QAE5D4wB,EAAW/f,UAAUqgB,UAAY,WACxB,OAAA,KAAKlxB,QAEd4wB,EAAW/f,UAAUsgB,UAAY,SAAUJ,GACpCA,KAAAA,OAASA,EACTvI,KAAAA,WAAa,IAAIuB,EAAW,KAAKgH,OAAON,yBAE/CG,EAAW/f,UAAUogB,iBAAmB,SAAUJ,GAC5C,IAACA,EACC1Y,OAAAA,KACF3H,QAAQC,KAAK,2CACNwf,IAEPzf,QAAQC,KAAK,+CACNuf,GAGPoB,IACAC,EADkB,MACkBR,EAAaS,KACjDC,EAFkB,MAEkBV,EAAaW,KACjDrqB,EAAQiS,IACRhS,EAASoS,IACN,OAAA,IAAImU,EAAO,CAChBE,YAAawD,EAAkBlqB,EAC/B2mB,aAAcyD,EAAkBnqB,EAChC2mB,YAAoC,KAAvB8C,EAAaY,WAG9Bb,EAAW/f,UAAU6gB,+BAAiC,WAChDX,IAAAA,EAAS,KAAKA,OACd/wB,EAAS,KAAKA,OACdwoB,EAAa,KAAKA,WAClBmJ,EAAsBZ,EAAOP,mBAC7BoB,GAAa5xB,EAAO6tB,YAAckD,EAAOT,mBAAqB,EAC9DuB,EAAYd,EAAOT,kBAAoB,EACvCwB,EAAaf,EAAOR,qBAAuBvwB,EAAO+tB,YAClDgE,EAAU/xB,EAAO8tB,aAAegE,EAChCE,EAAalF,EAAW3rB,KAAK8wB,KAAKzJ,EAAWgE,QAAQoF,EAAYD,IACjEO,EAAapF,EAAW3rB,KAAK8wB,KAAKzJ,EAAWgE,QAAQqF,EAAYF,IACjEQ,EAAcrF,EAAW3rB,KAAK8wB,KAAKzJ,EAAWgE,QAAQsF,EAAaH,IACnES,EAAWtF,EAAW3rB,KAAK8wB,KAAKzJ,EAAWgE,QAAQuF,EAAUJ,IAC1D,MAAA,CACL5U,YAAa5b,KAAKoT,IAAIyd,EAAYjB,EAAOxU,KACzCU,aAAc9b,KAAKoT,IAAI2d,EAAYnB,EAAOxU,KAC1CM,YAAa1b,KAAKoT,IAAI4d,EAAapB,EAAOxU,KAC1CI,UAAWxb,KAAKoT,IAAI6d,EAAUrB,EAAOxU,OAGzCqU,EAAW/f,UAAUkX,2BAA6B,WAC5CgJ,IAAAA,EAAS,KAAKA,OACd/wB,EAAS,KAAKA,OACdwoB,EAAa,KAAKA,WAClB6J,EAAUlxB,KAAK2E,KAAK+mB,EAAWkE,EAAOxU,KACtC+V,EAASnxB,KAAK2E,IAAI+mB,EAAWkE,EAAOxU,KACpCgW,EAAWpxB,KAAK2E,IAAI+mB,EAAWkE,EAAOxU,KACtCiW,EAAYrxB,KAAK2E,KAAK+mB,EAAWkE,EAAOxU,KACxCkW,EAAYzyB,EAAO6tB,YAAc,EACjC6E,EAAa1yB,EAAO8tB,aAAe,EACnC6E,EAAqB5B,EAAOR,qBAAuBvwB,EAAO+tB,YAAc2E,EACxEE,EAAU7B,EAAOT,kBAAoB,EAAImC,EACzCI,GAAWF,EACXG,EAAU/B,EAAOP,mBACjBuC,EAAavK,EAAWgE,SAASoG,EAAUH,GAAaK,GACxDE,EAAYxK,EAAWgE,SAASqG,EAAUH,GAAcI,GACxDG,EAAczK,EAAWgE,SAASoG,EAAUH,GAAaK,GACzDI,EAAe1K,EAAWgE,SAASqG,EAAUH,GAAcI,GAC3DK,EAAS,IAAInyB,aAAa,GAKvBmyB,OAJPA,EAAO,GAAKhyB,KAAKkY,IAAIgZ,EAASU,GAC9BI,EAAO,GAAKhyB,KAAKoT,IAAI+d,EAAQU,GAC7BG,EAAO,GAAKhyB,KAAKoT,IAAIge,EAAUU,GAC/BE,EAAO,GAAKhyB,KAAKkY,IAAImZ,EAAWU,GACzBC,GAETvC,EAAW/f,UAAUoX,0BAA4B,WAC3C8I,IAAAA,EAAS,KAAKA,OACd/wB,EAAS,KAAKA,OACdwoB,EAAa,KAAKA,WAClB2K,EAAS,IAAInyB,aAAa,GAC1BqxB,EAAU7J,EAAWC,eAAetnB,KAAK2E,KAAK+mB,EAAWkE,EAAOxU,MAChE+V,EAAS9J,EAAWC,eAAetnB,KAAK2E,IAAI+mB,EAAWkE,EAAOxU,MAC9DgW,EAAW/J,EAAWC,eAAetnB,KAAK2E,IAAI+mB,EAAWkE,EAAOxU,MAChEiW,EAAYhK,EAAWC,eAAetnB,KAAK2E,KAAK+mB,EAAWkE,EAAOxU,MAClEkW,EAAYzyB,EAAO6tB,YAAc,EACjC6E,EAAa1yB,EAAO8tB,aAAe,EACnC6E,EAAqB5B,EAAOR,qBAAuBvwB,EAAO+tB,YAAc2E,EACxEE,EAAU7B,EAAOT,kBAAoB,EAAImC,EACzCI,GAAWF,EACXG,EAAU/B,EAAOP,mBACjBuC,GAAcH,EAAUH,GAAaK,EACrCE,GAAaH,EAAUH,GAAcI,EACrCG,GAAeL,EAAUH,GAAaK,EACtCI,GAAgBL,EAAUH,GAAcI,EAKrCK,OAJPA,EAAO,GAAKhyB,KAAKkY,IAAIgZ,EAASU,GAC9BI,EAAO,GAAKhyB,KAAKoT,IAAI+d,EAAQU,GAC7BG,EAAO,GAAKhyB,KAAKoT,IAAIge,EAAUU,GAC/BE,EAAO,GAAKhyB,KAAKkY,IAAImZ,EAAWU,GACzBC,GAETvC,EAAW/f,UAAUqX,4BAA8B,SAAUkL,GACvDrC,IAAAA,EAAS,KAAKA,OACd/wB,EAAS,KAAKA,OACdqzB,EAAOtC,EAAOP,mBACd8C,GAAQtzB,EAAO6tB,YAAckD,EAAOT,mBAAqB,EACzDiD,EAAOxC,EAAOR,qBAAuBvwB,EAAO+tB,YAC5CnY,GAAQwd,EAAmB,GAAKC,EAAOC,GAAQtzB,EAAO6tB,YACtDlY,GAAOyd,EAAmB,GAAKC,EAAOE,GAAQvzB,EAAO8tB,aACrDpC,GAAS0H,EAAmB,GAAKC,EAAOC,GAAQtzB,EAAO6tB,YACvDlC,GAAUyH,EAAmB,GAAKC,EAAOE,GAAQvzB,EAAO8tB,aACrD,MAAA,CACL7pB,EAAG2R,EACH1R,EAAGynB,EACHxkB,MAAOukB,EAAQ9V,EACfxO,OAAQuO,EAAMgW,IAGlBiF,EAAW/f,UAAU2iB,sBAAwB,SAAUC,GAC9CA,OAAAA,EAAoB,KAAKC,mCAAqC,KAAKhC,kCAE5Ed,EAAW/f,UAAU8iB,uBAAyB,SAAUF,GAClDlX,IAAAA,EAAM,KAAKiX,sBAAsBC,GAC9B,MAAA,CACL1W,YAAaR,EAAIU,aACjBA,aAAcV,EAAIQ,YAClBJ,UAAWJ,EAAII,UACfE,YAAaN,EAAIM,cAGrB+T,EAAW/f,UAAU6iB,iCAAmC,WAClDhL,IAAAA,EAAI,KAAKkL,wBACN,MAAA,CACL7W,YAAa+P,EAAW3rB,KAAK8wB,KAAKvJ,EAAEkJ,WACpC3U,aAAc6P,EAAW3rB,KAAK8wB,KAAKvJ,EAAEmJ,WACrChV,YAAaiQ,EAAW3rB,KAAK8wB,KAAKvJ,EAAEoJ,YACpCnV,UAAWmQ,EAAW3rB,KAAK8wB,KAAKvJ,EAAEqJ,WAGtCnB,EAAW/f,UAAUgjB,8BAAgC,WAC/CnL,IAAAA,EAAI,KAAKkL,wBACT7C,EAAS,KAAKA,OACd/wB,EAAS,KAAKA,OACd2xB,EAAsBZ,EAAOP,mBAC7BsD,EAAc9zB,EAAO6tB,YAAc8D,EACnCoC,EAAe/zB,EAAO8tB,aAAe6D,EACrCqC,EAAiBh0B,EAAOmH,MAAQ2sB,EAChCG,EAAiBj0B,EAAOoH,OAAS2sB,EACjC9vB,EAAI9C,KAAK+yB,OAAOxL,EAAEyL,QAAUzL,EAAEkJ,WAAaoC,GAC3C9vB,EAAI/C,KAAK+yB,OAAOxL,EAAE0L,QAAU1L,EAAEoJ,YAAcmC,GACzC,MAAA,CACLhwB,EAAGA,EACHC,EAAGA,EACHiD,MAAOhG,KAAK+yB,OAAOxL,EAAEyL,QAAUzL,EAAEmJ,WAAamC,GAAkB/vB,EAChEmD,OAAQjG,KAAK+yB,OAAOxL,EAAE0L,QAAU1L,EAAEqJ,SAAWkC,GAAkB/vB,IAGnE0sB,EAAW/f,UAAU+iB,sBAAwB,WACvC7C,IAAAA,EAAS,KAAKA,OACd/wB,EAAS,KAAKA,OACdwoB,EAAa,KAAKA,WAClBmJ,EAAsBZ,EAAOP,mBAC7B6D,EAAmBtD,EAAOT,kBAAoB,EAAIqB,EAClDmC,EAAc9zB,EAAO6tB,YAAc8D,EACnCoC,EAAe/zB,EAAO8tB,aAAe6D,EACrCwC,EAAUL,EAAc,EAAIO,EAC5BD,GAAWrD,EAAOR,qBAAuBvwB,EAAO+tB,aAAe4D,EAC/D2C,EAASvD,EAAOxU,IAChBgY,EAAY/L,EAAWC,eAAetnB,KAAK2E,IAAI+mB,EAAWyH,IAC1D1C,EAAYzwB,KAAKoT,IAAI4f,EAASI,GAC9B1C,EAAY1wB,KAAKoT,IAAI8f,EAAkBE,GACvCzC,EAAa3wB,KAAKoT,IAAI6f,EAASG,GAC/BxC,EAAU5wB,KAAKoT,IAAIwf,EAAeK,EAASG,GACxC,MAAA,CACL3C,UAAWA,EACXC,UAAWA,EACXE,QAASA,EACTD,WAAYA,EACZqC,QAASA,EACTC,QAASA,IAabxD,EAAWV,QAAUA,EACjBsE,IAGAC,EAAa,CAChBD,OAJY,EAKZE,aAJkB,uBAKlBC,QAJa,CAAC,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,oBAAoB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,KAAU,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,eAAqB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,yBAAyB,CAAM,GAAA,eAAqB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,yBAAyB,CAAM,GAAA,eAAqB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,KAAU,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,sBAAsB,CAAM,GAAA,YAAkB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,sBAAsB,CAAM,GAAA,YAAkB,IAAA,IAAS,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,oBAAoB,CAAM,GAAA,UAAgB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,sBAAsB,CAAM,GAAA,eAAqB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,sBAAsB,CAAM,GAAA,eAAqB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,IAAS,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,sBAAsB,CAAM,GAAA,eAAqB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,sBAAsB,CAAM,GAAA,eAAqB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,KAAU,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,sBAAsB,CAAM,GAAA,iBAAuB,IAAA,IAAS,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,sBAAsB,CAAM,GAAA,YAAkB,IAAA,IAAS,GAAA,KAAU,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,8BAA8B,CAAM,GAAA,oBAA0B,IAAA,CAAC,MAAM,SAAc,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,oBAAoB,CAAM,GAAA,aAAmB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,oBAAoB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,cAAoB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,YAAkB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,qBAAqB,CAAM,GAAA,kBAAwB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,gCAAgC,CAAM,GAAA,oBAA0B,IAAA,IAAS,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,oBAA0B,IAAA,CAAC,MAAM,KAAU,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,2BAA2B,CAAM,GAAA,eAAqB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,cAAoB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,WAAiB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,eAAqB,IAAA,IAAS,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,qBAAqB,CAAM,GAAA,UAAgB,IAAA,CAAC,MAAM,KAAU,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,yBAAyB,CAAM,GAAA,cAAoB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,yBAAyB,CAAM,GAAA,cAAoB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,6BAA6B,CAAM,GAAA,mBAAyB,IAAA,CAAC,QAAQ,SAAc,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,yBAAyB,CAAM,GAAA,kBAAwB,IAAA,CAAC,IAAI,KAAU,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,iBAAiB,CAAM,GAAA,SAAe,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,yBAAyB,CAAM,GAAA,cAAoB,IAAA,IAAS,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,KAAU,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,gCAAgC,CAAM,GAAA,qBAA2B,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,uBAAuB,CAAM,GAAA,YAAkB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,SAAS,SAAc,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,yBAAyB,CAAM,GAAA,cAAoB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,yBAAyB,CAAM,GAAA,cAAoB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,gCAAgC,CAAM,GAAA,qBAA2B,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,4BAA4B,CAAM,GAAA,iBAAuB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,KAAU,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,KAAU,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,IAAS,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,QAAQ,SAAc,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,QAAQ,SAAc,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,aAAmB,IAAA,CAAC,QAAQ,SAAc,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,kBAAkB,CAAM,GAAA,UAAgB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,kBAAkB,CAAM,GAAA,UAAgB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,kBAAkB,CAAM,GAAA,UAAgB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,kBAAkB,CAAM,GAAA,UAAgB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,mBAAmB,CAAM,GAAA,WAAiB,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,oCAAoC,CAAM,GAAA,6BAAmC,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,oBAAoB,CAAM,GAAA,aAAmB,IAAA,CAAC,IAAI,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,kBAAkB,CAAM,GAAA,WAAiB,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,wBAAwB,CAAM,GAAA,iBAAuB,IAAA,IAAS,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,UAAkB,MAAA,CAAC,CAAQ,KAAA,oBAAoB,CAAM,GAAA,UAAgB,IAAA,IAAS,GAAA,EAAO,GAAA,KAAK,CAAQ,KAAA,MAAc,MAAA,CAAC,CAAO,IAAA,CAAC,IAAI,OAAa,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,MAAc,MAAA,CAAC,CAAO,IAAA,CAAC,IAAI,QAAc,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,MAAc,MAAA,CAAC,CAAO,IAAA,CAAC,IAAI,QAAc,IAAA,MAAW,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,MAAc,MAAA,CAAC,CAAO,IAAA,CAAC,KAAK,QAAc,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,MAAc,MAAA,CAAC,CAAO,IAAA,CAAC,KAAK,QAAc,IAAA,CAAC,MAAM,OAAY,GAAA,EAAO,GAAA,KAAM,CAAQ,KAAA,MAAc,MAAA,CAAC,CAAO,IAAA,CAAC,KAAK,QAAc,IAAA,IAAS,GAAA,EAAO,GAAA,OAMt0XC,SAAAA,EAAK/W,EAAKgX,GAGbhX,GAFCiX,KAAAA,KAAOL,EACPM,KAAAA,2BACDlX,EAAK,CACFgX,KAAAA,sBAAwBA,EACzBG,IAAAA,EAAM,IAAIC,eACVC,EAAM,KACVF,EAAIG,KAAK,MAAOtX,GAAK,GACrBmX,EAAIj2B,iBAAiB,OAAQ,WAC3Bm2B,EAAIE,SAAU,EACVJ,EAAIK,QAAU,KAAOL,EAAIK,QAAU,KACrCH,EAAIJ,KAAOQ,KAAKC,MAAMP,EAAIQ,UAC1BN,EAAIH,4BAEJvkB,QAAQ2O,MAAM,gCAGlB6V,EAAIS,QA+ECC,SAAAA,EAAa9H,GACf0D,KAAAA,KAAO1D,EAAO0D,KACdE,KAAAA,KAAO5D,EAAO4D,KACdC,KAAAA,QAAU7D,EAAO6D,QAEfkE,SAAAA,EAAaC,EAAQC,GACvBv2B,KAAAA,IAAIs2B,EAAQC,GASVC,SAAAA,EAAoBC,EAASC,GAC/BD,KAAAA,QAAUA,EACVC,KAAAA,QAAUA,EACVC,KAAAA,wBAA0B,IAAIN,EAC9BO,KAAAA,uBAAyB,IAAIP,EAC7BQ,KAAAA,wBAA0B,IAAIR,EAC/Bxd,IACGie,KAAAA,QAAU,IAAI3I,GAAY,EAAG,EAAG,EAAG,GAEnC2I,KAAAA,QAAU,IAAI3I,EAAW,EAAG,EAAG,EAAG,GAEpC4I,KAAAA,gBAAkB,IAAI5I,EACtB4I,KAAAA,gBAAgB90B,KAAK,KAAK60B,SAC1BE,KAAAA,OAAS,IAAI7I,EACb8I,KAAAA,0BAA2B,EAC3BC,KAAAA,iBAAmB,IAAIzJ,EACvB0J,KAAAA,gBAAkB,IAAI1J,EACtB2J,KAAAA,cAAgB,IAAIjJ,EAiElBkJ,SAAAA,EAAcC,EAAiBZ,GACjCY,KAAAA,gBAAkBA,EAClBZ,KAAAA,QAAUA,EACVa,KAAAA,UAAY,IAAIpJ,EAChBqJ,KAAAA,mBAAqB,KACrBC,KAAAA,OAAS,IAAItJ,EACbuJ,KAAAA,KAAO,IAAIvJ,EA4BTwJ,SAAAA,GAAiBlB,EAASmB,EAAgBC,EAASnB,GACrDmB,KAAAA,QAAUA,EACVC,KAAAA,cAAgB,IAAIrK,EACpBsK,KAAAA,UAAY,IAAItK,EAChBuK,KAAAA,OAAS,IAAIxB,EAAoBC,EAASC,GAC1CuB,KAAAA,cAAgB,IAAIZ,EAAcO,EAAgBlB,GAClDzd,KAAAA,iBAAmBA,IACnBJ,KAAAA,MAAQA,IACTqf,IAAAA,EAAgBhf,IACfif,KAAAA,yBAA2B,KAAKtf,OAASqf,GAAiBA,EAAgB,GAC1EE,KAAAA,sBAAwBhf,IACxBif,KAAAA,eAAiB,IAAIlK,EACtBtV,IACGwf,KAAAA,eAAelJ,iBAAiB,IAAI1B,EAAQ,EAAG,EAAG,GAAI5rB,KAAKC,GAAK,GAEhEu2B,KAAAA,eAAelJ,iBAAiB,IAAI1B,EAAQ,EAAG,EAAG,IAAK5rB,KAAKC,GAAK,GAEnEw2B,KAAAA,sBAAwB,IAAInK,EAC5BoK,KAAAA,eAAiB,IAAIpK,EACrBqK,KAAAA,oBAAsB,IAAIrK,EAC1BqK,KAAAA,oBAAoBrJ,iBAAiB,IAAI1B,EAAQ,EAAG,EAAG,IAAKvuB,OAAO2a,YAAchY,KAAKC,GAAK,KAC3F22B,KAAAA,sBACD9e,KACG0e,KAAAA,eAAen0B,SAAS,KAAKo0B,uBAE/BI,KAAAA,OAAS,IAAIvK,EACbwK,KAAAA,gBAAkB,IAAIj3B,aAAa,GACnCk3B,KAAAA,QA1OPtD,EAAK/jB,UAAUsnB,gBAAkB,WACxB,OAAA,KAAKtH,cAEd+D,EAAK/jB,UAAUkkB,yBAA2B,WACpCqD,IAAAA,EAAkB,KAAKC,oBACvBD,GACGvH,KAAAA,aAAeuH,EAChB,KAAKvD,uBACFA,KAAAA,sBAAsB,KAAKhE,eAGlCrgB,QAAQ2O,MAAM,6CAGlByV,EAAK/jB,UAAUwnB,kBAAoB,WAC7BC,IAAAA,EAAK,KAAKxD,KACV,IAACwD,EAEI,OADP9nB,QAAQ2O,MAAM,uBACP,KAELmZ,GAAa,GAAbA,EAAG9D,OAEE,OADPhkB,QAAQ2O,MAAM,uCACP,KAEL,IAACmZ,EAAG3D,UAAY2D,EAAG3D,QAAQl1B,OAEtB,OADP+Q,QAAQ2O,MAAM,yCACP,KAEL/J,IAAAA,EAAYD,UAAUC,WAAaD,UAAUE,QAAU7W,OAAO8W,MAC9DnO,EAAQiS,IACRhS,EAASoS,IACT,IAAC8e,EAAG3D,QAEC,OADPnkB,QAAQ2O,MAAM,gCACP,KAEJ,IAAA,IAAI3f,EAAI,EAAGA,EAAI84B,EAAG3D,QAAQl1B,OAAQD,IAAK,CACtCQ,IAAAA,EAASs4B,EAAG3D,QAAQn1B,GACpB,GAACQ,EAAOu4B,MAIRv4B,GAAe,OAAfA,EAAOhB,MAAgC,WAAfgB,EAAOhB,MAI/BmZ,GAAAA,MAA2B,OAAfnY,EAAOhB,MAAnBmZ,CAEC,IADDqgB,IAAAA,GAAU,EACLpQ,EAAI,EAAGA,EAAIpoB,EAAOu4B,MAAM94B,OAAQ2oB,IAAK,CACxCqQ,IAAAA,EAAOz4B,EAAOu4B,MAAMnQ,GACpB,GAAA,KAAKsQ,aAAaD,EAAMrjB,EAAWjO,EAAOC,GAAS,CACrDoxB,GAAU,EACV,OAGA,GAACA,EAAD,CACAlH,IAAAA,EAAOtxB,EAAO24B,IAAI,IAAM34B,EAAO24B,IAC/BnH,EAAOxxB,EAAO24B,IAAI,IAAM34B,EAAO24B,IAC5B,OAAA,IAAIjD,EAAa,CAAEpE,KAAMA,EAAME,KAAMA,EAAMC,QAASzxB,EAAO44B,YAfhEpoB,QAAQC,KAAK,UAAYjR,EAAI,4BAJ7BgR,QAAQC,KAAK,UAAYjR,EAAI,2BAsB1B,OADPgR,QAAQC,KAAK,yBACN,MAETmkB,EAAK/jB,UAAU6nB,aAAe,SAAUD,EAAMI,EAAI/E,EAAaC,GACzD,IAAC0E,EAAKI,KAAOJ,EAAKK,IAAK,OAAO,EAE9BL,GADAA,EAAKI,IAAkC,OAA5BJ,EAAKI,GAAG5a,UAAU,EAAG,KAAawa,EAAKI,GAAKJ,EAAKI,GAAG5a,UAAU,EAAG,IAC5Ewa,EAAKI,IAAMA,EAAGvgB,QAAQmgB,EAAKI,IAAM,EAAG,OAAO,EAC3CJ,GAAAA,EAAKK,IAAK,CACR,IAACL,EAAKK,IAAI,KAAOL,EAAKK,IAAI,GAAI,OAAO,EACrCC,IAAAA,EAAON,EAAKK,IAAI,GAChBE,EAAOP,EAAKK,IAAI,GAChB33B,GAAAA,KAAKoT,IAAIuf,EAAaC,IAAiB5yB,KAAKoT,IAAIwkB,EAAMC,IAAS73B,KAAKkY,IAAIya,EAAaC,IAAiB5yB,KAAKkY,IAAI0f,EAAMC,GAChH,OAAA,EAGJ,OAAA,GAUTrD,EAAa9kB,UAAUvR,IAAM,SAAUs2B,EAAQC,GACxCD,KAAAA,OAASA,EACTC,KAAAA,WAAaA,GAEpBF,EAAa9kB,UAAUtP,KAAO,SAAU03B,GACjC35B,KAAAA,IAAI25B,EAAarD,OAAQqD,EAAapD,aAqB7CC,EAAoBjlB,UAAUqoB,oBAAsB,SAAUC,EAAQtD,GAC/DI,KAAAA,wBAAwB32B,IAAI65B,EAAQtD,IAE3CC,EAAoBjlB,UAAUuoB,mBAAqB,SAAUD,EAAQtD,GAC9DK,KAAAA,uBAAuB52B,IAAI65B,EAAQtD,GACpCwD,IAjpDqDC,EAipDrDD,EAASxD,EAAa,KAAKM,wBAAwBN,WAjpDEyD,EAkpD/BD,IAjpDtBE,MAAMD,IAGNA,GAvEa,MA0EbA,EAzEa,IAqtDVE,KAAAA,OAEFrD,KAAAA,wBAAwB50B,KAAK,KAAK20B,yBAEzCJ,EAAoBjlB,UAAU2oB,KAAO,WAC/B,IAAC,KAAKjD,yBAIR,OAHKD,KAAAA,OAAS,KAAKmD,mBAAmB,KAAKxD,wBAAwBL,QAC9DS,KAAAA,gBAAgB90B,KAAK,KAAK+0B,aAC1BC,KAAAA,0BAA2B,GAG9B8C,IAAAA,EAAS,KAAKnD,uBAAuBL,WAAa,KAAKM,wBAAwBN,WAC/E6D,EAAa,KAAKC,uBAAuB,KAAKzD,uBAAuBN,OAAQyD,GAC5E3C,KAAAA,cAAclzB,SAASk2B,GACvBtD,KAAAA,QAAQ70B,KAAK,KAAK80B,iBAClBD,KAAAA,QAAQ5yB,SAASk2B,GAClBE,IAAAA,EAAa,IAAInM,EACrBmM,EAAWr4B,KAAK,KAAK60B,SACrBwD,EAAWvK,UACNmH,KAAAA,iBAAiBl3B,IAAI,EAAG,GAAI,GAC5Bk3B,KAAAA,iBAAiBrJ,gBAAgByM,GACjCpD,KAAAA,iBAAiBvkB,YACjBwkB,KAAAA,gBAAgBl1B,KAAK,KAAK00B,wBAAwBL,QAClDa,KAAAA,gBAAgBxkB,YACjB8kB,IA52C+C8C,EA42C/C9C,EAAS,IAAItJ,EACjBsJ,EAAOlH,mBAAmB,KAAK2G,iBAAkB,KAAKC,iBACtDM,EAAO1H,UACH,KAAK2G,SACPxlB,QAAQyQ,IAAI,2DAA4D6L,IAh3CvB+M,EAg3CqD9C,GA/2C/F3yB,EAAI,GACXoM,QAAQC,KAAK,6BACN,GAEG,EAAItP,KAAK0S,KAAKgmB,EAAKz1B,IA22CkF,KAAKoyB,iBAAiBvyB,EAAE61B,QAAQ,GAAI,KAAKtD,iBAAiBtyB,EAAE41B,QAAQ,GAAI,KAAKtD,iBAAiBryB,EAAE21B,QAAQ,GAAI,KAAKrD,gBAAgBxyB,EAAE61B,QAAQ,GAAI,KAAKrD,gBAAgBvyB,EAAE41B,QAAQ,GAAI,KAAKrD,gBAAgBtyB,EAAE21B,QAAQ,IAE9TC,IAAAA,EAAU,IAAItM,EAClBsM,EAAQx4B,KAAK,KAAK60B,SAClB2D,EAAQv2B,SAASuzB,GACZX,KAAAA,QAAQ9G,MAAMyK,EAAS,EAAI,KAAKhE,SAChCM,KAAAA,gBAAgB90B,KAAK,KAAK60B,UAEjCN,EAAoBjlB,UAAUmpB,eAAiB,WACtC,OAAA,KAAK5D,SAEdN,EAAoBjlB,UAAU4oB,mBAAqB,SAAUQ,GACvDC,IAAAA,EAAY,IAAInN,EACpBmN,EAAU34B,KAAK04B,GACfC,EAAUjoB,YACN4nB,IAAAA,EAAO,IAAIpM,EAGRoM,OAFPA,EAAKhK,mBAAmB,IAAI9C,EAAQ,EAAG,GAAI,GAAImN,GAC/CL,EAAKxK,UACEwK,GAET/D,EAAoBjlB,UAAU8oB,uBAAyB,SAAUQ,EAAMC,GACjEP,IAAAA,EAAO,IAAIpM,EACXiB,EAAO,IAAI3B,EAIR8M,OAHPnL,EAAKntB,KAAK44B,GACVzL,EAAKzc,YACL4nB,EAAKpL,iBAAiBC,EAAMyL,EAAK16B,SAAW26B,GACrCP,GAUTlD,EAAc9lB,UAAUwpB,cAAgB,SAAUC,EAAUH,EAAMtE,GAC5D,IAAC,KAAKiB,mBAGDwD,OAFFzD,KAAAA,UAAUt1B,KAAK+4B,GACfxD,KAAAA,mBAAqBjB,EACnByE,EAEL5L,IAAAA,EAAO,IAAI3B,EACf2B,EAAKntB,KAAK44B,GACVzL,EAAKzc,YACDsoB,IAAAA,EAAeJ,EAAK16B,SACpB86B,GAAAA,EAA0B,GAAX1N,EAMV,OALH,KAAKmJ,SACPxlB,QAAQyQ,IAAI,6CAA8C6L,EAAWyN,GAAcT,QAAQ,IAExF9C,KAAAA,KAAKz1B,KAAK+4B,GACVzD,KAAAA,UAAUt1B,KAAK+4B,GACb,KAAKtD,KAEVwD,IAAAA,EAAeD,EAAe,KAAK3D,gBAMhC,OALFG,KAAAA,OAAOtI,iBAAiBC,EAAM8L,GAC9BxD,KAAAA,KAAKz1B,KAAK,KAAKs1B,WACfG,KAAAA,KAAKxzB,SAAS,KAAKuzB,QACnBF,KAAAA,UAAUt1B,KAAK+4B,GACfxD,KAAAA,mBAAqBjB,EACnB,KAAKmB,MA+BdC,GAAiBpmB,UAAU4pB,YAAc,WAChC,OAAA,MAETxD,GAAiBpmB,UAAUmpB,eAAiB,WACtC7gB,IAAAA,OAAc,EACd,GAAA,KAAKue,uBAAyB,KAAKgD,oBAAqB,CACrDC,KAAAA,sBAAwB,KAAKA,wBAC5Bx2B,GAAI,IAAIspB,GAAagB,iBAAiB,IAAI1B,EAAQ,EAAG,GAAI,GAAI,GAC7D7oB,EAAI,IAAIupB,GACgB,KAAxBjvB,OAAO2a,YACTjV,EAAEuqB,iBAAiB,IAAI1B,EAAQ,EAAG,EAAG,GAAI5rB,KAAKC,IAAM,GAEpD8C,EAAEuqB,iBAAiB,IAAI1B,EAAQ,EAAG,EAAG,GAAI5rB,KAAKC,GAAK,GAE9C+C,EAAEX,SAASU,IAEf02B,KAAAA,gCAAkC,KAAKA,mCACtC72B,EAAI,IAAI0pB,GACVgB,iBAAiB,IAAI1B,EAAQ,EAAG,EAAG,IAAK5rB,KAAKC,GAAK,GAC7C2C,GAEToV,EAAc,KAAKuhB,oBACfp5B,IAAAA,EAAM,IAAImsB,EAeP,OAdPnsB,EAAIC,KAAK4X,GACT7X,EAAIkC,SAAS,KAAKo3B,iCAClBt5B,EAAIkC,SAAS,KAAKw0B,QAClB12B,EAAIkC,SAAS,KAAKq0B,gBAClBv2B,EAAIstB,oBAAoB,KAAK+L,sBAAuBr5B,GAChD,KAAK61B,UACP71B,EAAI2C,EAAI,EACR3C,EAAI6C,EAAI,EACR7C,EAAI2Q,aAEDgmB,KAAAA,gBAAgB,GAAK32B,EAAI2C,EACzBg0B,KAAAA,gBAAgB,GAAK32B,EAAI4C,EACzB+zB,KAAAA,gBAAgB,GAAK32B,EAAI6C,EACzB8zB,KAAAA,gBAAgB,GAAK32B,EAAI8C,EACvB,KAAK6zB,gBAER4C,IAtBE92B,EAVAI,EACAD,EA+BF22B,EAAoB,KAAKvD,OAAO0C,iBACpC7gB,EAAc,KAAKoe,cAAc8C,cAAcQ,EAAmB,KAAKxD,UAAW,KAAKP,oBAErFx1B,IAAAA,EAAM,IAAImsB,EAcP,OAbPnsB,EAAIC,KAAK,KAAKo2B,gBACdr2B,EAAIkC,SAAS,KAAKw0B,QAClB12B,EAAIkC,SAAS2V,GACb7X,EAAIkC,SAAS,KAAKq0B,gBACd,KAAKV,UACP71B,EAAI2C,EAAI,EACR3C,EAAI6C,EAAI,EACR7C,EAAI2Q,aAEDgmB,KAAAA,gBAAgB,GAAK32B,EAAI2C,EACzBg0B,KAAAA,gBAAgB,GAAK32B,EAAI4C,EACzB+zB,KAAAA,gBAAgB,GAAK32B,EAAI6C,EACzB8zB,KAAAA,gBAAgB,GAAK32B,EAAI8C,EACvB,KAAK6zB,iBAEdhB,GAAiBpmB,UAAUiqB,UAAY,WAChC9C,KAAAA,OAAOz2B,KAAK,KAAK+1B,OAAO0C,kBACxBhC,KAAAA,OAAO/zB,EAAI,EACX+zB,KAAAA,OAAO9zB,EAAI,EACX8zB,KAAAA,OAAO7zB,IAAM,EACb6zB,KAAAA,OAAO/lB,YACRgH,KACG+e,KAAAA,OAAOx0B,SAAS,KAAKo0B,uBAEvBI,KAAAA,OAAOx0B,SAAS,KAAKs0B,sBAE5Bb,GAAiBpmB,UAAUkqB,qBAAuB,SAAU5uB,GACrDuuB,KAAAA,oBAAsB,KAAKA,qBAAuB,IAAIjN,EACvDje,IAAAA,EAAQrD,EAAEqD,MACVwrB,EAAO7uB,EAAE6uB,KACTC,EAAQ9uB,EAAE8uB,MACdzrB,GAASA,GAAS,GAAKrO,KAAKC,GAAK,IACjC45B,GAAQA,GAAQ,GAAK75B,KAAKC,GAAK,IAC/B65B,GAASA,GAAS,GAAK95B,KAAKC,GAAK,IAC5Bs5B,KAAAA,oBAAoBlM,gBAAgBwM,EAAMxrB,GAAQyrB,IAEzDhE,GAAiBpmB,UAAUqqB,gBAAkB,SAAUC,GAChDC,KAAAA,oBAAoBD,IAE3BlE,GAAiBpmB,UAAUuqB,oBAAsB,SAAUD,GACrDE,IAAAA,EAAaF,EAAaG,6BAC1BC,EAAUJ,EAAaK,aACvB3F,EAAasF,EAAaM,UAAY,IACtCC,EAAS7F,EAAa,KAAKiB,mBAC3B4E,OAAAA,EAAS,GACXxd,EAAS,2CAA4C,+EAChD4Y,KAAAA,mBAAqBjB,IAEjB6F,GAx6DM,MAw6DoBA,EAv6DpB,GAw6Dfxd,EAAS,+CAAgD,yFACpD4Y,KAAAA,mBAAqBjB,KAGvBuB,KAAAA,cAAc93B,KAAK+7B,EAAWp3B,GAAIo3B,EAAWn3B,GAAIm3B,EAAWl3B,GAC7D6U,IACGqe,KAAAA,UAAU/3B,KAAKi8B,EAAQP,KAAMO,EAAQ/rB,MAAO+rB,EAAQN,OAEpD5D,KAAAA,UAAU/3B,IAAIi8B,EAAQ/rB,MAAO+rB,EAAQP,KAAMO,EAAQN,OAErD,KAAKxD,yBACHJ,KAAAA,UAAUnK,eAAe/rB,KAAKC,GAAK,KAErCk2B,KAAAA,OAAO4B,oBAAoB,KAAK9B,cAAevB,GAC/CyB,KAAAA,OAAO8B,mBAAmB,KAAK/B,UAAWxB,QAC1CiB,KAAAA,mBAAqBjB,KAE5BoB,GAAiBpmB,UAAU8qB,qBAAuB,SAAUC,GACrD7D,KAAAA,uBAEPd,GAAiBpmB,UAAUgrB,WAAa,SAAUj8B,GAC5Cue,IAAAA,EAAUve,EAAMk8B,KAChB,GAAC3d,GAAYA,EAAQnf,KAArB,CAGAA,IAAAA,EAAOmf,EAAQnf,KAAK+8B,cACX,iBAAT/8B,GAGCo8B,KAAAA,oBAAoBjd,EAAQ6d,qBAEnC/E,GAAiBpmB,UAAUknB,oBAAsB,WAEvCv5B,OADHq5B,KAAAA,eAAev4B,IAAI,EAAG,EAAG,EAAG,GACzBd,OAAO2a,aACR,KAAA,EACH,MACG,KAAA,GACE0e,KAAAA,eAAepJ,iBAAiB,IAAI1B,EAAQ,EAAG,EAAG,IAAK5rB,KAAKC,GAAK,GACtE,MACG,KAAC,GACCy2B,KAAAA,eAAepJ,iBAAiB,IAAI1B,EAAQ,EAAG,EAAG,GAAI5rB,KAAKC,GAAK,GAKpEw2B,KAAAA,sBAAsBr2B,KAAK,KAAKs2B,gBAChCD,KAAAA,sBAAsBvI,WAE7B4H,GAAiBpmB,UAAUqnB,MAAQ,WA3mDH,IAC1B+D,EACAC,EACAC,EAymDCC,KAAAA,wBAA0B,KAAKlB,gBAAgBmB,KAAK,MACpDC,KAAAA,6BAA+B,KAAKX,qBAAqBU,KAAK,MAC9DE,KAAAA,mBAAqB,KAAKV,WAAWQ,KAAK,MAC1CG,KAAAA,6BAA+B,KAAKzB,qBAAqBsB,KAAK,MAC/DlkB,MA/mDA8jB,EAAWz9B,OAAOD,OAASC,OAAOmX,IAClCumB,EAAYte,EAAiBlE,SAAS+iB,UACtCN,EAAave,EAAiBpf,OAAOk+B,SAASC,MAC3CV,GAAYC,IAAcC,IA6mD/B39B,OAAOO,iBAAiB,UAAW,KAAKw9B,oBAE1C/9B,OAAOO,iBAAiB,oBAAqB,KAAKu9B,8BAC9C,KAAK5E,sBACPl5B,OAAOO,iBAAiB,oBAAqB,KAAKy9B,8BAElDh+B,OAAOO,iBAAiB,eAAgB,KAAKq9B,0BAGjDnF,GAAiBpmB,UAAU+rB,KAAO,WAChCp+B,OAAOe,oBAAoB,eAAgB,KAAK68B,yBAChD59B,OAAOe,oBAAoB,oBAAqB,KAAKi9B,8BACrDh+B,OAAOe,oBAAoB,oBAAqB,KAAK+8B,8BACrD99B,OAAOe,oBAAoB,UAAW,KAAKg9B,qBAEzCM,IACAC,GAAS,IAAI/P,EAAQ,EAAG,EAAG,GAC3BgQ,GAAS,IAAIhQ,EAAQ,EAAG,EAAG,GAC3BiQ,GAAe,IAAIvP,EACvBuP,GAAavO,iBAAiBqO,IAAS37B,KAAKC,GAAK,GACjD47B,GAAax5B,UAAS,IAAIiqB,GAAagB,iBAAiBsO,GAAQ57B,KAAKC,GAAK,IACtE67B,IAAAA,GAAa,WACNA,SAAAA,EAAWntB,GAClBuG,EAAe,KAAM4mB,GAChBntB,KAAAA,OAASA,EACTotB,KAAAA,OAAS,KACTC,KAAAA,aAAe,KACfC,KAAAA,KAAO,IAAIp8B,aAAa,GACxBq8B,KAAAA,IAAM,KACNC,KAAAA,OAAS,GACTC,KAAAA,SAAW,IAAI9P,EACf+P,KAAAA,MAAQ,IAAI/P,EACZgQ,KAAAA,cAAgB,KAAKA,cAAcpB,KAAK,MACxCqB,KAAAA,eAAiB,KAAKA,eAAerB,KAAK,MAC1CsB,KAAAA,OAqFAV,OAnFPvmB,EAAYumB,EAAY,CAAC,CACvBjmB,IAAK,OACLrL,MAAO,WACDuxB,IAAAA,EAAS,KACT,KACFA,EAAS,IAAIU,0BAA0B,CACrCC,UA3Ba,GA4BbC,eAAgB,YAEX/+B,iBAAiB,QAAS,KAAK2+B,gBACtC,MAAOve,GACFme,KAAAA,OAAOj+B,KAAK8f,GACE,kBAAfA,EAAM3D,MACRhL,QAAQ2O,MAAM,sDACd3O,QAAQC,KAAK,mHACRstB,KAAAA,mBACmB,mBAAf5e,EAAM3D,KACVuiB,KAAAA,kBAELvtB,QAAQ2O,MAAMA,GAGd+d,IACGG,KAAAA,IAAM,SACNH,KAAAA,OAASA,EACTA,KAAAA,OAAOn+B,iBAAiB,UAAW,KAAK0+B,eACxCP,KAAAA,OAAOhF,WAGf,CACDlhB,IAAK,kBACLrL,MAAO,WACA0xB,KAAAA,IAAM,eACNF,KAAAA,aAAe,IAAIlG,GAAiB,KAAKnnB,OAAOkuB,SAAU,KAAKluB,OAAOmuB,kBAAmB,KAAKnuB,OAAOouB,SAAU,KAAKpuB,OAAOquB,OAC5H,KAAKjB,SACFA,KAAAA,OAAO39B,oBAAoB,UAAW,KAAKk+B,eAC3CP,KAAAA,OAAO39B,oBAAoB,QAAS,KAAKm+B,gBACzCR,KAAAA,OAAS,QAGjB,CACDlmB,IAAK,iBACLrL,MAAO,WACD,GAAA,KAAKwxB,aACA,OAAA,KAAKA,aAAanD,iBAEvB,IAAC,KAAKkD,SAAW,KAAKA,OAAOlP,WAGxB,OAFFoP,KAAAA,KAAK,GAAK,KAAKA,KAAK,GAAK,KAAKA,KAAK,GAAK,EACxCA,KAAAA,KAAK,GAAK,EACR,KAAKA,KAEVr5B,IAAAA,EAAI,KAAKm5B,OAAOlP,WACfuP,KAAAA,SAASj+B,IAAIyE,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAClCzC,IAAAA,EAAM,KAAKk8B,MAWR,OAVPl8B,EAAIC,KAAKy7B,IACT17B,EAAIkC,SAAS,KAAK+5B,UACd,KAAKztB,OAAOouB,WACd58B,EAAI2C,EAAI3C,EAAI6C,EAAI,EAChB7C,EAAI2Q,aAEDmrB,KAAAA,KAAK,GAAK97B,EAAI2C,EACdm5B,KAAAA,KAAK,GAAK97B,EAAI4C,EACdk5B,KAAAA,KAAK,GAAK97B,EAAI6C,EACdi5B,KAAAA,KAAK,GAAK97B,EAAI8C,EACZ,KAAKg5B,OAEb,CACDpmB,IAAK,iBACLrL,MAAO,SAAwB/L,GACxB09B,KAAAA,OAAOj+B,KAAKO,EAAMuf,OACE,oBAArBvf,EAAMuf,MAAM3D,KACdhL,QAAQ2O,MAAM,0CACgB,qBAArBvf,EAAMuf,MAAM3D,KACrBhL,QAAQ2O,MAAM,4BAEd3O,QAAQ2O,MAAMvf,EAAMuf,OAEjB4e,KAAAA,oBAEN,CACD/mB,IAAK,gBACLrL,MAAO,gBAEFsxB,EAlGQ,GAqGRmB,SAAAA,KACFC,KAAAA,YACDC,IAAAA,EAAU5kB,SAAS6kB,cAAc,OACjCjW,EAAIgW,EAAQ9oB,MAChB8S,EAAE5S,SAAW,QACb4S,EAAE3S,IAAM,EACR2S,EAAEoD,MAAQ,EACVpD,EAAEqD,OAAS,EACXrD,EAAE1S,KAAO,EACT0S,EAAEkW,gBAAkB,OACpBlW,EAAEmW,WAAa,aACfnW,EAAEoW,OAAS,IACPC,IAAAA,EAAMjlB,SAAS6kB,cAAc,OACjCI,EAAI9iB,IAAM,KAAK+iB,KACXtW,IAAAA,EAAIqW,EAAInpB,MACZ8S,EAAEuW,WAAa,MACfvW,EAAEwW,UAAY,MACdxW,EAAEnhB,MAAQ,MACVm3B,EAAQS,YAAYJ,GAChBK,IAAAA,EAAOtlB,SAAS6kB,cAAc,OAC9BjW,EAAI0W,EAAKxpB,MACb8S,EAAE2W,UAAY,SACd3W,EAAE4W,SAAW,OACb5W,EAAE6W,WAAa,OACf7W,EAAE8W,OAAS,WACX9W,EAAEnhB,MAAQ,MACV63B,EAAKK,UAAY,+CACjBf,EAAQS,YAAYC,GAChBM,IAAAA,EAAW5lB,SAAS6kB,cAAc,OAClCjW,EAAIgX,EAAS9pB,MACjB8S,EAAEkW,gBAAkB,UACpBlW,EAAE5S,SAAW,QACb4S,EAAEqD,OAAS,EACXrD,EAAEnhB,MAAQ,OACVmhB,EAAElhB,OAAS,OACXkhB,EAAEiX,QAAU,YACZjX,EAAEkX,UAAY,aACdlX,EAAEyD,MAAQ,UACVuS,EAAQS,YAAYO,GAChBG,IAAAA,EAAe/lB,SAAS6kB,cAAc,OAC1CkB,EAAajqB,MAAMkqB,MAAQ,OAC3BD,EAAaJ,UAAY,uBACrBM,IAAAA,EAAiBjmB,SAAS6kB,cAAc,KAC5CoB,EAAehD,KAAO,sDACtBgD,EAAeN,UAAY,UAC3BM,EAAez4B,OAAS,SACpBohB,IAAAA,EAAIqX,EAAenqB,MACvB8S,EAAEoX,MAAQ,QACVpX,EAAEsX,WAAa,IACftX,EAAEuX,cAAgB,YAClBvX,EAAEwX,WAAa,iBACfxX,EAAEyX,YAAc,OAChBzX,EAAE0X,eAAiB,OACnB1X,EAAEyD,MAAQ,UACVuT,EAASP,YAAYU,GACrBH,EAASP,YAAYY,GAChBrB,KAAAA,QAAUA,EACVU,KAAAA,KAAOA,EACPiB,KAAAA,OAEP7B,GAAmBvtB,UAAUqvB,KAAO,SAAUC,GACvCA,GAAW,KAAK7B,QAAQ8B,cAElBD,IACL,KAAK7B,QAAQ8B,eAAiB,KAAK9B,QAAQ8B,eAAiBD,GAAQ,KAAK7B,QAAQ8B,cAAcC,YAAY,KAAK/B,SACpH6B,EAAOpB,YAAY,KAAKT,UAHxB5kB,SAAS4mB,KAAKvB,YAAY,KAAKT,SAK5BA,KAAAA,QAAQ9oB,MAAMC,QAAU,QACzBkpB,IAAAA,EAAM,KAAKL,QAAQiC,cAAc,OACjCjY,EAAIqW,EAAInpB,MACRyD,KACFqP,EAAEnhB,MAAQ,MACVmhB,EAAEuW,WAAa,MACfvW,EAAEwW,UAAY,OAEdxW,EAAEnhB,MAAQ,MACVmhB,EAAEuW,WAAa,MACfvW,EAAEwW,UAAY,QAGlBV,GAAmBvtB,UAAUovB,KAAO,WAC7B3B,KAAAA,QAAQ9oB,MAAMC,QAAU,QAE/B2oB,GAAmBvtB,UAAU2vB,gBAAkB,SAAUC,EAAIN,GACtDD,KAAAA,KAAKC,GACLO,KAAAA,MAAQ3kB,WAAW,KAAKkkB,KAAK5D,KAAK,MAAOoE,IAEhDrC,GAAmBvtB,UAAU8vB,uBAAyB,WACpDC,aAAa,KAAKF,QAEpBtC,GAAmBvtB,UAAUgwB,OAAS,WAC/BF,KAAAA,0BACA1nB,KAAqBlE,IACnBmrB,KAAAA,OAEAD,KAAAA,QAGT7B,GAAmBvtB,UAAUwtB,UAAY,WAClCO,KAAAA,KAzrEE,sBAA2BkC,mBAqlEN,47uBAsG1BC,IAAAA,GAAiB,cACjBC,GAAa,yBAERC,SAAAA,GAAeC,GAClB,IACGC,KAAAA,YAAcC,aAAaC,QAAQL,IACxC,MAAO7hB,GACP3O,QAAQ2O,MAAM,oCAAqCA,GAEhD,KAAKgiB,cACHA,KAAAA,YAAcD,GAAiBH,IAEjCO,KAAAA,OAAS,KAAKC,cAAc3Q,EAAWV,SACvCsR,KAAAA,KAAO,KACPC,KAAAA,mBAAqB,GAE5BR,GAAepwB,UAAUqvB,KAAO,SAAUsB,GACnCA,KAAAA,KAAOA,EACZA,EAAKzC,YAAY,KAAKuC,QAClBI,IAAAA,EAAW,KAAKJ,OAAOf,cAAc,IAAM,KAAKY,aACpDO,EAASC,SAAU,EACdL,KAAAA,OAAO9rB,MAAMC,QAAU,SAE9BwrB,GAAepwB,UAAUovB,KAAO,WAC1B,KAAKuB,MAAQ,KAAKA,KAAKI,SAAS,KAAKN,SAClCE,KAAAA,KAAKnB,YAAY,KAAKiB,QAExBA,KAAAA,OAAO9rB,MAAMC,QAAU,QAE9BwrB,GAAepwB,UAAUgxB,iBAAmB,WACnCjR,OAAAA,EAAWV,QAAQ,KAAKiR,cAEjCF,GAAepwB,UAAUixB,gBAAkB,WACrCC,IAAAA,EAAQ,KAAKT,OAAOf,cAAc,6BAClCwB,OAAAA,EACKA,EAAMv3B,GAER,MAETy2B,GAAepwB,UAAUmxB,SAAW,SAAUC,GACvCR,KAAAA,mBAAmBpiC,KAAK4iC,IAE/BhB,GAAepwB,UAAUqxB,cAAgB,SAAUnR,GAC5C,IAAA,IAAIvxB,EAAI,EAAGA,EAAI,KAAKiiC,mBAAmBhiC,OAAQD,IAC7CiiC,KAAAA,mBAAmBjiC,GAAGuxB,IAG/BkQ,GAAepwB,UAAUsxB,QAAU,WAE7B,GADChB,KAAAA,YAAc,KAAKW,kBACnB,KAAKX,aAAgBvQ,EAAWV,QAAQ,KAAKiR,aAA9C,CAICe,KAAAA,cAActR,EAAWV,QAAQ,KAAKiR,cACvC,IACFC,aAAagB,QAAQpB,GAAY,KAAKG,aACtC,MAAOhiB,GACP3O,QAAQ2O,MAAM,oCAAqCA,GAEhD8gB,KAAAA,YATHzvB,QAAQ2O,MAAM,sDAWlB8hB,GAAepwB,UAAU0wB,cAAgB,SAAU33B,GAC7Cy4B,IAAAA,EAAY3oB,SAAS6kB,cAAc,OACvC8D,EAAUC,UAAU/0B,IA7DL,kCA8Df80B,EAAU7sB,MAAMC,QAAU,OACtB6oB,IAAAA,EAAU5kB,SAAS6kB,cAAc,OACjCjW,EAAIgW,EAAQ9oB,MAChB8S,EAAE5S,SAAW,QACb4S,EAAE1S,KAAO,EACT0S,EAAE3S,IAAM,EACR2S,EAAEnhB,MAAQ,OACVmhB,EAAElhB,OAAS,OACXkhB,EAAEia,WAAa,qBACfjE,EAAQv/B,iBAAiB,QAAS,KAAKkhC,KAAK5D,KAAK,OAC7Cl1B,IACAm6B,EAAS5nB,SAAS6kB,cAAc,OAChCjW,EAAIgZ,EAAO9rB,MAaV,IAAA,IAAIhL,KAZT8d,EAAEkX,UAAY,aACdlX,EAAE5S,SAAW,QACb4S,EAAE3S,IAAM,OACR2S,EAAE1S,KAAO,MACT0S,EAAEuW,WAAa,SACfvW,EAAEnhB,MAAQA,QACVmhB,EAAEiX,QAAU,OACZjX,EAAEka,SAAW,SACbla,EAAEia,WAAa,UACfja,EAAEmW,WAAa,uBACfnW,EAAEma,UAAY,oBACdnB,EAAOvC,YAAY,KAAK2D,UAAU,uBACnB94B,EACb03B,EAAOvC,YAAY,KAAK4D,cAAcn4B,EAAIZ,EAAQY,GAAI6lB,QAKjDgS,OAHPf,EAAOvC,YAAY,KAAK6D,cAAc,OAAQ,KAAKT,QAAQ9F,KAAK,QAChEgG,EAAUtD,YAAYT,GACtB+D,EAAUtD,YAAYuC,GACfe,GAETpB,GAAepwB,UAAU6xB,UAAY,SAAUlnB,GACzCqnB,IAAAA,EAAKnpB,SAAS6kB,cAAc,MAC5BjW,EAAIua,EAAGrtB,MAOJqtB,OANPva,EAAEyD,MAAQ,QACVzD,EAAE4W,SAAW,OACb5W,EAAEsX,WAAa,OACftX,EAAEwW,UAAY,EACdxW,EAAEwa,aAAe,OACjBD,EAAGxD,UAAY7jB,EACRqnB,GAET5B,GAAepwB,UAAU8xB,cAAgB,SAAUn4B,EAAIgR,GACjDunB,IAAAA,EAAMrpB,SAAS6kB,cAAc,OACjCwE,EAAIvtB,MAAMspB,UAAY,MACtBiE,EAAIvtB,MAAMuW,MAAQ,QACdgW,IAAAA,EAAQroB,SAAS6kB,cAAc,SACnCwD,EAAMvsB,MAAM0pB,SAAW,OACvB6C,EAAM3Y,aAAa,KAAM5e,GACzBu3B,EAAM3Y,aAAa,OAAQ,SAC3B2Y,EAAM3Y,aAAa,QAAS5e,GAC5Bu3B,EAAM3Y,aAAa,OAAQ,SACvBiH,IAAAA,EAAQ3W,SAAS6kB,cAAc,SAM5BwE,OALP1S,EAAM7a,MAAMqpB,WAAa,MACzBxO,EAAMjH,aAAa,MAAO5e,GAC1B6lB,EAAMgP,UAAY7jB,EAClBunB,EAAIhE,YAAYgD,GAChBgB,EAAIhE,YAAY1O,GACT0S,GAET9B,GAAepwB,UAAU+xB,cAAgB,SAAUvS,EAAO2S,GACpDC,IAAAA,EAASvpB,SAAS6kB,cAAc,UACpC0E,EAAO5D,UAAYhP,EACf/H,IAAAA,EAAI2a,EAAOztB,MAURytB,OATP3a,EAAEoX,MAAQ,QACVpX,EAAEuX,cAAgB,YAClBvX,EAAEyD,MAAQ,UACVzD,EAAE4W,SAAW,OACb5W,EAAE4a,cAAgB,EAClB5a,EAAE6a,OAAS,EACX7a,EAAEia,WAAa,OACfja,EAAEwW,UAAY,OACdmE,EAAOlkC,iBAAiB,QAASikC,GAC1BC,GAEiC,oBAAXzkC,OAAyBA,YAAmC,IAAnBqX,IAAkE,oBAATtX,MAAuBA,KAOpJ6kC,IANuBn/B,GAGUiS,GAsGjCmtB,IAnGkC,SAAUntB,EAAQC,GACvD,IAAgDmtB,EAAAA,EAE3B,WACL,OAAA,SAASC,GACZC,IAAAA,EAAmB,GACdC,SAAAA,EAAoBC,GACzBF,GAAAA,EAAiBE,GACZF,OAAAA,EAAiBE,GAAUvtB,QAE/BD,IAAAA,EAASstB,EAAiBE,GAAY,CACzClkC,EAAGkkC,EACHpvB,GAAG,EACH6B,QAAS,IAIHD,OAFPqtB,EAAQG,GAAUnyB,KAAK2E,EAAOC,QAASD,EAAQA,EAAOC,QAASstB,GAC/DvtB,EAAO5B,GAAI,EACJ4B,EAAOC,QAsBRstB,OApBPA,EAAoB7wB,EAAI2wB,EACxBE,EAAoBE,EAAIH,EACxBC,EAAoBlb,EAAI,SAASpS,EAASqF,EAAMooB,GAC3CH,EAAoBI,EAAE1tB,EAASqF,IAClC5a,OAAOmW,eAAeZ,EAASqF,EAAM,CACpC1E,cAAc,EACdD,YAAY,EACZzX,IAAKwkC,KAIRH,EAAoBK,EAAI,SAAS5tB,GAC5B0tB,IAAAA,EAAS1tB,GAAUA,EAAOH,WAC7B,WAA+BG,OAAAA,EAAM,SACrC,WAAqCA,OAAAA,GAE/B0tB,OADPH,EAAoBlb,EAAEqb,EAAQ,IAAKA,GAC5BA,GAERH,EAAoBI,EAAI,SAASE,EAAQC,GAAmBpjC,OAAAA,OAAOiQ,UAAUmF,eAAezE,KAAKwyB,EAAQC,IACzGP,EAAoB/a,EAAI,GACjB+a,EAAoBA,EAAoBnb,EAAI,GAnC5C,CAqCP,CACH,SAASpS,EAAQC,EAASstB,GAC7BQ,IAAAA,EAAe,WAAuB/1B,SAAAA,EAAiBhH,EAAQyP,GAAc,IAAA,IAAInX,EAAI,EAAGA,EAAImX,EAAMlX,OAAQD,IAAK,CAAMoX,IAAAA,EAAaD,EAAMnX,GAAIoX,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWzI,UAAW,GAAMvN,OAAOmW,eAAe7P,EAAQ0P,EAAWI,IAAKJ,IAAwB,OAAA,SAAUH,EAAaQ,EAAYC,GAAwJT,OAArIQ,GAAY/I,EAAiBuI,EAAY5F,UAAWoG,GAAiBC,GAAahJ,EAAiBuI,EAAaS,GAAqBT,GAA7gB,GAEfytB,EAAYT,EAAoB,GAChCU,EAA8B,oBAAdhvB,WAA6BivB,YAAY,IAAM,oEAAoEC,KAAKlvB,UAAUC,YAAc,CAAC,EAAG,KAAK,IAAIqG,QAAQ,YAAa,OAAOA,QAAQ,IAAK,KAAKA,QAAQ,IAAK,KAAO,KAAOjd,OAAO8lC,SAC7PlB,EAAU,WACHA,SAAAA,KAJFmB,SAAgB/tB,EAAUC,GAAmB,KAAED,aAAoBC,GAAsB,MAAA,IAAIxK,UAAU,qCAK5Gs4B,CAAgB,KAAMnB,GAClBe,EACGK,KAAAA,aAAe,MAEfC,KAAAA,aAAe/qB,SAAS6kB,cAAc,SACtCkG,KAAAA,aAAarb,aAAa,cAAe,IACzCqb,KAAAA,aAAarb,aAAa,MAAO8a,GACjCO,KAAAA,aAAa1lC,iBAAiB,aAAc,SAAUoN,GACrD,KAAKs4B,aAAaC,YAAc,KAC7BD,KAAAA,aAAaC,YAAcvjC,KAAKwjC,WAEvCtI,KAAK,QA6BJ+G,OA1BPa,EAAab,EAAS,CAAC,CACrBpsB,IAAK,SACLrL,MAAO,WACDw4B,GACGnjB,KAAAA,UACAwjB,KAAAA,aAAehmC,OAAOomC,YAAY,WACrCpmC,OAAOk+B,SAASC,KAAO,IACvBn+B,OAAOud,WAAWvd,OAAOo+B,KAAM,IAC9B,OAEE6H,KAAAA,aAAaI,SAGrB,CACD7tB,IAAK,UACLrL,MAAO,WACDw4B,EACE,KAAKK,eACPhmC,OAAOsmC,cAAc,KAAKN,cACrBA,KAAAA,aAAe,MAGjBC,KAAAA,aAAaM,YAIjB3B,EA1CK,GA4CdltB,EAAOC,QAAUitB,GAEV,SAASltB,EAAQC,EAASstB,GACjCvtB,EAAOC,QAAU,q1MA5FhBD,EAAOC,QAAUmtB,IAJgBlvB,CAA1B8B,GAAS,CAAEC,QAAS,IAAiBD,GAAOC,UAJzBlS,GAImCiS,GAAOC,UAHxDlS,GAAE8R,YAAcnV,OAAOiQ,UAAUmF,eAAezE,KAAKtN,GAAG,WAAaA,GAAC,QAAcA,IAyG7F+gC,GAAgB,IAChBC,GAAoB,CAAC,EAAG,EAAG,GAAK,GAChCC,GAAqB,CAAC,GAAK,EAAG,GAAK,GACnCC,GAAM3mC,OAAOsM,sBACbs6B,GAAM5mC,OAAOgO,qBAQR64B,SAAAA,GAAsBv1B,GAC7BlP,OAAOsN,iBAAiB,KAAM,CAC5Bo3B,YAAa,CACXn3B,UAAU,EAAO0I,YAAY,EAAMlL,MAAOmE,EAAOw1B,aAEnDC,mBAAoB,CAClBp3B,UAAU,EAAO0I,YAAY,EAAMlL,MAAOmE,EAAOy1B,oBAEnDC,WAAY,CACVr3B,UAAU,EAAO0I,YAAY,EAAMlL,MAAOmE,EAAO01B,YAEnDC,UAAW,CACTt3B,UAAU,EAAO0I,YAAY,EAAMlL,MAAOmE,EAAO21B,WAEnDC,eAAgB,CACd7uB,YAAY,EAAMzX,IAAK,WAEd0Q,OADPsO,EAAiB,iDAAkD,oCAC5DtO,EAAO41B,mBAKbC,SAAAA,GAAU71B,GAEb81B,IAAAA,IAAe,aADnB91B,EAASA,GAAU,MACuBA,EAAO+1B,SAC5CC,KAAAA,cAAe,EACfC,KAAAA,UAAYf,KACZgB,KAAAA,YAAc,GACdt6B,KAAAA,UAAY,IACZE,KAAAA,SAAW,IACXq6B,KAAAA,cAAe,EACpBrlC,OAAOmW,eAAe,KAAM,cAAe,CACzC3X,IAAK,WAEI,OADPgf,EAAiB,kCAAmC,uDAC7C,KAGN8nB,KAAAA,aAAe,IAAIb,GAAsB,CAC5CC,aAAa,EACbI,gBAAgB,EAChBH,oBAAoB,EACpBC,YAAY,EACZC,UAAW,IAERU,KAAAA,gBAAkB,KAClBC,KAAAA,oBAAqB,EACrBC,KAAAA,OAAS,KACTC,KAAAA,gBAAkB,KAClBC,KAAAA,mBAAqB,KACrBC,KAAAA,mBAAqB,KACrBC,KAAAA,8BAAgC,KAChCC,KAAAA,uBAAyB,KACzBC,KAAAA,yBAA2B,KAC3BC,KAAAA,wBAA0B,KAC3BhB,GAAgB7wB,MACb8xB,KAAAA,UAAY,IAAIxD,IAGzBsC,GAAU90B,UAAUi2B,aAAe,SAAUxpB,GACpCtB,OAAAA,EAAkBsB,EAAW,KAAKypB,WAAY,OAEvDpB,GAAU90B,UAAUm2B,QAAU,WAErB,OADP5oB,EAAiB,8BAA+B,oCACzC,KAAK2oB,YAEdpB,GAAU90B,UAAUiqB,UAAY,WAEvB,OADP1c,EAAiB,iCACV,KAAK6oB,cAEdtB,GAAU90B,UAAUq2B,iBAAmB,WAE9B,OADP9oB,EAAiB,uCAAwC,oCAClD,KAAK2oB,YAEdpB,GAAU90B,UAAU/F,sBAAwB,SAAUuB,GAC7C84B,OAAAA,GAAI94B,IAEbs5B,GAAU90B,UAAUrE,qBAAuB,SAAUhC,GAC5C46B,OAAAA,GAAI56B,IAEbm7B,GAAU90B,UAAUs2B,kBAAoB,SAAUC,GAC5CjvB,GAAAA,IACKivB,OAAAA,EAEL,IAAC,KAAKZ,mBAAoB,CACvBA,KAAAA,mBAAqB9sB,SAAS6kB,cAAc,OAC7C8I,IAAAA,EAAgB,CAAC,WAAalmC,KAAKoT,IAAI+E,OAAOlS,OAAQkS,OAAOnS,OAAS,gBAAiB,oBAAqB,qBAAsB,sBAAuB,YAAa,YAAa,aAAc,6BAA8B,mBAC9Nq/B,KAAAA,mBAAmBpd,aAAa,QAASie,EAAcjmB,KAAK,MAAQ,KACpEolB,KAAAA,mBAAmBlE,UAAU/0B,IAAI,qCAEpC,GAAA,KAAKg5B,oBAAsBa,EACtB,OAAA,KAAKZ,mBAcV,GAZA,KAAKD,qBACH,KAAKD,gBACFA,KAAAA,gBAAgBvH,YAAY,KAAKwH,oBAEjCA,KAAAA,mBAAmBnG,cAAcC,YAAY,KAAKkG,qBAGtDA,KAAAA,mBAAqBa,EACrBd,KAAAA,gBAAkBc,EAAQhH,cAC1B,KAAKkG,iBACR5sB,SAAS4mB,KAAKvB,YAAYqI,IAEvB,KAAKZ,mBAAmBpG,cAAe,CACtCD,IAAAA,EAAS,KAAKoG,mBAAmBnG,cACrCD,EAAOmH,aAAa,KAAKd,mBAAoB,KAAKD,oBAClDpG,EAAOE,YAAY,KAAKkG,oBAErBC,KAAAA,mBAAmBc,aAAa,KAAKf,mBAAoB,KAAKC,mBAAmBe,YACjFd,KAAAA,8BAAgC,KAAKF,mBAAmBrd,aAAa,SACtE3qB,IAAAA,EAAO,KASJ,OAREipC,WACH,GAACjpC,EAAKgoC,mBAAN,CAGAc,IAAAA,EAAgB,CAAC,qBAAsB,SAAU,UAAW,UAAYlmC,KAAKkY,IAAIC,OAAOnS,MAAOmS,OAAOlS,QAAU,KAAM,WAAajG,KAAKoT,IAAI+E,OAAOlS,OAAQkS,OAAOnS,OAAS,KAAM,YAAa,YAAa,cAC/M5I,EAAKgoC,mBAAmBnd,aAAa,QAASie,EAAcjmB,KAAK,MAAQ,MAE3EomB,GACO,KAAKhB,oBAEdb,GAAU90B,UAAU42B,wBAA0B,WACxC,GAAC,KAAKlB,mBAAN,CAGAa,IAAAA,EAAU,KAAKb,mBACf,KAAKE,8BACPW,EAAQhe,aAAa,QAAS,KAAKqd,+BAEnCW,EAAQM,gBAAgB,SAErBnB,KAAAA,mBAAqB,KACrBE,KAAAA,8BAAgC,KACjCtG,IAAAA,EAAS,KAAKqG,mBAAmBpG,cAS9BgH,OARFZ,KAAAA,mBAAmBnG,YAAY+G,GAChC,KAAKd,kBAAoBnG,EAC3BA,EAAOmH,aAAaF,EAAS,KAAKZ,oBAE3B,KAAKF,iBACLA,KAAAA,gBAAgBvH,YAAYqI,GAErCjH,EAAOE,YAAY,KAAKmG,oBACjBY,IAETzB,GAAU90B,UAAU82B,eAAiB,SAAUC,GACzCC,IAAAA,EAAgB,KAAK5B,aACrB1nC,EAAO,KAKJ,OAJDqpC,aAAkB3mC,QACtBmd,EAAiB,6DAA8D,8CAC/EwpB,EAAS,CAACA,IAEL,IAAIx6B,QAAQ,SAAU4D,EAAS3D,GAChC,GAAC9O,EAAK2nC,aAAaV,WAInBoC,GAAiB,GAAjBA,EAAOnoC,QAAemoC,EAAOnoC,OAASlB,EAAK2nC,aAAaT,UAC1Dp4B,EAAO,IAAInO,MAAM,kCADf0oC,CAIAE,IAAAA,EAAgBF,EAAO,GACvB,GAACE,EAAcC,OAAf,CAIAvhB,IAAAA,EAAashB,EAActhB,YAAcye,GACzCxe,EAAcqhB,EAAcrhB,aAAeye,GAC3C2C,GAAAA,EAAe,CACb9/B,IAAAA,EAAQxJ,EAAK8nC,OACbt+B,EAAMggC,SAAWD,EAAcC,SACjChgC,EAAMggC,OAASD,EAAcC,QAE1B,IAAA,IAAIvoC,EAAI,EAAGA,EAAI,EAAGA,IACrBuI,EAAMye,WAAWhnB,GAAKgnB,EAAWhnB,GACjCuI,EAAM0e,YAAYjnB,GAAKinB,EAAYjnB,GAKrC,OAHAjB,EAAK4oC,kBAAkB5oC,EAAK8nC,OAAO0B,QACnCxpC,EAAKypC,sBACLh3B,IAUEzS,GAPJA,EAAK8nC,OAAS,CACZ4B,aAAcH,EAAcG,aAC5BF,OAAQD,EAAcC,OACtBvhB,WAAYA,EAAW0hB,MAAM,GAC7BzhB,YAAaA,EAAYyhB,MAAM,IAEjC3pC,EAAK6nC,oBAAqB,EACtB7nC,EAAK8nC,QAAU9nC,EAAK8nC,OAAO0B,OAAQ,CACjCI,IAAAA,EAAoB5pC,EAAK4oC,kBAAkB5oC,EAAK8nC,OAAO0B,QAmC3DxpC,EAAK6pC,wBAAwBD,EAlCJ,WACnBE,IAAAA,EA7gFH3uB,SAASyuB,mBAAqBzuB,SAAS4uB,yBAA2B5uB,SAAS6uB,sBAAwB7uB,SAAS8uB,oBA8gF7GjqC,EAAK0nC,aAAekC,IAAsBE,EACtC9pC,EAAK0nC,cACH3sB,OAAOH,aAAeG,OAAOH,YAAYsvB,MAC3CnvB,OAAOH,YAAYsvB,KAAK,qBAAqBC,MAAM,SAAUvpB,GAC3D3O,QAAQ2O,MAAM,0CAA2CA,EAAMhB,WAGnE5f,EAAK6nC,oBAAqB,EAC1B7nC,EAAKoqC,gBACL33B,MAEIsI,OAAOH,aAAeG,OAAOH,YAAYyvB,QAC3CtvB,OAAOH,YAAYyvB,SAErBrqC,EAAKkpC,0BACLlpC,EAAKsqC,kBACLtqC,EAAKuqC,cACLvqC,EAAKwqC,8BAEPxqC,EAAKyqC,+BAEiB,WACjBzqC,EAAK6nC,qBAGV7nC,EAAKkpC,0BACLlpC,EAAKwqC,6BACLxqC,EAAKsqC,kBACLtqC,EAAK6nC,oBAAqB,EAC1B7nC,EAAK0nC,cAAe,EACpB54B,EAAO,IAAInO,MAAM,0BA5kFD,SAA2BkoC,GAC7C/uB,GAAAA,IACK,OAAA,EAEL+uB,GAAAA,EAAQ6B,kBACV7B,EAAQ6B,yBACH,GAAI7B,EAAQ8B,wBACjB9B,EAAQ8B,+BACH,GAAI9B,EAAQ+B,qBACjB/B,EAAQ+B,2BACH,CAAA,IAAI/B,EAAQgC,oBAGV,OAAA,EAFPhC,EAAQgC,sBAIH,OAAA,EAgkFCH,CAAkBd,IACpB5pC,EAAK8qC,iBACL9qC,EAAK6nC,oBAAqB,IACjBjuB,KAAWE,OACpB9Z,EAAK8qC,iBACL9qC,EAAK0nC,cAAe,EACpB1nC,EAAKoqC,gBACLpqC,EAAKyqC,8BACLh4B,KAGCzS,EAAK6nC,oBAAuBjuB,MAC/BsB,IACApM,EAAO,IAAInO,MAAM,6BA5EjB8R,SATA3D,EAAO,IAAInO,MAAM,+CAyFvBymC,GAAU90B,UAAUy4B,YAAc,WAC5BzB,IAAAA,EAAgB,KAAK5B,aACrB1nC,EAAO,KAIJ,OAHF0nC,KAAAA,cAAe,EACfI,KAAAA,OAAS,KACTwC,KAAAA,kBACE,IAAIz7B,QAAQ,SAAU4D,EAAS3D,GAChCw6B,IACGpuB,KAAoBtB,MACvB5Z,EAAKuqC,cACLvqC,EAAKyqC,+BAEH3wB,MACF9Z,EAAKkpC,0BACLlpC,EAAKwqC,6BACLxqC,EAAKuqC,cACLvqC,EAAKyqC,+BAEPh4B,KAEA3D,EAAO,IAAInO,MAAM,wCAIvBymC,GAAU90B,UAAU04B,UAAY,WAC1B,OAAA,KAAKlD,OACA,CAAC,KAAKA,QAER,IAETV,GAAU90B,UAAUm4B,4BAA8B,WAC5CppC,IAAAA,EAAQ,IAAI4pC,YAAY,yBAA0B,CAAEC,OAAQ,CAAEh0B,QAAS,QAC3EjX,OAAOmB,cAAcC,IAEvB+lC,GAAU90B,UAAU64B,sBAAwB,WACtC9pC,IAAAA,EAAQ,IAAI4pC,YAAY,mBAAoB,CAAEC,OAAQ,CAAEh0B,QAAS,QACrEjX,OAAOmB,cAAcC,IAEvB+lC,GAAU90B,UAAUu3B,wBAA0B,SAAUhB,EAASuC,EAAeC,GACzEb,KAAAA,6BACArC,KAAAA,uBAAyBU,EACzBT,KAAAA,yBAA2BgD,EAC3B/C,KAAAA,wBAA0BgD,EAC3BD,IACEjwB,SAASmwB,kBACXzC,EAAQroC,iBAAiB,mBAAoB4qC,GAAe,GACnDjwB,SAASowB,wBAClB1C,EAAQroC,iBAAiB,yBAA0B4qC,GAAe,GACzDjwB,SAASqwB,qBAClBrwB,SAAS3a,iBAAiB,sBAAuB4qC,GAAe,GACvDjwB,SAASswB,qBAClB5C,EAAQroC,iBAAiB,qBAAsB4qC,GAAe,IAG9DC,IACElwB,SAASmwB,kBACXzC,EAAQroC,iBAAiB,kBAAmB6qC,GAAc,GACjDlwB,SAASowB,wBAClB1C,EAAQroC,iBAAiB,wBAAyB6qC,GAAc,GACvDlwB,SAASqwB,qBAClBrwB,SAAS3a,iBAAiB,qBAAsB6qC,GAAc,GACrDlwB,SAASswB,qBAClB5C,EAAQroC,iBAAiB,oBAAqB6qC,GAAc,KAIlEjE,GAAU90B,UAAUk4B,2BAA6B,WAC3C,GAAC,KAAKrC,uBAAN,CACAU,IAAAA,EAAU,KAAKV,uBACf,GAAA,KAAKC,yBAA0B,CAC7BgD,IAAAA,EAAgB,KAAKhD,yBACzBS,EAAQ7nC,oBAAoB,mBAAoBoqC,GAAe,GAC/DvC,EAAQ7nC,oBAAoB,yBAA0BoqC,GAAe,GACrEjwB,SAASna,oBAAoB,sBAAuBoqC,GAAe,GACnEvC,EAAQ7nC,oBAAoB,qBAAsBoqC,GAAe,GAE/D,GAAA,KAAK/C,wBAAyB,CAC5BgD,IAAAA,EAAe,KAAKhD,wBACxBQ,EAAQ7nC,oBAAoB,kBAAmBqqC,GAAc,GAC7DxC,EAAQ7nC,oBAAoB,wBAAyBqqC,GAAc,GACnElwB,SAASna,oBAAoB,qBAAsBqqC,GAAc,GACjExC,EAAQ7nC,oBAAoB,oBAAqBqqC,GAAc,GAE5DlD,KAAAA,uBAAyB,KACzBC,KAAAA,yBAA2B,KAC3BC,KAAAA,wBAA0B,OAEjCjB,GAAU90B,UAAUw4B,eAAiB,WAC/B,KAAKxC,WACFA,KAAAA,UAAU9lB,UAGnB4kB,GAAU90B,UAAUg4B,gBAAkB,WAChC,KAAKhC,WACFA,KAAAA,UAAU7lB,WAGnB2kB,GAAU90B,UAAU83B,cAAgB,aAEpChD,GAAU90B,UAAUi4B,YAAc,aAElCnD,GAAU90B,UAAU6V,YAAc,SAAU/f,KAE5Cg/B,GAAU90B,UAAUo5B,iBAAmB,SAAUC,GACxC,OAAA,MAELp6B,IAAAA,GAAS,CACXq6B,mBAAoB,GACpBpJ,eAAgB,GAChBqJ,kBAAkB,EAClBjM,OAAO,EACPkM,SAAU,qCACVrM,SAAU,IACVC,kBAAmB,IACnBqM,uBAAuB,EACvBC,8BAA8B,EAC9BrM,UAAU,EACVsM,aAAc,GACdC,6BAA6B,GAE3BC,GAAM,CACRC,KAAM,OACNC,MAAO,SAEAC,SAAAA,GAAmBC,GACtBC,IAAAA,EAAWpvB,EAAO,GAAI7L,IAC1Bg7B,EAAYnvB,EAAOovB,EAAUD,GAAa,IAC1CnF,GAAUp0B,KAAK,KAAM,CACnBs0B,SAAUiF,EAAUV,mBAEjBt6B,KAAAA,OAASg7B,EACT9E,KAAAA,YAAc,sBACdE,KAAAA,aAAe,IAAIb,GAAsB,CAC5CC,aAAa,EACbI,gBAAgB,EAChBH,oBAAoB,EACpBC,YAAY,EACZC,UAAW,IAERU,KAAAA,gBAAkB,KAClB6E,KAAAA,aAAe,KAAKl7B,OAAO06B,aAC3BS,KAAAA,YAAc,IAAIhO,GAAW,KAAKntB,QAClCo7B,KAAAA,WAAa,KACbC,KAAAA,aAAe,KACfC,KAAAA,MAAQ,IAAIxW,EAAK,KAAK9kB,OAAOu6B,SAAU,KAAKgB,uBAAuBhP,KAAK,OACxEiP,KAAAA,YAAc,IAAI1a,EAAW,KAAKwa,MAAMjT,kBAAmB2S,EAAUX,oBACrEoB,KAAAA,gBAAkB,IAAItK,GAAe6J,EAAU/J,gBAC/CwK,KAAAA,gBAAgBvJ,SAAS,KAAKwJ,iBAAiBnP,KAAK,OACpDiP,KAAAA,YAAYna,UAAU,KAAKoa,gBAAgB1J,oBAC3C,KAAK/xB,OAAOy6B,+BACVkB,KAAAA,oBAAsB,IAAIrN,IAE7BjmB,KACF3Z,OAAOO,iBAAiB,SAAU,KAAK2sC,UAAUrP,KAAK,OAyLnDwO,OAtLPA,GAAmBh6B,UAAYjQ,OAAOS,OAAOskC,GAAU90B,WACvDg6B,GAAmBh6B,UAAUk2B,SAAW,WAC/B,MAAA,CACLrxB,SAAU,KACVyD,YAAa,KAAK8xB,YAAYjR,iBAC9B2R,eAAgB,KAChBC,mBAAoB,KACpBC,gBAAiB,KACjBC,oBAAqB,OAGzBjB,GAAmBh6B,UAAUo2B,WAAa,WACpC,KAAKgE,YAAYnQ,WACdmQ,KAAAA,YAAYnQ,aAGrB+P,GAAmBh6B,UAAU4M,gBAAkB,SAAUysB,GACnD6B,IAAAA,EACA7B,GAAAA,GAAYQ,GAAIC,KAClBoB,EAAc,KAAKT,YAAY9X,4BAC1B,CAAA,GAAI0W,GAAYQ,GAAIE,MAIlB,OADPp6B,QAAQ2O,MAAM,2BAA4B+qB,GACnC,KAHP6B,EAAc,KAAKT,YAAY3X,yBAK1BoY,OAAAA,GAETlB,GAAmBh6B,UAAU6M,cAAgB,SAAUwsB,GACjDh2B,IAAAA,EACAg2B,GAAAA,GAAYQ,GAAIC,KAClBz2B,EAAS,CAA8C,IAA5C,KAAKo3B,YAAYva,OAAOT,kBAAyB,EAAK,OAC5D,CAAA,GAAI4Z,GAAYQ,GAAIE,MAIlB,OADPp6B,QAAQ2O,MAAM,2BAA4B+qB,GACnC,KAHPh2B,EAAS,CAA6C,GAA5C,KAAKo3B,YAAYva,OAAOT,kBAAyB,EAAK,GAK3Dpc,OAAAA,GAET22B,GAAmBh6B,UAAUo5B,iBAAmB,SAAUC,GACpDh2B,IAAAA,EAAS,KAAKwJ,cAAcwsB,GAC5B6B,EAAc,KAAKtuB,gBAAgBysB,GACnC8B,EAAY,CACd93B,OAAQA,EACR+3B,YAA6C,GAAhC,KAAKX,YAAYtrC,OAAOmH,MAAc,KAAK6jC,aACxDkB,aAAc,KAAKZ,YAAYtrC,OAAOoH,OAAS,KAAK4jC,cAS/CgB,OAPPprC,OAAOmW,eAAei1B,EAAW,cAAe,CAC9Cn1B,YAAY,EACZzX,IAAK,WAEI2sC,OADP3tB,EAAiB,gBAAiB,qCAC3B2tB,KAGJC,GAETnB,GAAmBh6B,UAAUw6B,uBAAyB,SAAUc,GAC1D,KAAKr8B,OAAOquB,OACd3tB,QAAQyQ,IAAI,kDAETqqB,KAAAA,YAAYta,mBAAmBmb,GAChC,KAAKjB,YACFA,KAAAA,WAAW5jB,iBAAiB,KAAKgkB,cAG1CT,GAAmBh6B,UAAUu7B,cAAgB,WACvC,KAAK/F,QAAU,KAAK6E,aAAe,KAAK7E,OAAO7f,YAAc,KAAK6f,OAAO5f,cACtEykB,KAAAA,WAAW9nB,iBAAiB,KAAKijB,OAAO7f,WAAY,KAAK6f,OAAO5f,cAGzEokB,GAAmBh6B,UAAU83B,cAAgB,WACvC5uB,IAAAA,EAAK,KAAKssB,OAAO0B,OAAO12B,WAAW,SAClC0I,IAAIA,EAAK,KAAKssB,OAAO0B,OAAO12B,WAAW,uBACvC0I,IAAIA,EAAK,KAAKssB,OAAO0B,OAAO12B,WAAW,WACvC0I,IACD,KAAKssB,OAAO4B,aACT,KAAKn4B,OAAOw6B,wBACfvwB,EAAGtZ,OAAO0G,MAAQiS,IAAmB,KAAK4xB,aAC1CjxB,EAAGtZ,OAAO2G,OAASoS,IAAoB,KAAKwxB,aACvCG,KAAAA,aAAe,IAAI1hB,EAAY1P,KAGjC,KAAKjK,OAAOw6B,wBACVa,KAAAA,aAAe,IAAI1hB,EAAY1P,IAEjCmxB,KAAAA,WAAa,IAAI5pB,EAAmBvH,EAAI,KAAKoxB,aAAc,KAAKr7B,OAAO06B,aAAc,KAAK16B,OAAO26B,6BACjGS,KAAAA,WAAW5jB,iBAAiB,KAAKgkB,cAEpC,KAAKH,cACFA,KAAAA,aAAalhB,OAAO,SAAU9d,GAC5Bo/B,KAAAA,gBAAgBrL,KAAK,KAAKmG,OAAO0B,OAAO3H,eAC7Cj0B,EAAEkgC,kBACFlgC,EAAEmgC,kBACFjQ,KAAK,MAAO,SAAUlwB,GACjBm9B,KAAAA,cACLn9B,EAAEkgC,kBACFlgC,EAAEmgC,kBACFjQ,KAAK,OAEL,KAAKoP,sBACHxyB,KAAqBlE,IAClB02B,KAAAA,oBAAoBjL,gBAAgB,IAAM,KAAK6F,OAAO0B,OAAO3H,eAE7DqL,KAAAA,oBAAoB5K,UAGxB0L,KAAAA,mBAAqB,KAAK5Q,qBAAqBU,KAAK,MACzD79B,OAAOO,iBAAiB,oBAAqB,KAAKwtC,oBAC7CC,KAAAA,8BAAgC,KAAKJ,cAAc/P,KAAK,MAC7D79B,OAAOO,iBAAiB,yBAA0B,KAAKytC,+BAClDC,KAAAA,qCAEP5B,GAAmBh6B,UAAUi4B,YAAc,WACrC,KAAKoC,aACFA,KAAAA,WAAWhnB,UACXgnB,KAAAA,WAAa,MAEhB,KAAKC,eACFA,KAAAA,aAAajnB,UACbinB,KAAAA,aAAe,MAElB,KAAKM,qBACFA,KAAAA,oBAAoBxL,OAEtBsL,KAAAA,gBAAgBtL,OACrBzhC,OAAOe,oBAAoB,oBAAqB,KAAKgtC,oBACrD/tC,OAAOe,oBAAoB,yBAA0B,KAAKitC,gCAE5D3B,GAAmBh6B,UAAUm3B,eAAiB,WACvCc,KAAAA,cACAH,KAAAA,iBAEPkC,GAAmBh6B,UAAU6V,YAAc,SAAU/f,GAC/C,GAAA,KAAKukC,WACFkB,KAAAA,gBACAlB,KAAAA,WAAWxkB,mBACX,GAAI,KAAKykB,cAAgB,KAAK9E,OAAQ,CACvC5lC,IAAAA,EAAS,KAAK4lC,OAAO0B,OAAO12B,WAAW,SAAS5Q,OAChDA,EAAO0G,OAAS,KAAKulC,WAAajsC,EAAO2G,QAAU,KAAKulC,YACrDxB,KAAAA,aAAalnB,WAEfyoB,KAAAA,UAAYjsC,EAAO0G,MACnBwlC,KAAAA,WAAalsC,EAAO2G,OACpB+jC,KAAAA,aAAa1f,WAGtBof,GAAmBh6B,UAAU8qB,qBAAuB,SAAUxvB,GACvDo/B,KAAAA,gBAAgBtL,OACjB,KAAKwL,qBACFA,KAAAA,oBAAoB5K,SAEtB6K,KAAAA,aAEPb,GAAmBh6B,UAAU66B,UAAY,SAAUv/B,GAC7C,GAAA,KAAKk6B,OAAQ,CACXtsB,IAAAA,EAAK,KAAKssB,OAAO0B,OAAO12B,WAAW,SAIvC0I,EAAGtZ,OAAO2oB,aAAa,QAHH,CAAC,qBAAsB,SAAU,UACrD,eAAgB,gBAAiB,YAAa,YAC9C,eAAgB,2BAC8BhI,KAAK,MAAQ,KAC3DtF,EAAwB/B,EAAGtZ,UAG/BoqC,GAAmBh6B,UAAU26B,iBAAmB,SAAUza,GACnDua,KAAAA,YAAYna,UAAUJ,GACvB,KAAKma,YACFA,KAAAA,WAAW5jB,iBAAiB,KAAKgkB,aAEnCmB,KAAAA,oCAEP5B,GAAmBh6B,UAAU47B,iCAAmC,WAC1D7sC,IAAAA,EAAQ,IAAI4pC,YAAY,8BAA+B,CACzDC,OAAQ,CACNmD,UAAW,KACXrlB,WAAY,KAAK+jB,eAGrB9sC,OAAOmB,cAAcC,IAEvBirC,GAAmBgC,YA1kBVA,WACFrvB,KAAAA,qBAAuB,IAAIxc,aAAa,IACxCmF,KAAAA,eAAiB,IAAInF,aAAa,IAClC2c,KAAAA,sBAAwB,IAAI3c,aAAa,IACzCoF,KAAAA,gBAAkB,IAAIpF,aAAa,IACnC2F,KAAAA,KAAO,MAskBdkkC,GAAmBlF,UAAYA,GACxBkF,GA9jGWvH,KAikGduH,GAAqB/0B,GAAcM,IAEvC,MAAM02B,WAA2BnuC,EAC/BC,YAAYN,GACV,QACKA,KAAAA,OAASA,EACTyuC,KAAAA,eAAiB,KAAKA,eAAe1Q,KAAK,MAC1C/9B,KAAAA,OAAOE,OAAOO,iBAAiB,SAAU,KAAKguC,gBAC9ClhC,KAAAA,qBAAuB,SAE1BH,gBAAoB,MAAA,IAAIxM,MAAM,mBAC9BwM,cAAUyd,GAAa,MAAA,IAAIjqB,MAAM,mBACjC0M,eAAmB,MAAA,IAAI1M,MAAM,mBAC7B0M,aAASud,GAAa,MAAA,IAAIjqB,MAAM,mBACpC6M,eAAevE,EAAWO,GAAe,MAAA,IAAI7I,MAAM,mBACnDiO,gBAAgBvD,EAAQ,IAAY,MAAA,IAAI1K,MAAM,mBACxCoO,qBAAe1D,EAAQ,IAAY,MAAA,IAAI1K,MAAM,mBACnD4L,sBAAsBuB,GAAkB,MAAA,IAAInN,MAAM,mBAClDoN,aAAa9E,GAAmB,MAAA,IAAItI,MAAM,mBAC1CqN,WAAW/E,GAAmB,MAAA,IAAItI,MAAM,mBACxCkN,qBAA6B,MAAA,IAAIlN,MAAM,mBACjCgN,uCAAiClN,EAAM4K,IAG7C4C,qBAAqBC,GAAgB,MAAA,IAAIvN,MAAM,mBAC/C0N,WAAWpF,GAAmB,MAAA,IAAItI,MAAM,mBACxC8I,YAAYR,EAAWhB,EAAKuB,EAAOb,GAAgB,MAAA,IAAIhI,MAAM,mBAC7D2I,oBAAoBrB,GAAa,MAAA,IAAItH,MAAM,mBAC3C0H,oBAA4B,MAAA,IAAI1H,MAAM,mBACtC2H,kBAAkBL,GAAa,MAAA,IAAItH,MAAM,mBACzCwN,kBAA0B,MAAA,IAAIxN,MAAM,mBACpCuJ,aAAaC,EAAaF,GAA0B,MAAA,IAAItJ,MAAM,mBAC9D6tC,iBACOA,KAAAA,kBAIT,SAASC,KACH1rC,IAAAA,EAAM,IAAIP,EAAW,GAYlBO,OAXJP,GAAcC,eACfM,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAEXA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,EAGT,SAAS2rC,KACH3rC,IAAAA,EAAM,IAAIP,EAAW,GAOlBO,OANJP,GAAcC,eACfM,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAEJA,EAET,SAAS4rC,GAAQ1rC,GACXF,IAAAA,EAAM,IAAIP,EAAW,GAKlBO,OAJPA,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACJF,EAGT,SAAS6rC,GAAO7rC,EAAKE,GAKZF,OAJPA,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACXF,EAAI,GAAKE,EAAE,GACJF,EAoBT,SAAS8rC,GAAY9rC,EAAKE,GACpByC,IAAAA,EAAIzC,EAAE,GACN0C,EAAI1C,EAAE,GACN2C,EAAI3C,EAAE,GACN4C,EAAI5C,EAAE,GACN0Q,EAAMjO,EAAEA,EAAIC,EAAEA,EAAIC,EAAEA,EAAIC,EAAEA,EAQvB9C,OAPH4Q,EAAM,IACRA,EAAM,EAAI/Q,KAAKmE,KAAK4M,GACpB5Q,EAAI,GAAK2C,EAAIiO,EACb5Q,EAAI,GAAK4C,EAAIgO,EACb5Q,EAAI,GAAK6C,EAAI+N,EACb5Q,EAAI,GAAK8C,EAAI8N,GAER5Q,EAiBT,MAAM+rC,GAAa,WACbr5B,IAAAA,EAAMi5B,KACH,OAAA,SAASzrC,EAAGyS,EAAQC,EAAQC,EAAOC,EAAIC,GACxC7U,IAAAA,EAAG8U,EAYH9U,IAXAyU,IACFA,EAAS,GAEPC,IACFA,EAAS,GAGTI,EADCH,EACGhT,KAAKoT,IAAKJ,EAAQF,EAAUC,EAAQ1S,EAAE/B,QAEtC+B,EAAE/B,OAEJD,EAAI0U,EAAQ1U,EAAI8U,EAAG9U,GAAKyU,EAC1BD,EAAI,GAAKxS,EAAEhC,GAAIwU,EAAI,GAAKxS,EAAEhC,EAAE,GAAIwU,EAAI,GAAKxS,EAAEhC,EAAE,GAAIwU,EAAI,GAAKxS,EAAEhC,EAAE,GAC9D4U,EAAGJ,EAAKA,EAAKK,GACb7S,EAAEhC,GAAKwU,EAAI,GAAIxS,EAAEhC,EAAE,GAAKwU,EAAI,GAAIxS,EAAEhC,EAAE,GAAKwU,EAAI,GAAIxS,EAAEhC,EAAE,GAAKwU,EAAI,GAEzDxS,OAAAA,GApBQ,GAwBnB,SAAS8rC,KACHhsC,IAAAA,EAAM,IAAIP,EAAW,GAOlBO,OANJP,GAAcC,eACfM,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,GAEXA,EAAI,GAAK,EACFA,EAGT,SAASisC,GAAajsC,EAAKotB,EAAM8e,GAC/BA,GAAY,GACRllB,IAAAA,EAAInnB,KAAKiqB,IAAIoiB,GAKVlsC,OAJPA,EAAI,GAAKgnB,EAAIoG,EAAK,GAClBptB,EAAI,GAAKgnB,EAAIoG,EAAK,GAClBptB,EAAI,GAAKgnB,EAAIoG,EAAK,GAClBptB,EAAI,GAAKH,KAAKgqB,IAAIqiB,GACXlsC,EAGT,SAASmsC,GAAWnsC,EAAKE,EAAGiC,GACtB4O,IAAAA,EAAK7Q,EAAE,GAAI8Q,EAAK9Q,EAAE,GAAI+Q,EAAK/Q,EAAE,GAAIksC,EAAKlsC,EAAE,GACxCgR,EAAK/O,EAAE,GAAIgP,EAAKhP,EAAE,GAAIiP,EAAKjP,EAAE,GAAIm1B,EAAKn1B,EAAE,GAKrCnC,OAJPA,EAAI,GAAK+Q,EAAKumB,EAAK8U,EAAKl7B,EAAKF,EAAKI,EAAKH,EAAKE,EAC5CnR,EAAI,GAAKgR,EAAKsmB,EAAK8U,EAAKj7B,EAAKF,EAAKC,EAAKH,EAAKK,EAC5CpR,EAAI,GAAKiR,EAAKqmB,EAAK8U,EAAKh7B,EAAKL,EAAKI,EAAKH,EAAKE,EAC5ClR,EAAI,GAAKosC,EAAK9U,EAAKvmB,EAAKG,EAAKF,EAAKG,EAAKF,EAAKG,EACrCpR,EAMT,SAASguB,GAAMhuB,EAAKE,EAAGiC,EAAGyU,GACpB7F,IAEAs7B,EAAOC,EAAOC,EAAOC,EAAQC,EAF7B17B,EAAK7Q,EAAE,GAAI8Q,EAAK9Q,EAAE,GAAI+Q,EAAK/Q,EAAE,GAAIksC,EAAKlsC,EAAE,GACxCgR,EAAK/O,EAAE,GAAIgP,EAAKhP,EAAE,GAAIiP,EAAKjP,EAAE,GAAIm1B,EAAKn1B,EAAE,GAuBrCnC,OArBPssC,EAAQv7B,EAAKG,EAAKF,EAAKG,EAAKF,EAAKG,EAAKg7B,EAAK9U,GAC9B,IACXgV,GAASA,EACTp7B,GAAOA,EACPC,GAAOA,EACPC,GAAOA,EACPkmB,GAAOA,GAEH,EAAMgV,EAAS9sC,GACnB6sC,EAASxsC,KAAK0S,KAAK+5B,GACnBC,EAAS1sC,KAAKiqB,IAAIuiB,GAClBG,EAAS3sC,KAAKiqB,KAAK,EAAMlT,GAAKy1B,GAASE,EACvCE,EAAS5sC,KAAKiqB,IAAIlT,EAAIy1B,GAASE,IAE/BC,EAAS,EAAM51B,EACf61B,EAAS71B,GAEX5W,EAAI,GAAKwsC,EAASz7B,EAAK07B,EAASv7B,EAChClR,EAAI,GAAKwsC,EAASx7B,EAAKy7B,EAASt7B,EAChCnR,EAAI,GAAKwsC,EAASv7B,EAAKw7B,EAASr7B,EAChCpR,EAAI,GAAKwsC,EAASJ,EAAKK,EAASnV,EACzBt3B,EAGT,SAAS0sC,GAAS1sC,EAAKE,GACjBysC,IAAAA,EAAKzsC,EAAE,GAAI0sC,EAAK1sC,EAAE,GAAI2sC,EAAK3sC,EAAE,GAAI4sC,EAAK5sC,EAAE,GACxC6sC,EAASJ,EAAGA,EAAKC,EAAGA,EAAKC,EAAGA,EAAKC,EAAGA,EACpCE,EAASD,EAAS,EAAIA,EAAS,EAK5B/sC,OAJPA,EAAI,IAAM2sC,EAAGK,EACbhtC,EAAI,IAAM4sC,EAAGI,EACbhtC,EAAI,IAAM6sC,EAAGG,EACbhtC,EAAI,GAAK8sC,EAAGE,EACLhtC,EAGT,SAASitC,GAASjtC,EAAKsR,GACjB47B,IACAC,EADAD,EAAS57B,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAExB47B,GAAAA,EAAS,EACZC,EAAQttC,KAAKmE,KAAKkpC,EAAS,GAC3BltC,EAAI,GAAK,GAAMmtC,EACfA,EAAQ,GAAIA,EACZntC,EAAI,IAAMsR,EAAE,GAAGA,EAAE,IAAI67B,EACrBntC,EAAI,IAAMsR,EAAE,GAAGA,EAAE,IAAI67B,EACrBntC,EAAI,IAAMsR,EAAE,GAAGA,EAAE,IAAI67B,MAChB,CACDjvC,IAAAA,EAAI,EACHoT,EAAE,GAAKA,EAAE,KACZpT,EAAI,GACDoT,EAAE,GAAKA,EAAI,EAAFpT,EAAIA,KAChBA,EAAI,GACF4oB,IAAAA,GAAK5oB,EAAE,GAAG,EACVkvC,GAAKlvC,EAAE,GAAG,EACdivC,EAAQttC,KAAKmE,KAAKsN,EAAI,EAAFpT,EAAIA,GAAGoT,EAAI,EAAFwV,EAAIA,GAAGxV,EAAI,EAAF87B,EAAIA,GAAK,GAC/CptC,EAAI9B,GAAK,GAAMivC,EACfA,EAAQ,GAAMA,EACdntC,EAAI,IAAMsR,EAAI,EAAFwV,EAAIsmB,GAAK97B,EAAI,EAAF87B,EAAItmB,IAAMqmB,EACjCntC,EAAI8mB,IAAMxV,EAAI,EAAFwV,EAAI5oB,GAAKoT,EAAI,EAAFpT,EAAI4oB,IAAMqmB,EACjCntC,EAAIotC,IAAM97B,EAAI,EAAF87B,EAAIlvC,GAAKoT,EAAI,EAAFpT,EAAIkvC,IAAMD,EAE5BntC,OAAAA,EAET,SAASqtC,GAAUrtC,EAAK2C,EAAGC,EAAGC,GACtByqC,IAAAA,EAAY,GAAMztC,KAAKC,GAAK,IAChC6C,GAAK2qC,EACL1qC,GAAK0qC,EACLzqC,GAAKyqC,EACDC,IAAAA,EAAK1tC,KAAKiqB,IAAInnB,GACd6qC,EAAK3tC,KAAKgqB,IAAIlnB,GACd8qC,EAAK5tC,KAAKiqB,IAAIlnB,GACd8qC,EAAK7tC,KAAKgqB,IAAIjnB,GACd+qC,EAAK9tC,KAAKiqB,IAAIjnB,GACd+qC,EAAK/tC,KAAKgqB,IAAIhnB,GAKX7C,OAJPA,EAAI,GAAKutC,EAAKG,EAAKE,EAAKJ,EAAKC,EAAKE,EAClC3tC,EAAI,GAAKwtC,EAAKC,EAAKG,EAAKL,EAAKG,EAAKC,EAClC3tC,EAAI,GAAKwtC,EAAKE,EAAKC,EAAKJ,EAAKE,EAAKG,EAClC5tC,EAAI,GAAKwtC,EAAKE,EAAKE,EAAKL,EAAKE,EAAKE,EAC3B3tC,EAGX,MAAM6tC,GAAUjC,GAEVkC,GAASjC,GAWTkC,GAAcjC,GAGdkC,GAAc,WACdC,IAAAA,EAAU99B,KACV+9B,EAAY79B,GAAa,EAAE,EAAE,GAC7B89B,EAAY99B,GAAa,EAAE,EAAE,GAC1B,OAAA,SAASrQ,EAAKE,EAAGiC,GAClB4qC,IAAAA,EAASl8B,GAAI3Q,EAAGiC,GAChB4qC,OAAAA,GAAU,SACZj8B,GAAMm9B,EAASC,EAAWhuC,GACtB0Q,GAAIq9B,GAAW,MACjBn9B,GAAMm9B,EAASE,EAAWjuC,GAC5ByQ,GAAUs9B,EAASA,GACnBhC,GAAajsC,EAAKiuC,EAASpuC,KAAKC,IACzBE,GACE+sC,EAAS,SAClB/sC,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACTA,EAAI,GAAK,EACFA,IAEP8Q,GAAMm9B,EAAS/tC,EAAGiC,GAClBnC,EAAI,GAAKiuC,EAAQ,GACjBjuC,EAAI,GAAKiuC,EAAQ,GACjBjuC,EAAI,GAAKiuC,EAAQ,GACjBjuC,EAAI,GAAK,EAAI+sC,EACNgB,GAAY/tC,EAAKA,KAzBV,GA6BdouC,GAAU,WACVC,IAAAA,EAAQrC,KACRsC,EAAQtC,KACL,OAAA,SAAUhsC,EAAKE,EAAGiC,EAAGkgC,EAAGpb,EAAGrQ,GAIzB5W,OAHPguB,GAAMqgB,EAAOnuC,EAAG+mB,EAAGrQ,GACnBoX,GAAMsgB,EAAOnsC,EAAGkgC,EAAGzrB,GACnBoX,GAAMhuB,EAAKquC,EAAOC,EAAO,EAAI13B,GAAK,EAAIA,IAC/B5W,GAPK,GAUVuuC,GAAW,WACXC,IAAAA,EAAO9C,KACJ,OAAA,SAAS1rC,EAAKiF,EAAMmlB,EAAOqkB,GAUzBV,OATPS,EAAK,GAAKpkB,EAAM,GAChBokB,EAAK,GAAKpkB,EAAM,GAChBokB,EAAK,GAAKpkB,EAAM,GAChBokB,EAAK,GAAKC,EAAG,GACbD,EAAK,GAAKC,EAAG,GACbD,EAAK,GAAKC,EAAG,GACbD,EAAK,IAAMvpC,EAAK,GAChBupC,EAAK,IAAMvpC,EAAK,GAChBupC,EAAK,IAAMvpC,EAAK,GACT8oC,GAAY/tC,EAAKitC,GAASjtC,EAAKwuC,KAZzB,GAgBXE,GAAgCr+B,GAAa,MAAQ,MAAQ,KAC7Ds+B,GAA+Bt+B,IAAc,MAAQ,MAAQ,KAC7Du+B,GAAqBv+B,GAAa,EAAG,GAAI,KACzCw+B,GAA0Bx+B,GAAa,EAAG,EAAG,KAC7Cy+B,GAAuBz+B,IAAc,IAAM,IAAM,KACjD0+B,GAAmB,GACnBC,GAAyB,GACzBC,GAAoB,IACpBC,GAAkB,KAClBC,GAAoB,IACpBC,GAAoB,IACpBC,GAAa,IAAMxvC,KAAKC,GAC9B,SAASwvC,GAAoBtvC,EAAKyC,EAAG8sC,GAC1BC,SAAAA,EAAMnlC,EAAOolC,EAAQC,GACpBrlC,OAAAA,EAAQolC,EAASA,EAAUplC,EAAQqlC,EAASA,EAASrlC,EAE3DslC,IAAAA,EAAMltC,EAAE,GAAKA,EAAE,GACfmtC,EAAMntC,EAAE,GAAKA,EAAE,GACfotC,EAAMptC,EAAE,GAAKA,EAAE,GACfqtC,EAAMrtC,EAAE,GAAKA,EAAE,GACd8sC,GAAU,QAAVA,EACHvvC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,GAC5E7vC,EAAI,GAAKH,KAAKmwC,KAAOR,EAAO,GAAM/sC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,KAAO,EAAG,IACnEzC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,QACvE,GAAgB,QAAXN,EACVvvC,EAAI,GAAKH,KAAKmwC,KAAOR,EAAO,GAAM/sC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,KAAO,EAAG,IACnEzC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,GAC5E7vC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,QACvE,GAAe,QAAVN,EACVvvC,EAAI,GAAKH,KAAKmwC,KAAOR,EAAO,GAAM/sC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,KAAO,EAAG,IACnEzC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,GAC5E7vC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,QACvE,GAAe,QAAVN,EACVvvC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,GAC5E7vC,EAAI,GAAKH,KAAKmwC,KAAOR,EAAO,GAAM/sC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,KAAO,EAAG,IACnEzC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,QACvE,GAAe,QAAVN,EACVvvC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,GAC5E7vC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,GAC5E7vC,EAAI,GAAKH,KAAKmwC,KAAOR,EAAO,GAAM/sC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,KAAO,EAAG,QAC9D,CAAA,GAAe,QAAV8sC,EAMV,YADArgC,QAAQyQ,IAAI,sDAJZ3f,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,GAC5E7vC,EAAI,GAAKH,KAAKkwC,MAAO,GAAMttC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAQqtC,EAAMH,EAAMC,EAAMC,GAC5E7vC,EAAI,GAAKH,KAAKmwC,KAAOR,EAAO,GAAM/sC,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,KAAO,EAAG,KAMvE,MAAMwtC,GACJ3yC,cACO4yC,KAAAA,KAAO,QACPC,KAAAA,gBAAkBzB,GAClB0B,KAAAA,YAAcpE,KACdqE,KAAAA,gBAAkBrE,KAClBsE,KAAAA,MAAQtE,KACRuE,KAAAA,QAAUpgC,KACVqgC,KAAAA,SAAWrgC,KACXsgC,KAAAA,SAAWtgC,KACXugC,KAAAA,KAAO,KACPC,KAAAA,SAAW,KACXC,KAAAA,MAAQ5E,KACR53B,KAAAA,SAAWjE,KAElB0gC,cAAcX,GACR,KAAKA,MAAQA,IACVA,KAAAA,KAAOA,EACK,QAAb,KAAKA,KACFC,KAAAA,gBAAkBxB,GAElBwB,KAAAA,gBAAkBzB,IAI7BnP,OAAOuR,EAAuBC,GACvBL,KAAAA,KAAO1xC,IACR8xC,IACFhD,GAAO,KAAKuC,gBAAiB,KAAKD,aAClCtC,GAAO,KAAKsC,YAAaU,IAEvBC,IACFptC,EAAe,KAAK4sC,QAASQ,GAC7BltC,EAAY,KAAKysC,MAAOS,IAEtBC,IAAAA,EAAW,KAAKC,yBAChBC,EAAa,KAAKC,WAAW,KAAKd,gBAAiB,KAAKD,aAE/Bc,IADZ,KAAKR,KAAO,KAAKC,UAAY,KAEjB1B,GAC3BjhB,GAAM,KAAK4iB,MAAO,KAAKA,MAAOI,EACnBnxC,KAAKoT,IAAIi+B,EAAahC,GAAiB,IAElDpB,GAAO,KAAK8C,MAAOI,GAEjBI,IAAAA,EAAoB/gC,GAAa,EAAG,GAAI,GAC5CkB,GAAc6/B,EAAmBA,EAAmB,KAAKhB,aACrDiB,IAAAA,EAAiBxgC,GAAIugC,EAAmB,CAAC,EAAG,EAAG,IAC/CE,EAAiB,KAAKC,QACrBF,EAAiBlC,IAAqBC,GAAmB,EAAK,GAC/DoC,EAAoB3D,GAAQ,KAAK+C,OACrClE,GAAS8E,EAAmBA,GAC5BrF,GAAWqF,EAAmBA,EAAmB,KAAKpB,aAClDI,IAAAA,EAAW,KAAKA,SACpBlgC,GAAOkgC,EAAU,KAAKD,SACtB//B,GAAMggC,EAAUA,EAAU,KAAKL,iBAC3BsB,IAAAA,EAAcrhC,GAAQ0+B,IAC1Bp+B,GAAQ+gC,EAAaA,EAAaH,GAClC9gC,GAAMggC,EAAUA,EAAUiB,GACtBC,IACAC,EADa,KAAKR,WAAWK,EAAmBxF,MACnBqD,GAG7BuC,GAFkB,EAAI/xC,KAAKgyC,IAAIF,EAAgB,IAAK,KAAoB5C,IAC3D,EAAIA,IAEUuC,EAAiBtC,IAC5C8C,EAAS9F,KACbhe,GAAM8jB,EAAQA,EAAQN,EAAmBI,GACrCG,IAAAA,EAAYrF,GAASV,KAAY8F,GACjCE,EAASnE,GAAQ2D,GACrBrF,GAAW6F,EAAQA,EAAQD,GACvBtB,IAAAA,EAAW,KAAKA,SACpBngC,GAAOmgC,EAAU5B,IACjBt9B,GAAck/B,EAAUA,EAAUqB,GAClCthC,GAAMigC,EAAUA,EAAU7B,IAC1Br9B,GAAck/B,EAAUA,EAAUuB,GAClCxhC,GAAMigC,EAAUA,EAAUD,GACtB59B,IAAAA,EAASxC,GAAQ0+B,IACrBp+B,GAAQkC,EAAQA,EAAQ0+B,GACxB9gC,GAAM,KAAK4D,SAAU,KAAKq8B,SAAU79B,GACpCrB,GAAc,KAAK6C,SAAU,KAAKA,SAAU,KAAKw8B,OAC5CD,KAAAA,SAAW,KAAKD,KAEvBvX,cACS,OAAA,KAAK/kB,SAEd68B,yBACMgB,IAAAA,EAAY9hC,KAGT+hC,OAFP5C,GAAoB2C,EAAW,KAAK3B,MAAO,OACxBjD,GAAUrB,KAAY,EAAGiG,EAAU,GAAK5C,GAAY,GAGzEkC,OAAOlnC,EAAOolC,EAAQC,GACb7vC,OAAAA,KAAKoT,IAAIpT,KAAKkY,IAAI1N,EAAOolC,GAASC,GAE3CyB,WAAWgB,EAAIC,GACTC,IAAAA,EAAO,CAAC,EAAG,GAAI,GACfC,EAAO,CAAC,EAAG,GAAI,GAGZngC,OAFPZ,GAAc8gC,EAAMA,EAAMF,GAC1B5gC,GAAc+gC,EAAMA,EAAMF,GACnBjgC,GAAMkgC,EAAMC,IAIvB,MAAMC,GACJj1C,YAAYsH,EAAU4tC,EAAqB,GACpC5tC,KAAAA,SAAWA,EACX6tC,KAAAA,QAAU,KACVrrC,KAAAA,YAAc,IAAIkG,EAAc,MAChColC,KAAAA,aAAeviC,KACf/C,KAAAA,kBAAmB,EACnBulC,KAAAA,eAAiB5yC,IACjB6yC,KAAAA,WAAa,IAAIC,QACjBL,KAAAA,mBAAqBA,EACrBM,KAAAA,sBAAuB,EACvBtlC,KAAAA,WAAa,GACbC,KAAAA,cAAgB,OAChBslC,KAAAA,SAAW,KAElBC,kBAAkBP,GACXA,KAAAA,QAAUA,EACVjlC,KAAAA,WAAailC,EAAQvC,KACtBuC,EAAQptC,MACLoI,KAAAA,cAAgB,kBAChBL,KAAAA,kBAAoBqlC,EAAQptC,KAAK2+B,aACZ,KAAjByO,EAAQvC,OACZziC,KAAAA,cAAgB,OAChBL,KAAAA,kBAAmB,GAG5B6lC,uBACM,GAAA,KAAKR,SAAW,KAAKA,QAAQptC,KAAM,CACjCA,IAAAA,EAAO,KAAKotC,QAAQptC,KACpB+O,EAAW/O,EAAK+O,SAChByD,EAAcxS,EAAKwS,YACnB,IAACzD,IAAayD,EAChB,OAEGzD,GAYEs+B,KAAAA,aAAa,GAAKt+B,EAAS,GAC3Bs+B,KAAAA,aAAa,GAAKt+B,EAAS,GAC3Bs+B,KAAAA,aAAa,GAAKt+B,EAAS,IAb3B/O,EAAK2+B,YAQR5vB,EAAW,KAAKs+B,cAPX,KAAKK,WACHA,KAAAA,SAAW,IAAI9C,IAEjB8C,KAAAA,SAASlC,cAAc,KAAK4B,QAAQvC,MACpC6C,KAAAA,SAASxT,OAAO1nB,EAAa,KAAKjT,SAASU,qBAChD8O,EAAW,KAAK2+B,SAAS5Z,eAS7B32B,EAAwB,KAAKmwC,eAAgB96B,EAAazD,QAE1DnU,EAAK,KAAK0yC,eAAgB,KAAK/tC,SAASU,qBAEnC,OAAA,KAAKqtC,eAEdO,eAAehsC,GACR+rC,KAAAA,uBACDE,IAAAA,EAAY,KAAKP,WAAW90C,IAAIoJ,GAC/BisC,IACHA,EAAY,IAAIpmC,EAAY,KAAM,KAAK0lC,SAAW,KAAKA,QAAQptC,MAC1DutC,KAAAA,WAAW50C,IAAIkJ,EAAkBisC,IAElCC,MAAAA,EAAqB,IAAI1zC,aAAa,IAMrCyzC,OALPjsC,EAAiB1B,wBAAwB4tC,EAAoB,KAAKT,gBAClEQ,EAAUjmC,UAAYmG,GAAkB+/B,GACpCD,EAAUhmC,YACZjG,EAAiB1B,wBAAwB2tC,EAAUhmC,WAAY,KAAKwlC,gBAE/DQ,GAIX,MAAME,IAAW,EACXC,GAAgC,CACpCC,iBAAiB,GAEbC,GAAqB,CACzBC,OAAQ,EACRC,OAAQ,EAC2C,kDAAA,GAErD,IAAIC,GAAa,EACjB,MAAMC,GACJt2C,YAAY2L,EAAgB4qC,EAAgB,IAOtC,GANC/qC,KAAAA,cAAgBG,EAAeH,cAC/B9B,KAAAA,UAAYiC,EAAejC,UAC3BmC,KAAAA,MAAQ,KACRqB,KAAAA,UAAY,KACZtB,KAAAA,KAAOyqC,GACPG,KAAAA,qBAAsB,EACvB,KAAKhrC,gBAAkBuqC,GAAU,CAC7BvjC,MAAAA,EAAoB+jC,EAAgB/jC,mBAAqB,KAC1DikC,KAAAA,cAAgB,KAAKjrC,cAAc3J,OAAO4Q,WAAWD,KAIhE,MAAMkkC,WAAoBxI,GACxBluC,YAAYN,EAAQmX,GACZ,MAAA,WAAE+vB,GAAe/vB,EAAQywB,aACzB5nC,MAAAA,GACDmX,KAAAA,QAAUA,EACV7K,KAAAA,MAAQ,IAAItM,EAAOuuC,YACnB0I,KAAAA,SAAW,IAAIz2C,IACfiO,KAAAA,iBAAmB,KACnBy4B,KAAAA,WAAaA,EACbgQ,KAAAA,gBAAkBn0C,IAClBo0C,KAAAA,oBAAsB,GACtBC,KAAAA,SAAW,IAAI10C,aAAa,GAC5B20C,KAAAA,yBAA2B,KAAKA,yBAAyBtZ,KAAK,MACnE/9B,EAAOE,OAAOO,iBAAiB,yBAA0B,KAAK42C,0BACzDC,KAAAA,gBAAkBt3C,EAAO6W,WAAc,gBAAiB7W,EAAO6W,UAC/D0gC,KAAAA,mBAAqBrhC,GAAuBlW,GAE/CoN,gBAAqB,OAAA,KAAK+J,QAAQ/J,UAClCA,cAAUyd,GAAY1T,KAAAA,QAAQ/J,UAAYyd,EAC1Cvd,eAAoB,OAAA,KAAK6J,QAAQ7J,SACjCA,aAASud,GAAY1T,KAAAA,QAAQ7J,SAAWud,EAC5Cpd,eAAevE,EAAWO,GAClBI,MAAAA,EAAU,KAAKotC,SAASn2C,IAAIoI,GAC5B/G,EAASsH,EAAM6H,QAAQnP,OACzB0H,GAAAA,EAAQG,UAAW,CACfsN,MAAAA,EAAO,KAAKH,QAAQw0B,iBAAiB,QACrCve,EAAQ,KAAKjW,QAAQw0B,iBAAiB,SAC5CxpC,EAAO0G,MAAwD,EAAhDhG,KAAKkY,IAAIzD,EAAKq2B,YAAavgB,EAAMugB,aAChDxrC,EAAO2G,OAASjG,KAAKkY,IAAIzD,EAAKs2B,aAAcxgB,EAAMwgB,cAC7Cz2B,KAAAA,QAAQkyB,eAAe,CAAC,CACzBI,OAAQtnC,EAAQq1C,WAAYlB,MAC1B3jC,KAAK,KACJ0jC,IAAa,KAAKr2C,OAAOob,SAAS4mB,KAAKsB,SAASnhC,KACnD0H,EAAQitC,qBAAsB,EACzB92C,KAAAA,OAAOob,SAAS4mB,KAAKvB,YAAYt+B,GACtC8U,GAAqC9U,IAEvC0H,EAAQ2D,UAAY/D,SAGfI,EAAQiC,gBACfjC,EAAQ2D,UAAY/D,GAGxBoF,gBAAgBvD,EAAQ,IAClBA,OAAsB,IAAtBA,EAAQtB,YAA0C,IAApB,KAAKk9B,WAKnCl4B,qBAAe1D,EAAQ,IACvB,IAAC,KAAKuD,gBAAgBvD,GACjBwD,OAAAA,QAAQC,SAEbzD,GAAAA,EAAQtB,UAAW,CACf7H,MAAAA,EAAS,KAAKnC,OAAOob,SAAS6kB,cAAc,UAC9C,IAACoW,GAAU,CACDl0C,EAAO4Q,WAAW,eAE1B,KAAKoE,QAAQkyB,eAAe,CAAC,CAC/BI,OAAQtnC,EAAQq1C,WAAYlB,MAE5BzsC,MAAAA,EAAU,IAAI+sC,GAAQtrC,EAAS,CACnCwH,kBAAmB,KAAKykC,mBAAqB,iBAAmB,OAO3DzoC,OALFmoC,KAAAA,SAASj2C,IAAI6I,EAAQqC,GAAIrC,GAC1ByB,EAAQtB,YACLyE,KAAAA,iBAAmB5E,EACnBxI,KAAAA,cAAc,oCAAqCwI,EAAQqC,KAE3D4C,QAAQ4D,QAAQ7I,EAAQqC,IAEjCM,sBAAsBuB,GACb,OAAA,KAAKoJ,QAAQ3K,sBAAsBuB,GAE5C0pC,sBAAsBhC,GAChBiC,IAAAA,EAAgB,EAChBx6B,EAAOu4B,EAAQvpC,GAAGuxB,cACjB,IAAA,IAAI/kB,KAAO89B,GACVt5B,GAAAA,EAAK/T,SAASuP,GAAM,CACtBg/B,EAAgBlB,GAAmB99B,GACnC,MAGG7V,OAAAA,KAAKoT,IAAIyhC,EAAejC,EAAQkC,QAAQx2C,OAAS,GAE1D6M,aAAa9E,GACNiO,KAAAA,QAAQqxB,aAAa,KAAKl8B,OACzBzC,MAAAA,EAAU,KAAKotC,SAASn2C,IAAIoI,GAC9BW,GAAAA,EAAQG,WAAa,KAAKstC,gBAAiB,CACzCM,IAAAA,EAAmB,KAAKT,oBACvBA,KAAAA,oBAAsB,GACvBU,IAAAA,EAAW,KAAK73C,OAAO6W,UAAUihC,cAChC,IAAA,IAAI52C,EAAI,EAAGA,EAAI22C,EAAS12C,SAAUD,EAAG,CACpCu0C,IAAAA,EAAUoC,EAAS32C,GACnBu0C,GAAAA,GAAWA,EAAQhO,YAAc,KAAKtwB,QAAQswB,UAAW,CACvDz3B,IAAAA,EAAkB4nC,EAAiB12C,GAMnC8O,GALCA,IACHA,EAAkB,IAAIulC,GAAqB,KAAM,KAAKkC,sBAAsBhC,KAE9EzlC,EAAgBgmC,kBAAkBP,GAC7B0B,KAAAA,oBAAoBj2C,GAAK8O,GACa,GAAvCA,EAAgBwlC,mBAA0B,CACxCM,IAAAA,EAAuBL,EAAQkC,QAAQ3nC,EAAgBwlC,oBAAoBuC,QAC3EjC,IAAyB9lC,EAAgB8lC,qBACtCz0C,KAAAA,cAAc,sCAAuC,CAAE6H,UAAWW,EAAQqC,GAAI9B,YAAa4F,EAAgB5F,eACtG0rC,GAAwB9lC,EAAgB8lC,sBAC7Cz0C,KAAAA,cAAc,oCAAqC,CAAE6H,UAAWW,EAAQqC,GAAI9B,YAAa4F,EAAgB5F,cAEhH4F,EAAgB8lC,qBAAuBA,KAK3CO,IAAAA,IAGAxsC,EAAQiC,gBAAkBjC,EAAQG,UAAW,CACzCguC,MAAAA,EAAenuC,EAAQiC,cAAc3J,OACrC81C,EAASD,EAAaE,YACtBC,EAAUH,EAAaI,aACzBJ,EAAanvC,OAASovC,IACxBD,EAAanvC,MAAQovC,GAEnBD,EAAalvC,QAAUqvC,IACzBH,EAAalvC,OAASqvC,GAElBh2C,MAAAA,EAAS0H,EAAQ2D,UAAU8D,QAAQnP,OACpC,KAAKsM,kBACNtM,IAAW,KAAKsM,iBAAiBjB,UAAU8D,QAAQnP,SACjDA,EAAO0G,OAASovC,IAClB91C,EAAO0G,MAAQovC,GAEb91C,EAAO2G,QAAUqvC,IACnBh2C,EAAO2G,OAASqvC,GAElBlxC,EAAY,KAAKqF,MAAM4S,qBAAgC,GAAVrc,KAAKC,GACjCm1C,EAAOE,EAAS,KAAK/qC,UAAW,KAAKE,YAI5DW,WAAW/E,GACHW,MAAAA,EAAU,KAAKotC,SAASn2C,IAAIoI,GAC9BW,IAAAA,EAAQsC,OAAUtC,EAAQ2D,UAA1B3D,CAGAA,GAAAA,EAAQiC,iBACNjC,EAAQG,WAAc,KAAKmN,QAAQywB,aAAaX,oBAAqB,CACnEoR,MAAAA,EACJxuC,EAAQG,WAAa,KAAKmN,QAAQywB,aAAaX,mBAC3CqR,EAAUzuC,EAAQ2D,UAAU8D,QAAQnP,OACpCo2C,EAASF,EAAYC,EAAQzvC,MAAQ,EAAIyvC,EAAQzvC,MACjD2vC,EAAUF,EAAQxvC,OACpB,IAACutC,GAAU,CACPoC,MAAAA,EAAU5uC,EAAQiC,cAAc3J,OAChC81C,EAASQ,EAAQ5vC,MACjBsvC,EAAUM,EAAQ3vC,OAClBiuC,EAAgBltC,EAAQktC,cAC1B,KAAKQ,mBACHe,EAAQI,sBACV3B,EAAc4B,wBAAwBL,EAAQI,yBAGzC14C,KAAAA,OAAOoW,kBAAkBkiC,EAAS,EAAG,EAAGC,EAAQC,EAAS,CAC5DI,YAAaX,EACbY,aAAcV,IACbxlC,KAAKmmC,GAAU/B,EAAc4B,wBAAwBG,IAG1D/B,EAAcgC,UAAUT,EAAS,EAAG,EAAGC,EAAQC,EACd,EAAG,EAAGP,EAAQE,IAIjDtuC,EAAQG,WAAaH,EAAQ2D,WAC1B2J,KAAAA,QAAQiR,eAGjBla,qBAAqBC,GACdgJ,KAAAA,QAAQjJ,qBAAqBC,GAE9BG,iBAAWpF,GACTW,MAAAA,EAAU,KAAKotC,SAASn2C,IAAIoI,GAC9BW,IAAAA,EAAQsC,MAGRtC,OAAAA,EAAQG,UACH,KAAKmN,QAAQ6zB,mBAEpBnhC,EAAQsC,OAAQ,GAGpB2B,qBACM,GAAA,KAAKqJ,QAAQ0wB,gBAAiB,CAC1Bh/B,MAAAA,EAAQ,KAAKsO,QAAQ0wB,gBAAgBmR,MACrChoC,EAAQ,KAAKmG,QAAQ0wB,gBAAgBoR,MACrCzb,EAAO,GASNA,OARPA,EAAKz8B,MAAM8H,EAAQ,GACnB20B,EAAKz8B,MAAMiQ,EAAQ,GACnBwsB,EAAKz8B,KAAK8H,EAAQ,GAClB20B,EAAKz8B,MAAMiQ,EAAQ,GACnBwsB,EAAKz8B,KAAK8H,EAAQ,GAClB20B,EAAKz8B,KAAKiQ,EAAQ,GAClBwsB,EAAKz8B,MAAM8H,EAAQ,GACnB20B,EAAKz8B,KAAKiQ,EAAQ,GACXwsB,EAEF,OAAA,KAEH5vB,uCAAiClN,EAAM4K,GACvC5K,GAAS,UAATA,GAAoB,KAAKyW,QAAQ0wB,iBACb,KAAK1wB,QAAQ0wB,gBAAgBqR,2BAC5C,OAAA,KAAK/hC,QAAQ0wB,gBAAgBqR,2BAGxC3vC,oBAAoBrB,GACdA,GAAQ,SAARA,EACK,OAAA,KAAKoE,MAAM4S,qBACb,GAAY,UAARhX,EACF,OAAA,KAAKoE,MAAM+S,sBAEZ,MAAA,IAAIze,MAAO,yCAGrB8I,YAAYR,EAAWhB,EAAKuB,EAAOb,GAC3BiB,MAAAA,EAAU,KAAKotC,SAASn2C,IAAIoI,IAC5B,MAAEL,EAAF,OAASC,GAAWW,EAAM6H,QAAQnP,OACpC,IAAC0H,EAAQG,UAIJ,OAHPpB,EAAOjD,EAAIiD,EAAOhD,EAAI,EACtBgD,EAAOC,MAAQA,EACfD,EAAOE,OAASA,GACT,EAELZ,GAAQ,SAARA,EACFU,EAAOjD,EAAI,MACN,CAAA,GAAY,UAARuC,EAGF,OAAA,EAFPU,EAAOjD,EAAIkD,EAAQ,EAOd,OAHPD,EAAOhD,EAAI,EACXgD,EAAOC,MAAQA,EAAQ,EACvBD,EAAOE,OAASA,GACT,EAETR,oBACM,IAAA,SAAE8O,EAAF,YAAYyD,GAAgB,KAAKvO,MAAMjE,KACvC,OAAC+O,GAAayD,GAGbzD,KACHA,EAAW,KAAKggC,UACP,GAAKhgC,EAAS,GAAKA,EAAS,GAAK,GAE5C5R,EAAwB,KAAK0xC,gBAAiBr8B,EAAazD,GACpD,KAAK8/B,iBAPH,KAAKA,gBAShB3uC,kBAAkBL,GACZA,GAAQ,SAARA,EACK,OAAA,KAAKoE,MAAMzE,eACb,GAAY,UAARK,EACF,OAAA,KAAKoE,MAAMxE,gBAEZ,MAAA,IAAIlH,MAAO,yCAGrBwN,kBACM+qC,IAAAA,EAAe,GACd,IAAA,IAAIj4C,KAAK,KAAKi2C,oBACjBgC,EAAap4C,KAAK,KAAKo2C,oBAAoBj2C,GAAGkJ,aAEzC+uC,OAAAA,EAEThvC,aAAaC,EAAaF,GACpB,IAACA,EACI,OAAA,KAEJ,IAAA,IAAIhJ,KAAK,KAAKi2C,oBAAqB,CAClCnnC,IAAAA,EAAkB,KAAKmnC,oBAAoBj2C,GAC3C8O,GAAAA,EAAgB5F,cAAgBA,EAC3B4F,OAAAA,EAAgBkmC,eAAehsC,GAGnC,OAAA,KAETukC,kBAEA4I,yBAAyBxpC,GAClB,KAAKsJ,QAAQwwB,cACXsP,KAAAA,SAASxhC,QAAQ5L,IAChBA,GAAAA,EAAQG,YAAcH,EAAQsC,MAAO,CACnCtC,GAAAA,EAAQitC,oBAAqB,CACzB30C,MAAAA,EAAS0H,EAAQ2D,UAAU8D,QAAQnP,OACzCiZ,SAAS4mB,KAAKD,YAAY5/B,GAC1BA,EAAO2oB,aAAa,QAAS,IAE3B,KAAKrc,mBAAqB5E,IACvB4E,KAAAA,iBAAmB,MAErBpN,KAAAA,cAAc,kCAAmCwI,EAAQqC,QAOxE,MAAMktC,WAA0BpC,GAC9B12C,YAAYN,GACJmX,MAAAA,EAAU,IAAIo1B,GACdvsC,MAAAA,EAAQmX,GACTA,KAAAA,QAAUA,EACV7K,KAAAA,MAAQ,CACXxE,gBAAiB,IAAIpF,aAAa,IAClCmF,eAAgB,IAAInF,aAAa,IACjC2c,sBAAuB,IAAI3c,aAAa,IACxCwc,qBAAsB,IAAIxc,aAAa,IACvC2F,KAAM,KACN4W,UAAW,OAKjB,MAAMo6B,GAAc,eAAgBr5C,GAC9B0B,IAAAA,EAAS,KACT,GAAA,OAAQ1B,EAAO6W,UACb,IACFnV,QAAe1B,EAAO6W,UAAUyiC,GAAG33C,gBACnC,MAAOkM,IAEJnM,OAAAA,GAEH63C,GAAe,eAAgBv5C,GAC/B0B,IAAAA,EAAS,KACT,GAAA,kBAAmB1B,EAAO6W,UACxB,IACI2iC,MAAAA,QAAiBx5C,EAAO6W,UAAU4iC,gBACpCD,GAAYA,EAASr4C,SACvBO,EAAS,IAAIs1C,GAAYh3C,EAAQw5C,EAAS,KAE5C,MAAO3rC,IAEJnM,OAAAA,GAEHC,GAAgB,eAAgB3B,EAAQwR,GACxC9P,IAAAA,QAAe23C,GAAYr5C,GAC3B0B,OAAAA,IAGA8P,EAAOkoC,QACTh4C,QAAe63C,GAAav5C,IAEnB,IAAIwO,EAAS9M,GAGpB8P,EAAOmoC,WAAaljC,GAASzW,IAC1BA,EAAOuuC,cACVvuC,EAAOuuC,YAAc,WACdzmC,KAAAA,gBAAkB,IAAIpF,aAAa,IACnCmF,KAAAA,eAAiB,IAAInF,aAAa,IAClC2c,KAAAA,sBAAwB,IAAI3c,aAAa,IACzCwc,KAAAA,qBAAuB,IAAIxc,aAAa,IACxC2F,KAAAA,KAAO,OAGT,IAAImG,EAAS,IAAI4qC,GAAkBp5C,KAErC,OAGH45C,GAAkB,CACtBF,OAAO,EACPC,WAAW,GAEPE,GAAW,CAAC,YAAa,oBAAqB,yBACpD,MAAM/5C,GACJQ,YAAYN,EAAQwR,EAAO,IACpBxR,KAAAA,OAASA,GAAUD,EACnByR,KAAAA,OAASlP,OAAO4I,OAAO5I,OAAOC,OAAO,GAAIq3C,GAAiBpoC,IAC1DsoC,KAAAA,YAAc,OAAQ,KAAK95C,OAAO6W,UAClCkjC,KAAAA,UAAW,EACX,KAAKD,YAGD,KAAKtoC,OAAOmoC,WAAaljC,GAAS,KAAKzW,SACzCg6C,KAAAA,sBAHAC,KAAAA,gBAAgB,KAAKj6C,QAM9Bi6C,gBAAgBj6C,GACV,IAAC65C,GAASK,MAAMC,KAAWn6C,EAAOm6C,IAC9B,MAAA,IAAIv5C,qDAAqDi5C,MAE5D,IAAA,MAAMO,KAAa93C,OAAO+3C,KAAKjoC,SACRzG,IAAtB3L,EAAOo6C,GACTloC,QAAQC,QAAQioC,gCAEhBp6C,EAAOo6C,GAAahoC,GAAIgoC,GAKtBE,GADkBjoC,GAA8BrS,EAAOu6C,uBACxC,CACXznC,MAAAA,EAAoBoD,GAAuBlW,GAAU,iBAAmB,KAC9E4S,GAAmB5S,EAAOw6C,kBAAmB1nC,GACzC9S,EAAOy6C,iBACT7nC,GAAmB5S,EAAOy6C,gBAAiB,MAEzCz6C,EAAO06C,wBACTroC,GAA8BrS,EAAO06C,wBAItCX,KAAAA,UAAW,EACXC,KAAAA,sBAEPA,sBACQt4C,MAAAA,EAASC,GAAc,KAAK3B,OAAQ,KAAKwR,QAC1C8nC,KAAAA,GAAK,IAAI73C,EAAGC,GACjBY,OAAOmW,eAAe,KAAKzY,OAAO6W,UAAW,KAAM,CACjDxJ,MAAO,KAAKisC,GACZ9gC,cAAc,KAKL1Y,IAAAA,GAAAA,GAAAA,QAAAA,QAAAA;;ACpoKf,aA9LA,IAAA,EAAA,EAAA,QAAA,mBA8LA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA5LA66C,KAAO,WAECloC,IAAAA,EAAW,KACXmoC,EAAY,KACZC,EAAe,KAEfp/B,EAAK,KAUAq/B,SAAAA,EAAmBjxC,GACxB+wC,EAAY/wC,EAGZA,EAAQpJ,iBAAiB,MAAOs6C,GAGhCC,aAAaC,YAAaC,aAAcC,OACxCjpC,QAAQyQ,IAAI,kBACRxgB,IAAAA,EAASi5C,GAAGljC,SAAS/V,OACzBsZ,EAAKtZ,EAAO4Q,WAAW,QAAS,CAC5BG,mBAAoBrJ,EAAQnI,SAKhCmI,EAAQ2D,UAAY,IAAI6D,aAAaxH,EAAS4R,GAI9C5R,EAAQ6D,wBAAwB,aAAaiF,KAAK,SAACvK,GAC/CyyC,EAAezyC,EAEfyB,EAAQ2C,sBAAsB6uC,KAqB7BC,SAAAA,IACLppC,QAAQyQ,IAAI,WACPi4B,EAGDA,EAAUvsC,MAFVoE,EAASzD,eAAe,CAAEhF,WAAW,IAAQ2I,KAAKmoC,GAOjDO,SAAAA,EAAUzhC,EAAGtN,GACdzC,IAAAA,EAAUyC,EAAMzC,QAEpBA,EAAQ2C,sBAAsB6uC,GAG1BhzC,IAAAA,EAAOiE,EAAMrC,cAAc4wC,GAM3BxyC,GAAAA,EAAM,CAINoT,EAAGkG,gBAAgBlG,EAAGmG,YAAa/X,EAAQ2D,UAAUiE,aAG1C3P,KAAKF,MAKhBqiC,WAAW,IAAK,EAAG,KAZb,IAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAaW33B,IAAAA,IAAa,EAAbA,EAAAA,EAAMvC,MAAO,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EAAA,CAArB9B,IAAAA,EAAqB,EAAA,MACtBoB,EAAWQ,EAAQ2D,UAAU9D,YAAYzB,GAC7CwT,EAAGpS,SAASA,EAAS1D,EAAG0D,EAASzD,EAC7ByD,EAASR,MAAOQ,EAASP,QAC7BsyC,GAAGljC,SAASqjC,UAAUC,UAAUx6C,IAAIqH,EAAKL,cAAcC,IACvDmzC,GAAGljC,SAASqjC,UAAUE,SAASz6C,IAAIiH,EAAKqB,kBACxCoyC,KAnBE,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KA1EdN,GAAG7oC,UAAUopC,eAAiB,WACX,IAAI77C,EAAJ,QACG,IAAI87C,kBAiCjBC,SAAOC,GAERjlC,GAAAA,UAAUyiC,GAAI,CAEVyC,IAAAA,EAAW3gC,SAAS4gC,eAAe,aACvCnlC,UAAUyiC,GAAG33C,gBAAgBgR,KAAK,SAACjR,GAC/B+Q,EAAW/Q,EACXA,EAAOmN,gBAAgB,CAAE7E,WAAW,IAAQ2I,KAAK,WAC7CopC,EAASt7C,iBAAiB,QAAS66C,GACnCS,EAAShb,UAAY,WACrBgb,EAASE,UAAW,EACpB/pC,QAAQyQ,IAAI,kBA3CxBk5B,IAmGKH,SAAAA,IAELQ,KAAK,EAAG,IAAK,KACbC,UAAU,EAAG,EAAG,IAChBC,aAAa,IACbC,QAAQ,IACRC,QAAQ,IACRC,IAAI,GACJnB,GAAGljC,SAASqjC,UAAUiB,UAUjBzB,SAAAA,EAAez5C,GACpBs5C,EAAY,KACZmB,SAAShb,UAAY,WAGrBtlB,EAAK,KAGT2/B,GAAGqB,WAAWlqC,UAAUiqC,QAAU,WA2CzBE,KAAAA,mBAAmBv7C,OAAS,EAC5Bw7C,KAAAA,2BAA2Bx7C,OAAS,EACpCy7C,KAAAA,uBAAuBz7C,OAAS,EAEhC07C,KAAAA,oBAAoB17C,OAAS,EAC7B27C,KAAAA,iBAAiB37C,OAAS,IAIvCyW,OAAOC,QAAU8iC;;ACzLjB,aAHA,QAAA","file":"p5xr.js","sourceRoot":"..\\src","sourcesContent":["/**\n * @license\n * webxr-polyfill\n * Copyright (c) 2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @license\n * cardboard-vr-display\n * Copyright (c) 2015-2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @license\n * webvr-polyfill-dpdb \n * Copyright (c) 2017 Google\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @license\n * wglu-preserve-state\n * Copyright (c) 2016, Brandon Jones.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @license\n * nosleep.js\n * Copyright (c) 2017, Rich Tibbett\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nconst _global = typeof global !== 'undefined' ? global :\n                typeof self !== 'undefined' ? self :\n                typeof window !== 'undefined' ? window : {};\n\nconst PRIVATE = Symbol('@@webxr-polyfill/EventTarget');\nclass EventTarget {\n  constructor() {\n    this[PRIVATE] = {\n      listeners: new Map(),\n    };\n  }\n  addEventListener(type, listener) {\n    if (typeof type !== 'string') { throw new Error('`type` must be a string'); }\n    if (typeof listener !== 'function') { throw new Error('`listener` must be a function'); }\n    const typedListeners = this[PRIVATE].listeners.get(type) || [];\n    typedListeners.push(listener);\n    this[PRIVATE].listeners.set(type, typedListeners);\n  }\n  removeEventListener(type, listener) {\n    if (typeof type !== 'string') { throw new Error('`type` must be a string'); }\n    if (typeof listener !== 'function') { throw new Error('`listener` must be a function'); }\n    const typedListeners = this[PRIVATE].listeners.get(type) || [];\n    for (let i = typedListeners.length; i >= 0; i--) {\n      if (typedListeners[i] === listener) {\n        typedListeners.pop();\n      }\n    }\n  }\n  dispatchEvent(type, event) {\n    const typedListeners = this[PRIVATE].listeners.get(type) || [];\n    const queue = [];\n    for (let i = 0; i < typedListeners.length; i++) {\n      queue[i] = typedListeners[i];\n    }\n    for (let listener of queue) {\n      listener(event);\n    }\n    if (typeof this[`on${type}`] === 'function') {\n      this[`on${type}`](event);\n    }\n  }\n}\n\nconst PRIVATE$1 = Symbol('@@webxr-polyfill/XR');\nclass XR extends EventTarget {\n  constructor(device) {\n    super();\n    this[PRIVATE$1] = {\n      device,\n    };\n  }\n  async requestDevice() {\n    const device = await this[PRIVATE$1].device;\n    if (device) {\n      return device;\n    }\n    throw new Error('NotFoundError');\n  }\n}\n\nlet now;\nif ('performance' in _global === false) {\n  let startTime = Date.now();\n  now = () => Date.now() - startTime;\n} else {\n  now = () => performance.now();\n}\nvar now$1 = now;\n\nconst PRIVATE$2 = Symbol('@@webxr-polyfill/XRPresentationContext');\nclass XRPresentationContext {\n  constructor(canvas, ctx, glAttribs) {\n    this[PRIVATE$2] = { canvas, ctx, glAttribs };\n    Object.assign(this, ctx);\n  }\n  get canvas() { return this[PRIVATE$2].canvas; }\n}\n\nconst EPSILON = 0.000001;\nlet ARRAY_TYPE = (typeof Float32Array !== 'undefined') ? Float32Array : Array;\n\n\nconst degree = Math.PI / 180;\n\nfunction create() {\n  let out = new ARRAY_TYPE(16);\n  if(ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n\nfunction copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n\nfunction invert(out, a) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n  let b00 = a00 * a11 - a01 * a10;\n  let b01 = a00 * a12 - a02 * a10;\n  let b02 = a00 * a13 - a03 * a10;\n  let b03 = a01 * a12 - a02 * a11;\n  let b04 = a01 * a13 - a03 * a11;\n  let b05 = a02 * a13 - a03 * a12;\n  let b06 = a20 * a31 - a21 * a30;\n  let b07 = a20 * a32 - a22 * a30;\n  let b08 = a20 * a33 - a23 * a30;\n  let b09 = a21 * a32 - a22 * a31;\n  let b10 = a21 * a33 - a23 * a31;\n  let b11 = a22 * a33 - a23 * a32;\n  let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n\n\nfunction multiply(out, a, b) {\n  let a00 = a[0], a01 = a[1], a02 = a[2], a03 = a[3];\n  let a10 = a[4], a11 = a[5], a12 = a[6], a13 = a[7];\n  let a20 = a[8], a21 = a[9], a22 = a[10], a23 = a[11];\n  let a30 = a[12], a31 = a[13], a32 = a[14], a33 = a[15];\n  let b0  = b[0], b1 = b[1], b2 = b[2], b3 = b[3];\n  out[0] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[1] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[2] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[3] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n  b0 = b[4]; b1 = b[5]; b2 = b[6]; b3 = b[7];\n  out[4] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[5] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[6] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[7] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n  b0 = b[8]; b1 = b[9]; b2 = b[10]; b3 = b[11];\n  out[8] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[9] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[10] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[11] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n  b0 = b[12]; b1 = b[13]; b2 = b[14]; b3 = b[15];\n  out[12] = b0*a00 + b1*a10 + b2*a20 + b3*a30;\n  out[13] = b0*a01 + b1*a11 + b2*a21 + b3*a31;\n  out[14] = b0*a02 + b1*a12 + b2*a22 + b3*a32;\n  out[15] = b0*a03 + b1*a13 + b2*a23 + b3*a33;\n  return out;\n}\n\n\n\n\n\n\n\n\n\n\n\n\nfunction fromRotationTranslation(out, q, v) {\n  let x = q[0], y = q[1], z = q[2], w = q[3];\n  let x2 = x + x;\n  let y2 = y + y;\n  let z2 = z + z;\n  let xx = x * x2;\n  let xy = x * y2;\n  let xz = x * z2;\n  let yy = y * y2;\n  let yz = y * z2;\n  let zz = z * z2;\n  let wx = w * x2;\n  let wy = w * y2;\n  let wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n\nfunction getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n\nfunction getRotation(out, mat) {\n  let trace = mat[0] + mat[5] + mat[10];\n  let S = 0;\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (mat[6] - mat[9]) / S;\n    out[1] = (mat[8] - mat[2]) / S;\n    out[2] = (mat[1] - mat[4]) / S;\n  } else if ((mat[0] > mat[5]) && (mat[0] > mat[10])) {\n    S = Math.sqrt(1.0 + mat[0] - mat[5] - mat[10]) * 2;\n    out[3] = (mat[6] - mat[9]) / S;\n    out[0] = 0.25 * S;\n    out[1] = (mat[1] + mat[4]) / S;\n    out[2] = (mat[8] + mat[2]) / S;\n  } else if (mat[5] > mat[10]) {\n    S = Math.sqrt(1.0 + mat[5] - mat[0] - mat[10]) * 2;\n    out[3] = (mat[8] - mat[2]) / S;\n    out[0] = (mat[1] + mat[4]) / S;\n    out[1] = 0.25 * S;\n    out[2] = (mat[6] + mat[9]) / S;\n  } else {\n    S = Math.sqrt(1.0 + mat[10] - mat[0] - mat[5]) * 2;\n    out[3] = (mat[1] - mat[4]) / S;\n    out[0] = (mat[8] + mat[2]) / S;\n    out[1] = (mat[6] + mat[9]) / S;\n    out[2] = 0.25 * S;\n  }\n  return out;\n}\n\n\n\n\nfunction perspective(out, fovy, aspect, near, far) {\n  let f = 1.0 / Math.tan(fovy / 2), nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = (2 * far * near) * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n  return out;\n}\n\nconst PRIVATE$3 = Symbol('@@webxr-polyfill/XRDevicePose');\nclass XRDevicePose {\n  constructor(polyfill) {\n    this[PRIVATE$3] = {\n      polyfill,\n      leftViewMatrix: identity(new Float32Array(16)),\n      rightViewMatrix: identity(new Float32Array(16)),\n      poseModelMatrix: identity(new Float32Array(16)),\n    };\n  }\n  get poseModelMatrix() { return this[PRIVATE$3].poseModelMatrix; }\n  getViewMatrix(view) {\n    switch (view.eye) {\n      case 'left': return this[PRIVATE$3].leftViewMatrix;\n      case 'right': return this[PRIVATE$3].rightViewMatrix;\n    }\n    throw new Error(`view is not a valid XREye`);\n  }\n  updateFromFrameOfReference(frameOfRef) {\n    const pose = this[PRIVATE$3].polyfill.getBasePoseMatrix();\n    const leftViewMatrix = this[PRIVATE$3].polyfill.getBaseViewMatrix('left');\n    const rightViewMatrix = this[PRIVATE$3].polyfill.getBaseViewMatrix('right');\n    if (pose) {\n      frameOfRef.transformBasePoseMatrix(this[PRIVATE$3].poseModelMatrix, pose);\n    }\n    if (leftViewMatrix && rightViewMatrix) {\n      frameOfRef.transformBaseViewMatrix(this[PRIVATE$3].leftViewMatrix,\n                                         leftViewMatrix,\n                                         this[PRIVATE$3].poseModelMatrix);\n      frameOfRef.transformBaseViewMatrix(this[PRIVATE$3].rightViewMatrix,\n                                         rightViewMatrix,\n                                         this[PRIVATE$3].poseModelMatrix);\n    }\n  }\n}\n\nconst PRIVATE$4 = Symbol('@@webxr-polyfill/XRViewport');\nclass XRViewport {\n  constructor(target) {\n    this[PRIVATE$4] = { target };\n  }\n  get x() { return this[PRIVATE$4].target.x; }\n  get y() { return this[PRIVATE$4].target.y; }\n  get width() { return this[PRIVATE$4].target.width; }\n  get height() { return this[PRIVATE$4].target.height; }\n}\n\nconst XREyes = ['left', 'right'];\nconst PRIVATE$5 = Symbol('@@webxr-polyfill/XRView');\nclass XRView {\n  constructor(polyfill, eye, sessionId) {\n    if (!XREyes.includes(eye)) {\n      throw new Error(`XREye must be one of: ${XREyes}`);\n    }\n    const temp = Object.create(null);\n    const viewport = new XRViewport(temp);\n    this[PRIVATE$5] = {\n      polyfill,\n      eye,\n      viewport,\n      temp,\n      sessionId,\n    };\n  }\n  get eye() { return this[PRIVATE$5].eye; }\n  get projectionMatrix() { return this[PRIVATE$5].polyfill.getProjectionMatrix(this.eye); }\n  _getViewport(layer) {\n    const viewport = this[PRIVATE$5].viewport;\n    if (this[PRIVATE$5].polyfill.getViewport(this[PRIVATE$5].sessionId,\n                                           this.eye,\n                                           layer,\n                                           this[PRIVATE$5].temp)) {\n      return this[PRIVATE$5].viewport;\n    }\n    return undefined;\n  }\n}\n\nconst PRIVATE$6 = Symbol('@@webxr-polyfill/XRFrame');\nclass XRFrame {\n  constructor(polyfill, session, sessionId) {\n    const devicePose = new XRDevicePose(polyfill);\n    const views = [\n      new XRView(polyfill, 'left', sessionId),\n    ];\n    if (session.immersive) {\n      views.push(new XRView(polyfill, 'right', sessionId));\n    }\n    this[PRIVATE$6] = {\n      polyfill,\n      devicePose,\n      views,\n      session,\n    };\n  }\n  get session() { return this[PRIVATE$6].session; }\n  get views() { return this[PRIVATE$6].views; }\n  getDevicePose(coordinateSystem) {\n    this[PRIVATE$6].devicePose.updateFromFrameOfReference(coordinateSystem);\n    return this[PRIVATE$6].devicePose;\n  }\n  getInputPose(inputSource, coordinateSystem) {\n    return this[PRIVATE$6].polyfill.getInputPose(inputSource, coordinateSystem);\n  }\n}\n\nconst PRIVATE$7 = Symbol('@@webxr-polyfill/XRStageBoundsPoint');\nclass XRStageBoundsPoint {\n  constructor(x, z) {\n    this[PRIVATE$7] = { x, z };\n  }\n  get x() { return this[PRIVATE$7].x; }\n  get z() { return this[PRIVATE$7].z; }\n}\n\nconst PRIVATE$8 = Symbol('@@webxr-polyfill/XRStageBounds');\nclass XRStageBounds {\n  constructor(boundsData) {\n    const geometry = [];\n    for (let i = 0; i < boundsData.length; i += 2) {\n      geometry.push(new XRStageBoundsPoint(boundsData[i], boundsData[i + 1]));\n    }\n    this[PRIVATE$8] = { geometry };\n  }\n  get geometry() { return this[PRIVATE$8].geometry; }\n}\n\nclass XRCoordinateSystem {\n  constructor() {}\n  getTransformTo(other) {\n    throw new Error('Not yet supported');\n  }\n}\n\nconst DEFAULT_EMULATION_HEIGHT = 1.6;\nconst PRIVATE$9 = Symbol('@@webxr-polyfill/XRFrameOfReference');\nconst XRFrameOfReferenceTypes = ['head-model', 'eye-level', 'stage'];\nconst XRFrameOfReferenceOptions = Object.freeze({\n  disableStageEmulation: false,\n  stageEmulationHeight: 0,\n});\nclass XRFrameOfReference extends XRCoordinateSystem {\n  constructor(polyfill, type, options, transform, bounds) {\n    options = Object.assign({}, XRFrameOfReferenceOptions, options);\n    if (!XRFrameOfReferenceTypes.includes(type)) {\n      throw new Error(`XRFrameOfReferenceType must be one of ${XRFrameOfReferenceTypes}`);\n    }\n    super();\n    if (type === 'stage' && options.disableStageEmulation && !transform) {\n      throw new Error(`XRFrameOfReference cannot use 'stage' type, if disabling emulation and platform does not provide`);\n    }\n    const { disableStageEmulation, stageEmulationHeight } = options;\n    let emulatedHeight = 0;\n    if (type === 'stage' && !transform) {\n      emulatedHeight = stageEmulationHeight !== 0 ? stageEmulationHeight : DEFAULT_EMULATION_HEIGHT;\n    }\n    if (type === 'stage' && !transform) {\n      transform = identity(new Float32Array(16));\n      transform[13] = emulatedHeight;\n    }\n    this[PRIVATE$9] = {\n      disableStageEmulation,\n      stageEmulationHeight,\n      emulatedHeight,\n      type,\n      transform,\n      polyfill,\n      bounds,\n    };\n    this.onboundschange = undefined;\n  }\n  get bounds() { return this[PRIVATE$9].bounds; }\n  get emulatedHeight() { return this[PRIVATE$9].emulatedHeight; }\n  get type() { return this[PRIVATE$9].type; }\n  transformBasePoseMatrix(out, pose) {\n    if (this[PRIVATE$9].transform) {\n      multiply(out, this[PRIVATE$9].transform, pose);\n      return;\n    }\n    switch (this.type) {\n      case 'head-model':\n        if (out !== pose) {\n          copy(out, pose);\n        }\n        out[12] = out[13] = out[14] = 0;\n        return;\n      case 'eye-level':\n        if (out !== pose) {\n          copy(out, pose);\n        }\n        return;\n    }\n  }\n  transformBaseViewMatrix(out, view) {\n    let frameOfRef = this[PRIVATE$9].transform;\n    if (frameOfRef) {\n      invert(out, frameOfRef);\n      multiply(out, view, out);\n    }\n    else if (this.type === 'head-model') {\n      invert(out, view);\n      out[12] = 0;\n      out[13] = 0;\n      out[14] = 0;\n      invert(out, out);\n      return out;\n    }\n    else {\n      copy(out, view);\n    }\n    return out;\n  }\n}\n\nconst PRIVATE$10 = Symbol('@@webxr-polyfill/XRSession');\nconst XRSessionCreationOptions = Object.freeze({\n  immersive: false,\n  outputContext: undefined,\n});\nconst validateSessionOptions = options => {\n  const { immersive, outputContext } = options;\n  if (!immersive && !outputContext) {\n    return false;\n  }\n  if (outputContext !== undefined && !(outputContext instanceof XRPresentationContext)) {\n    return false;\n  }\n  return true;\n};\nclass XRSession extends EventTarget {\n  constructor(polyfill, device, sessionOptions, id) {\n    sessionOptions = Object.assign({}, XRSessionCreationOptions, sessionOptions);\n    super();\n    const { immersive, outputContext } = sessionOptions;\n    this[PRIVATE$10] = {\n      polyfill,\n      device,\n      immersive,\n      outputContext,\n      ended: false,\n      suspended: false,\n      suspendedCallback: null,\n      id,\n    };\n    const frame = new XRFrame(polyfill, this, this[PRIVATE$10].id);\n    this[PRIVATE$10].frame = frame;\n    this[PRIVATE$10].onPresentationEnd = sessionId => {\n      if (sessionId !== this[PRIVATE$10].id) {\n        this[PRIVATE$10].suspended = false;\n        this.dispatchEvent('focus', { session: this });\n        const suspendedCallback = this[PRIVATE$10].suspendedCallback;\n        this[PRIVATE$10].suspendedCallback = null;\n        if (suspendedCallback) {\n          this.requestAnimationFrame(suspendedCallback);\n        }\n        return;\n      }\n      this[PRIVATE$10].ended = true;\n      polyfill.removeEventListener('@webvr-polyfill/vr-present-end', this[PRIVATE$10].onPresentationEnd);\n      polyfill.removeEventListener('@webvr-polyfill/vr-present-start', this[PRIVATE$10].onPresentationStart);\n      polyfill.removeEventListener('@@webvr-polyfill/input-select-start', this[PRIVATE$10].onSelectStart);\n      polyfill.removeEventListener('@@webvr-polyfill/input-select-end', this[PRIVATE$10].onSelectEnd);\n      this.dispatchEvent('end', { session: this });\n    };\n    polyfill.addEventListener('@@webxr-polyfill/vr-present-end', this[PRIVATE$10].onPresentationEnd);\n    this[PRIVATE$10].onPresentationStart = sessionId => {\n      if (sessionId === this[PRIVATE$10].id) {\n        return;\n      }\n      this[PRIVATE$10].suspended = true;\n      this.dispatchEvent('blur', { session: this });\n    };\n    polyfill.addEventListener('@@webxr-polyfill/vr-present-start', this[PRIVATE$10].onPresentationStart);\n    this[PRIVATE$10].onSelectStart = evt => {\n      if (evt.sessionId !== this[PRIVATE$10].id) {\n        return;\n      }\n      this.dispatchEvent('selectstart', {\n        frame: this[PRIVATE$10].frame,\n        inputSource: evt.inputSource\n      });\n    };\n    polyfill.addEventListener('@@webxr-polyfill/input-select-start', this[PRIVATE$10].onSelectStart);\n    this[PRIVATE$10].onSelectEnd = evt => {\n      if (evt.sessionId !== this[PRIVATE$10].id) {\n        return;\n      }\n      this.dispatchEvent('selectend', {\n        frame: this[PRIVATE$10].frame,\n        inputSource: evt.inputSource\n      });\n      this.dispatchEvent('select',  {\n        frame: this[PRIVATE$10].frame,\n        inputSource: evt.inputSource\n      });\n    };\n    polyfill.addEventListener('@@webxr-polyfill/input-select-end', this[PRIVATE$10].onSelectEnd);\n    this.onblur = undefined;\n    this.onfocus = undefined;\n    this.onresetpose = undefined;\n    this.onend = undefined;\n    this.onselect = undefined;\n    this.onselectstart = undefined;\n    this.onselectend = undefined;\n  }\n  get device() { return this[PRIVATE$10].device; }\n  get immersive() { return this[PRIVATE$10].immersive; }\n  get outputContext() { return this[PRIVATE$10].outputContext; }\n  get depthNear() { return this[PRIVATE$10].polyfill.depthNear; }\n  set depthNear(value) { this[PRIVATE$10].polyfill.depthNear = value; }\n  get depthFar() { return this[PRIVATE$10].polyfill.depthFar; }\n  set depthFar(value) { this[PRIVATE$10].polyfill.depthFar = value; }\n  get environmentBlendMode() {\n    return this[PRIVATE$10].polyfill.environmentBlendMode || 'opaque';\n  }\n  get baseLayer() { return this[PRIVATE$10].baseLayer; }\n  set baseLayer(value) {\n    if (this[PRIVATE$10].ended) {\n      return;\n    }\n    this[PRIVATE$10].baseLayer = value;\n    this[PRIVATE$10].polyfill.onBaseLayerSet(this[PRIVATE$10].id, value);\n  }\n  async requestFrameOfReference(type, options={}) {\n    if (this[PRIVATE$10].ended) {\n      return;\n    }\n    options = Object.assign({}, XRFrameOfReferenceOptions, options);\n    if (!XRFrameOfReferenceTypes.includes(type)) {\n      throw new TypeError(`XRFrameOfReferenceType must be one of ${XRFrameOfReferenceTypes}`);\n    }\n    let transform = null;\n    let bounds = null;\n    try {\n      transform = await this[PRIVATE$10].polyfill.requestFrameOfReferenceTransform(type, options);\n    } catch (e) {\n      if (type !== 'stage' || options.disableStageEmulation) {\n        throw e;\n      }\n    }\n    if (type === 'stage' && transform) {\n      bounds = this[PRIVATE$10].polyfill.requestStageBounds();\n      if (bounds) {\n        bounds = new XRStageBounds(bounds);\n      }\n    }\n    return new XRFrameOfReference(this[PRIVATE$10].polyfill, type, options, transform, bounds);\n  }\n  requestAnimationFrame(callback) {\n    if (this[PRIVATE$10].ended) {\n      return;\n    }\n    if (this[PRIVATE$10].suspended && this[PRIVATE$10].suspendedCallback) {\n      return;\n    }\n    if (this[PRIVATE$10].suspended && !this[PRIVATE$10].suspendedCallback) {\n      this[PRIVATE$10].suspendedCallback = callback;\n    }\n    return this[PRIVATE$10].polyfill.requestAnimationFrame(() => {\n      this[PRIVATE$10].polyfill.onFrameStart(this[PRIVATE$10].id);\n      callback(now$1(), this[PRIVATE$10].frame);\n      this[PRIVATE$10].polyfill.onFrameEnd(this[PRIVATE$10].id);\n    });\n  }\n  cancelAnimationFrame(handle) {\n    if (this[PRIVATE$10].ended) {\n      return;\n    }\n    this[PRIVATE$10].polyfill.cancelAnimationFrame(handle);\n  }\n  getInputSources() {\n    return this[PRIVATE$10].polyfill.getInputSources();\n  }\n  async end() {\n    if (this[PRIVATE$10].ended) {\n      return;\n    }\n    if (!this.immersive) {\n      this[PRIVATE$10].ended = true;\n      this[PRIVATE$10].polyfill.removeEventListener('@@webvr-polyfill/vr-present-start',\n                                                 this[PRIVATE$10].onPresentationStart);\n      this[PRIVATE$10].polyfill.removeEventListener('@@webvr-polyfill/vr-present-end',\n                                                 this[PRIVATE$10].onPresentationEnd);\n      this[PRIVATE$10].polyfill.removeEventListener('@@webvr-polyfill/input-select-start',\n                                                 this[PRIVATE$10].onSelectStart);\n      this[PRIVATE$10].polyfill.removeEventListener('@@webvr-polyfill/input-select-end',\n                                                 this[PRIVATE$10].onSelectEnd);\n      this.dispatchEvent('end', { session: this });\n    }\n    return this[PRIVATE$10].polyfill.endSession(this[PRIVATE$10].id);\n  }\n}\n\nconst PRIVATE$11 = Symbol('@@webxr-polyfill/XRDevice');\nclass XRDevice extends EventTarget {\n  constructor(polyfill) {\n    if (!polyfill) {\n      throw new Error('XRDevice must receive a PolyfilledXRDevice.');\n    }\n    super();\n    this[PRIVATE$11] = {\n      polyfill,\n      immersiveSession: null,\n      nonImmersiveSessions: new Set(),\n    };\n    this.ondeactive = undefined;\n  }\n  async supportsSession(sessionOptions={}) {\n    sessionOptions = Object.assign({}, XRSessionCreationOptions, sessionOptions);\n    if (!validateSessionOptions(sessionOptions)) {\n      return Promise.reject(null);\n    }\n    if (!this[PRIVATE$11].polyfill.supportsSession(sessionOptions)) {\n      return Promise.reject(null);\n    }\n    return null;\n  }\n  async requestSession(sessionOptions) {\n    sessionOptions = Object.assign({}, XRSessionCreationOptions, sessionOptions);\n    if (!validateSessionOptions(sessionOptions)) {\n      throw new Error('NotSupportedError');\n    }\n    if (this[PRIVATE$11].immersiveSession && sessionOptions.immersive) {\n      throw new Error('InvalidStateError');\n    }\n    const sessionId = await this[PRIVATE$11].polyfill.requestSession(sessionOptions);\n    const session = new XRSession(this[PRIVATE$11].polyfill, this, sessionOptions, sessionId);\n    if (sessionOptions.immersive) {\n      this[PRIVATE$11].immersiveSession = session;\n    } else {\n      this[PRIVATE$11].nonImmersiveSessions.add(session);\n    }\n    const onSessionEnd = () => {\n      if (session.immersive) {\n        this[PRIVATE$11].immersiveSession = null;\n      } else {\n        this[PRIVATE$11].nonImmersiveSessions.delete(session);\n      }\n      session.removeEventListener('end', onSessionEnd);\n    };\n    session.addEventListener('end', onSessionEnd);\n    return session;\n  }\n}\n\nlet domPointROExport = ('DOMPointReadOnly' in _global) ? DOMPointReadOnly : null;\nif (!domPointROExport) {\n  const PRIVATE = Symbol('@@webxr-polyfill/DOMPointReadOnly');\n  domPointROExport = class DOMPointReadOnly {\n    constructor(x, y, z, w) {\n      if (arguments.length === 1) {\n        this[PRIVATE] = {\n          x: x.x,\n          y: x.y,\n          z: x.z,\n          w: x.w\n        };\n      } else if (arguments.length === 4) {\n        this[PRIVATE] = {\n          x: x,\n          y: y,\n          z: z,\n          w: w\n        };\n      } else {\n        throw new TypeError('Must supply either 1 or 4 arguments')\n      }\n    }\n    get x() { return this[PRIVATE].x }\n    get y() { return this[PRIVATE].y }\n    get z() { return this[PRIVATE].z }\n    get w() { return this[PRIVATE].w }\n  };\n}\nvar DOMPointReadOnly$1 = domPointROExport;\n\nclass XRRay {\n  constructor(origin=new DOMPointReadOnly$1(0, 0, 0, 1),\n              direction=new DOMPointReadOnly$1(0, 0, -1, 0),\n              transformMatrix=new Float32Array(16)) {\n    if (!(origin instanceof DOMPointReadOnly$1)) {\n      throw new Error('origin must be a DOMPointReadOnly');\n    }\n    if (!(direction instanceof DOMPointReadOnly$1)) {\n      throw new Error('direction must be a DOMPointReadOnly');\n    }\n    if (!(transformMatrix instanceof Float32Array)) {\n      throw new Error('transformMatrix must be a Float32Array');\n    }\n    Object.defineProperties(this, {\n      origin: {\n        value: origin,\n        writable: false,\n      },\n      direction: {\n        value: direction,\n        writable: false,\n      },\n      transformMatrix: {\n        value: transformMatrix,\n        writable: false,\n      },\n    });\n  }\n}\n\nconst PRIVATE$12 = Symbol('@@webxr-polyfill/XRInputPose');\nclass XRInputPose {\n  constructor(inputSourceImpl, hasGripMatrix) {\n    this[PRIVATE$12] = {\n      inputSourceImpl,\n      targetRay: new XRRay(),\n      gripMatrix: hasGripMatrix ? create() : null,\n    };\n  }\n  get targetRay() { return this[PRIVATE$12].targetRay; }\n  set targetRay(value) { this[PRIVATE$12].targetRay = value; }\n  get emulatedPosition() { return this[PRIVATE$12].inputSourceImpl.emulatedPosition; }\n  get gripMatrix() { return this[PRIVATE$12].gripMatrix; }\n}\n\nconst PRIVATE$13 = Symbol('@@webxr-polyfill/XRInputSource');\nclass XRInputSource {\n  constructor(impl) {\n    this[PRIVATE$13] = {\n      impl\n    };\n  }\n  get handedness() { return this[PRIVATE$13].impl.handedness; }\n  get targetRayMode() { return this[PRIVATE$13].impl.targetRayMode; }\n}\n\nclass XRLayer {\n  constructor() {}\n  getViewport(view) {\n    return view._getViewport(this);\n  }\n}\n\nconst POLYFILLED_COMPATIBLE_XR_DEVICE = Symbol('@@webxr-polyfill/polyfilled-compatible-xr-device');\nconst COMPATIBLE_XR_DEVICE= Symbol('@@webxr-polyfill/compatible-xr-device');\n\nconst PRIVATE$14 = Symbol('@@webxr-polyfill/XRWebGLLayer');\nconst XRWebGLLayerInit = Object.freeze({\n  antialias: true,\n  depth: false,\n  stencil: false,\n  alpha: true,\n  multiview: false,\n  framebufferScaleFactor: 0,\n});\nclass XRWebGLLayer extends XRLayer {\n  constructor(session, context, layerInit={}) {\n    const config = Object.assign({}, XRWebGLLayerInit, layerInit);\n    if (!(session instanceof XRSession)) {\n      throw new Error('session must be a XRSession');\n    }\n    if (session.ended) {\n      throw new Error(`InvalidStateError`);\n    }\n    if (context[POLYFILLED_COMPATIBLE_XR_DEVICE]) {\n      if (context[COMPATIBLE_XR_DEVICE] !== session.device) {\n        throw new Error(`InvalidStateError`);\n      }\n    }\n    const framebuffer = context.getParameter(context.FRAMEBUFFER_BINDING);\n    super();\n    this[PRIVATE$14] = {\n      context,\n      config,\n      framebuffer,\n    };\n  }\n  get context() { return this[PRIVATE$14].context; }\n  get antialias() { return this[PRIVATE$14].config.antialias; }\n  get depth() { return this[PRIVATE$14].config.depth; }\n  get stencil() { return this[PRIVATE$14].config.stencil; }\n  get alpha() { return this[PRIVATE$14].config.alpha; }\n  get multiview() { return false; }\n  get framebuffer() { return this[PRIVATE$14].framebuffer; }\n  get framebufferWidth() { return this[PRIVATE$14].context.drawingBufferWidth; }\n  get framebufferHeight() { return this[PRIVATE$14].context.drawingBufferHeight; }\n  requestViewportScaling(viewportScaleFactor) {\n    console.warn('requestViewportScaling is not yet implemented');\n  }\n}\n\nvar API = {\n  XR,\n  XRDevice,\n  XRSession,\n  XRFrame,\n  XRView,\n  XRViewport,\n  XRDevicePose,\n  XRLayer,\n  XRWebGLLayer,\n  XRPresentationContext,\n  XRCoordinateSystem,\n  XRFrameOfReference,\n  XRStageBounds,\n  XRStageBoundsPoint,\n  XRInputPose,\n  XRInputSource,\n  XRRay,\n};\n\nconst polyfillSetCompatibleXRDevice = Context => {\n  if (typeof Context.prototype.setCompatibleXRDevice === 'function') {\n    return false;\n  }\n  Context.prototype.setCompatibleXRDevice = function (xrDevice) {\n    return new Promise((resolve, reject) => {\n      if (xrDevice && typeof xrDevice.requestSession === 'function') {\n        resolve();\n      } else {\n        reject();\n      }\n    }).then(() => this[COMPATIBLE_XR_DEVICE] = xrDevice);\n  };\n  return true;\n};\nconst polyfillGetContext = (Canvas, renderContextType) => {\n  const getContext = Canvas.prototype.getContext;\n  Canvas.prototype.getContext = function (contextType, glAttribs) {\n    if (renderContextType && contextType === 'xrpresent') {\n      let ctx = getContext.call(this, renderContextType, glAttribs);\n      return new XRPresentationContext(this, ctx, glAttribs);\n    }\n    const ctx = getContext.call(this, contextType, glAttribs);\n    ctx[POLYFILLED_COMPATIBLE_XR_DEVICE] = true;\n    if (glAttribs && ('compatibleXRDevice' in glAttribs)) {\n      ctx[COMPATIBLE_XR_DEVICE] = glAttribs.compatibleXRDevice;\n    }\n    return ctx;\n  };\n};\n\nfunction create$1() {\n  let out = new ARRAY_TYPE(3);\n  if(ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  return out;\n}\nfunction clone$1(a) {\n  var out = new ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\nfunction length(a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  return Math.sqrt(x*x + y*y + z*z);\n}\nfunction fromValues$1(x, y, z) {\n  let out = new ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\nfunction copy$1(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\nfunction set$1(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\nfunction add$1(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\nfunction subtract$1(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n\n\n\n\n\n\n\nfunction scale$1(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n\n\n\n\n\n\nfunction normalize(out, a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let len = x*x + y*y + z*z;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    out[0] = a[0] * len;\n    out[1] = a[1] * len;\n    out[2] = a[2] * len;\n  }\n  return out;\n}\nfunction dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\nfunction cross(out, a, b) {\n  let ax = a[0], ay = a[1], az = a[2];\n  let bx = b[0], by = b[1], bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n\n\n\n\nfunction transformMat4(out, a, m) {\n  let x = a[0], y = a[1], z = a[2];\n  let w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n\nfunction transformQuat(out, a, q) {\n    let qx = q[0], qy = q[1], qz = q[2], qw = q[3];\n    let x = a[0], y = a[1], z = a[2];\n    let uvx = qy * z - qz * y,\n        uvy = qz * x - qx * z,\n        uvz = qx * y - qy * x;\n    let uuvx = qy * uvz - qz * uvy,\n        uuvy = qz * uvx - qx * uvz,\n        uuvz = qx * uvy - qy * uvx;\n    let w2 = qw * 2;\n    uvx *= w2;\n    uvy *= w2;\n    uvz *= w2;\n    uuvx *= 2;\n    uuvy *= 2;\n    uuvz *= 2;\n    out[0] = x + uvx + uuvx;\n    out[1] = y + uvy + uuvy;\n    out[2] = z + uvz + uuvz;\n    return out;\n}\n\n\n\nfunction angle(a, b) {\n  let tempA = fromValues$1(a[0], a[1], a[2]);\n  let tempB = fromValues$1(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  let cosine = dot(tempA, tempB);\n  if(cosine > 1.0) {\n    return 0;\n  }\n  else if(cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n\n\n\nconst sub$1 = subtract$1;\n\n\n\n\nconst len = length;\n\nconst forEach = (function() {\n  let vec = create$1();\n  return function(a, stride, offset, count, fn, arg) {\n    let i, l;\n    if(!stride) {\n      stride = 3;\n    }\n    if(!offset) {\n      offset = 0;\n    }\n    if(count) {\n      l = Math.min((count * stride) + offset, a.length);\n    } else {\n      l = a.length;\n    }\n    for(i = offset; i < l; i += stride) {\n      vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2];\n      fn(vec, vec, arg);\n      a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2];\n    }\n    return a;\n  };\n})();\n\nconst isImageBitmapSupported = global =>\n  !!(global.ImageBitmapRenderingContext &&\n     global.createImageBitmap);\nconst poseMatrixToXRRay = poseMatrix => {\n  const rayOrigin = [];\n  const rayDirection = [];\n  set$1(rayOrigin, 0, 0, 0);\n  transformMat4(rayOrigin, rayOrigin, poseMatrix);\n  set$1(rayDirection, 0, 0, -1);\n  transformMat4(rayDirection, rayDirection, poseMatrix);\n  sub$1(rayDirection, rayDirection, rayOrigin);\n  normalize(rayDirection, rayDirection);\n  return new XRRay(new DOMPointReadOnly$1(rayOrigin[0], rayOrigin[1], rayOrigin[2], 1.0),\n                   new DOMPointReadOnly$1(rayDirection[0], rayDirection[1], rayDirection[2], 0.0),\n                   poseMatrix);\n};\nconst isMobile = global => {\n  var check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))check = true;})(global.navigator.userAgent||global.navigator.vendor||global.opera);\n  return check;\n};\nconst applyCanvasStylesForMinimalRendering = canvas => {\n  canvas.style.display = 'block';\n  canvas.style.position = 'absolute';\n  canvas.style.width = canvas.style.height = '1px';\n  canvas.style.top = canvas.style.left = '0px';\n};\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar cardboardVrDisplay = createCommonjsModule(function (module, exports) {\n(function (global, factory) {\n\tmodule.exports = factory();\n}(commonjsGlobal, (function () { var classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\nvar MIN_TIMESTEP = 0.001;\nvar MAX_TIMESTEP = 1;\nvar dataUri = function dataUri(mimeType, svg) {\n  return 'data:' + mimeType + ',' + encodeURIComponent(svg);\n};\nvar lerp = function lerp(a, b, t) {\n  return a + (b - a) * t;\n};\nvar isIOS = function () {\n  var isIOS = /iPad|iPhone|iPod/.test(navigator.platform);\n  return function () {\n    return isIOS;\n  };\n}();\nvar isWebViewAndroid = function () {\n  var isWebViewAndroid = navigator.userAgent.indexOf('Version') !== -1 && navigator.userAgent.indexOf('Android') !== -1 && navigator.userAgent.indexOf('Chrome') !== -1;\n  return function () {\n    return isWebViewAndroid;\n  };\n}();\nvar isSafari = function () {\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  return function () {\n    return isSafari;\n  };\n}();\nvar isFirefoxAndroid = function () {\n  var isFirefoxAndroid = navigator.userAgent.indexOf('Firefox') !== -1 && navigator.userAgent.indexOf('Android') !== -1;\n  return function () {\n    return isFirefoxAndroid;\n  };\n}();\nvar getChromeVersion = function () {\n  var match = navigator.userAgent.match(/.*Chrome\\/([0-9]+)/);\n  var value = match ? parseInt(match[1], 10) : null;\n  return function () {\n    return value;\n  };\n}();\nvar isChromeWithoutDeviceMotion = function () {\n  var value = false;\n  if (getChromeVersion() === 65) {\n    var match = navigator.userAgent.match(/.*Chrome\\/([0-9\\.]*)/);\n    if (match) {\n      var _match$1$split = match[1].split('.'),\n          _match$1$split2 = slicedToArray(_match$1$split, 4),\n          major = _match$1$split2[0],\n          minor = _match$1$split2[1],\n          branch = _match$1$split2[2],\n          build = _match$1$split2[3];\n      value = parseInt(branch, 10) === 3325 && parseInt(build, 10) < 148;\n    }\n  }\n  return function () {\n    return value;\n  };\n}();\nvar isR7 = function () {\n  var isR7 = navigator.userAgent.indexOf('R7 Build') !== -1;\n  return function () {\n    return isR7;\n  };\n}();\nvar isLandscapeMode = function isLandscapeMode() {\n  var rtn = window.orientation == 90 || window.orientation == -90;\n  return isR7() ? !rtn : rtn;\n};\nvar isTimestampDeltaValid = function isTimestampDeltaValid(timestampDeltaS) {\n  if (isNaN(timestampDeltaS)) {\n    return false;\n  }\n  if (timestampDeltaS <= MIN_TIMESTEP) {\n    return false;\n  }\n  if (timestampDeltaS > MAX_TIMESTEP) {\n    return false;\n  }\n  return true;\n};\nvar getScreenWidth = function getScreenWidth() {\n  return Math.max(window.screen.width, window.screen.height) * window.devicePixelRatio;\n};\nvar getScreenHeight = function getScreenHeight() {\n  return Math.min(window.screen.width, window.screen.height) * window.devicePixelRatio;\n};\nvar requestFullscreen = function requestFullscreen(element) {\n  if (isWebViewAndroid()) {\n    return false;\n  }\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else {\n    return false;\n  }\n  return true;\n};\nvar exitFullscreen = function exitFullscreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.msExitFullscreen) {\n    document.msExitFullscreen();\n  } else {\n    return false;\n  }\n  return true;\n};\nvar getFullscreenElement = function getFullscreenElement() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nvar linkProgram = function linkProgram(gl, vertexSource, fragmentSource, attribLocationMap) {\n  var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n  gl.shaderSource(vertexShader, vertexSource);\n  gl.compileShader(vertexShader);\n  var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n  gl.shaderSource(fragmentShader, fragmentSource);\n  gl.compileShader(fragmentShader);\n  var program = gl.createProgram();\n  gl.attachShader(program, vertexShader);\n  gl.attachShader(program, fragmentShader);\n  for (var attribName in attribLocationMap) {\n    gl.bindAttribLocation(program, attribLocationMap[attribName], attribName);\n  }gl.linkProgram(program);\n  gl.deleteShader(vertexShader);\n  gl.deleteShader(fragmentShader);\n  return program;\n};\nvar getProgramUniforms = function getProgramUniforms(gl, program) {\n  var uniforms = {};\n  var uniformCount = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  var uniformName = '';\n  for (var i = 0; i < uniformCount; i++) {\n    var uniformInfo = gl.getActiveUniform(program, i);\n    uniformName = uniformInfo.name.replace('[0]', '');\n    uniforms[uniformName] = gl.getUniformLocation(program, uniformName);\n  }\n  return uniforms;\n};\nvar orthoMatrix = function orthoMatrix(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right),\n      bt = 1 / (bottom - top),\n      nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n};\nvar isMobile = function isMobile() {\n  var check = false;\n  (function (a) {\n    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\nvar extend = function extend(dest, src) {\n  for (var key in src) {\n    if (src.hasOwnProperty(key)) {\n      dest[key] = src[key];\n    }\n  }\n  return dest;\n};\nvar safariCssSizeWorkaround = function safariCssSizeWorkaround(canvas) {\n  if (isIOS()) {\n    var width = canvas.style.width;\n    var height = canvas.style.height;\n    canvas.style.width = parseInt(width) + 1 + 'px';\n    canvas.style.height = parseInt(height) + 'px';\n    setTimeout(function () {\n      canvas.style.width = width;\n      canvas.style.height = height;\n    }, 100);\n  }\n  window.canvas = canvas;\n};\nvar frameDataFromPose = function () {\n  var piOver180 = Math.PI / 180.0;\n  var rad45 = Math.PI * 0.25;\n  function mat4_perspectiveFromFieldOfView(out, fov, near, far) {\n    var upTan = Math.tan(fov ? fov.upDegrees * piOver180 : rad45),\n        downTan = Math.tan(fov ? fov.downDegrees * piOver180 : rad45),\n        leftTan = Math.tan(fov ? fov.leftDegrees * piOver180 : rad45),\n        rightTan = Math.tan(fov ? fov.rightDegrees * piOver180 : rad45),\n        xScale = 2.0 / (leftTan + rightTan),\n        yScale = 2.0 / (upTan + downTan);\n    out[0] = xScale;\n    out[1] = 0.0;\n    out[2] = 0.0;\n    out[3] = 0.0;\n    out[4] = 0.0;\n    out[5] = yScale;\n    out[6] = 0.0;\n    out[7] = 0.0;\n    out[8] = -((leftTan - rightTan) * xScale * 0.5);\n    out[9] = (upTan - downTan) * yScale * 0.5;\n    out[10] = far / (near - far);\n    out[11] = -1.0;\n    out[12] = 0.0;\n    out[13] = 0.0;\n    out[14] = far * near / (near - far);\n    out[15] = 0.0;\n    return out;\n  }\n  function mat4_fromRotationTranslation(out, q, v) {\n    var x = q[0],\n        y = q[1],\n        z = q[2],\n        w = q[3],\n        x2 = x + x,\n        y2 = y + y,\n        z2 = z + z,\n        xx = x * x2,\n        xy = x * y2,\n        xz = x * z2,\n        yy = y * y2,\n        yz = y * z2,\n        zz = z * z2,\n        wx = w * x2,\n        wy = w * y2,\n        wz = w * z2;\n    out[0] = 1 - (yy + zz);\n    out[1] = xy + wz;\n    out[2] = xz - wy;\n    out[3] = 0;\n    out[4] = xy - wz;\n    out[5] = 1 - (xx + zz);\n    out[6] = yz + wx;\n    out[7] = 0;\n    out[8] = xz + wy;\n    out[9] = yz - wx;\n    out[10] = 1 - (xx + yy);\n    out[11] = 0;\n    out[12] = v[0];\n    out[13] = v[1];\n    out[14] = v[2];\n    out[15] = 1;\n    return out;\n  }\n  function mat4_translate(out, a, v) {\n    var x = v[0],\n        y = v[1],\n        z = v[2],\n        a00,\n        a01,\n        a02,\n        a03,\n        a10,\n        a11,\n        a12,\n        a13,\n        a20,\n        a21,\n        a22,\n        a23;\n    if (a === out) {\n      out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n      out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n      out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n      out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n    } else {\n      a00 = a[0];a01 = a[1];a02 = a[2];a03 = a[3];\n      a10 = a[4];a11 = a[5];a12 = a[6];a13 = a[7];\n      a20 = a[8];a21 = a[9];a22 = a[10];a23 = a[11];\n      out[0] = a00;out[1] = a01;out[2] = a02;out[3] = a03;\n      out[4] = a10;out[5] = a11;out[6] = a12;out[7] = a13;\n      out[8] = a20;out[9] = a21;out[10] = a22;out[11] = a23;\n      out[12] = a00 * x + a10 * y + a20 * z + a[12];\n      out[13] = a01 * x + a11 * y + a21 * z + a[13];\n      out[14] = a02 * x + a12 * y + a22 * z + a[14];\n      out[15] = a03 * x + a13 * y + a23 * z + a[15];\n    }\n    return out;\n  }\n  function mat4_invert(out, a) {\n    var a00 = a[0],\n        a01 = a[1],\n        a02 = a[2],\n        a03 = a[3],\n        a10 = a[4],\n        a11 = a[5],\n        a12 = a[6],\n        a13 = a[7],\n        a20 = a[8],\n        a21 = a[9],\n        a22 = a[10],\n        a23 = a[11],\n        a30 = a[12],\n        a31 = a[13],\n        a32 = a[14],\n        a33 = a[15],\n        b00 = a00 * a11 - a01 * a10,\n        b01 = a00 * a12 - a02 * a10,\n        b02 = a00 * a13 - a03 * a10,\n        b03 = a01 * a12 - a02 * a11,\n        b04 = a01 * a13 - a03 * a11,\n        b05 = a02 * a13 - a03 * a12,\n        b06 = a20 * a31 - a21 * a30,\n        b07 = a20 * a32 - a22 * a30,\n        b08 = a20 * a33 - a23 * a30,\n        b09 = a21 * a32 - a22 * a31,\n        b10 = a21 * a33 - a23 * a31,\n        b11 = a22 * a33 - a23 * a32,\n    det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n    if (!det) {\n      return null;\n    }\n    det = 1.0 / det;\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n    return out;\n  }\n  var defaultOrientation = new Float32Array([0, 0, 0, 1]);\n  var defaultPosition = new Float32Array([0, 0, 0]);\n  function updateEyeMatrices(projection, view, pose, fov, offset, vrDisplay) {\n    mat4_perspectiveFromFieldOfView(projection, fov || null, vrDisplay.depthNear, vrDisplay.depthFar);\n    var orientation = pose.orientation || defaultOrientation;\n    var position = pose.position || defaultPosition;\n    mat4_fromRotationTranslation(view, orientation, position);\n    if (offset) mat4_translate(view, view, offset);\n    mat4_invert(view, view);\n  }\n  return function (frameData, pose, vrDisplay) {\n    if (!frameData || !pose) return false;\n    frameData.pose = pose;\n    frameData.timestamp = pose.timestamp;\n    updateEyeMatrices(frameData.leftProjectionMatrix, frameData.leftViewMatrix, pose, vrDisplay._getFieldOfView(\"left\"), vrDisplay._getEyeOffset(\"left\"), vrDisplay);\n    updateEyeMatrices(frameData.rightProjectionMatrix, frameData.rightViewMatrix, pose, vrDisplay._getFieldOfView(\"right\"), vrDisplay._getEyeOffset(\"right\"), vrDisplay);\n    return true;\n  };\n}();\nvar isInsideCrossOriginIFrame = function isInsideCrossOriginIFrame() {\n  var isFramed = window.self !== window.top;\n  var refOrigin = getOriginFromUrl(document.referrer);\n  var thisOrigin = getOriginFromUrl(window.location.href);\n  return isFramed && refOrigin !== thisOrigin;\n};\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var domainIdx;\n  var protoSepIdx = url.indexOf(\"://\");\n  if (protoSepIdx !== -1) {\n    domainIdx = protoSepIdx + 3;\n  } else {\n    domainIdx = 0;\n  }\n  var domainEndIdx = url.indexOf('/', domainIdx);\n  if (domainEndIdx === -1) {\n    domainEndIdx = url.length;\n  }\n  return url.substring(0, domainEndIdx);\n};\nvar getQuaternionAngle = function getQuaternionAngle(quat) {\n  if (quat.w > 1) {\n    console.warn('getQuaternionAngle: w > 1');\n    return 0;\n  }\n  var angle = 2 * Math.acos(quat.w);\n  return angle;\n};\nvar warnOnce = function () {\n  var observedWarnings = {};\n  return function (key, message) {\n    if (observedWarnings[key] === undefined) {\n      console.warn('webvr-polyfill: ' + message);\n      observedWarnings[key] = true;\n    }\n  };\n}();\nvar deprecateWarning = function deprecateWarning(deprecated, suggested) {\n  var alternative = suggested ? 'Please use ' + suggested + ' instead.' : '';\n  warnOnce(deprecated, deprecated + ' has been deprecated. ' + 'This may not work on native WebVR displays. ' + alternative);\n};\nfunction WGLUPreserveGLState(gl, bindings, callback) {\n  if (!bindings) {\n    callback(gl);\n    return;\n  }\n  var boundValues = [];\n  var activeTexture = null;\n  for (var i = 0; i < bindings.length; ++i) {\n    var binding = bindings[i];\n    switch (binding) {\n      case gl.TEXTURE_BINDING_2D:\n      case gl.TEXTURE_BINDING_CUBE_MAP:\n        var textureUnit = bindings[++i];\n        if (textureUnit < gl.TEXTURE0 || textureUnit > gl.TEXTURE31) {\n          console.error(\"TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit\");\n          boundValues.push(null, null);\n          break;\n        }\n        if (!activeTexture) {\n          activeTexture = gl.getParameter(gl.ACTIVE_TEXTURE);\n        }\n        gl.activeTexture(textureUnit);\n        boundValues.push(gl.getParameter(binding), null);\n        break;\n      case gl.ACTIVE_TEXTURE:\n        activeTexture = gl.getParameter(gl.ACTIVE_TEXTURE);\n        boundValues.push(null);\n        break;\n      default:\n        boundValues.push(gl.getParameter(binding));\n        break;\n    }\n  }\n  callback(gl);\n  for (var i = 0; i < bindings.length; ++i) {\n    var binding = bindings[i];\n    var boundValue = boundValues[i];\n    switch (binding) {\n      case gl.ACTIVE_TEXTURE:\n        break;\n      case gl.ARRAY_BUFFER_BINDING:\n        gl.bindBuffer(gl.ARRAY_BUFFER, boundValue);\n        break;\n      case gl.COLOR_CLEAR_VALUE:\n        gl.clearColor(boundValue[0], boundValue[1], boundValue[2], boundValue[3]);\n        break;\n      case gl.COLOR_WRITEMASK:\n        gl.colorMask(boundValue[0], boundValue[1], boundValue[2], boundValue[3]);\n        break;\n      case gl.CURRENT_PROGRAM:\n        gl.useProgram(boundValue);\n        break;\n      case gl.ELEMENT_ARRAY_BUFFER_BINDING:\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, boundValue);\n        break;\n      case gl.FRAMEBUFFER_BINDING:\n        gl.bindFramebuffer(gl.FRAMEBUFFER, boundValue);\n        break;\n      case gl.RENDERBUFFER_BINDING:\n        gl.bindRenderbuffer(gl.RENDERBUFFER, boundValue);\n        break;\n      case gl.TEXTURE_BINDING_2D:\n        var textureUnit = bindings[++i];\n        if (textureUnit < gl.TEXTURE0 || textureUnit > gl.TEXTURE31)\n          break;\n        gl.activeTexture(textureUnit);\n        gl.bindTexture(gl.TEXTURE_2D, boundValue);\n        break;\n      case gl.TEXTURE_BINDING_CUBE_MAP:\n        var textureUnit = bindings[++i];\n        if (textureUnit < gl.TEXTURE0 || textureUnit > gl.TEXTURE31)\n          break;\n        gl.activeTexture(textureUnit);\n        gl.bindTexture(gl.TEXTURE_CUBE_MAP, boundValue);\n        break;\n      case gl.VIEWPORT:\n        gl.viewport(boundValue[0], boundValue[1], boundValue[2], boundValue[3]);\n        break;\n      case gl.BLEND:\n      case gl.CULL_FACE:\n      case gl.DEPTH_TEST:\n      case gl.SCISSOR_TEST:\n      case gl.STENCIL_TEST:\n        if (boundValue) {\n          gl.enable(binding);\n        } else {\n          gl.disable(binding);\n        }\n        break;\n      default:\n        console.log(\"No GL restore behavior for 0x\" + binding.toString(16));\n        break;\n    }\n    if (activeTexture) {\n      gl.activeTexture(activeTexture);\n    }\n  }\n}\nvar glPreserveState = WGLUPreserveGLState;\nvar distortionVS = ['attribute vec2 position;', 'attribute vec3 texCoord;', 'varying vec2 vTexCoord;', 'uniform vec4 viewportOffsetScale[2];', 'void main() {', '  vec4 viewport = viewportOffsetScale[int(texCoord.z)];', '  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;', '  gl_Position = vec4( position, 1.0, 1.0 );', '}'].join('\\n');\nvar distortionFS = ['precision mediump float;', 'uniform sampler2D diffuse;', 'varying vec2 vTexCoord;', 'void main() {', '  gl_FragColor = texture2D(diffuse, vTexCoord);', '}'].join('\\n');\nfunction CardboardDistorter(gl, cardboardUI, bufferScale, dirtySubmitFrameBindings) {\n  this.gl = gl;\n  this.cardboardUI = cardboardUI;\n  this.bufferScale = bufferScale;\n  this.dirtySubmitFrameBindings = dirtySubmitFrameBindings;\n  this.ctxAttribs = gl.getContextAttributes();\n  this.meshWidth = 20;\n  this.meshHeight = 20;\n  this.bufferWidth = gl.drawingBufferWidth;\n  this.bufferHeight = gl.drawingBufferHeight;\n  this.realBindFramebuffer = gl.bindFramebuffer;\n  this.realEnable = gl.enable;\n  this.realDisable = gl.disable;\n  this.realColorMask = gl.colorMask;\n  this.realClearColor = gl.clearColor;\n  this.realViewport = gl.viewport;\n  if (!isIOS()) {\n    this.realCanvasWidth = Object.getOwnPropertyDescriptor(gl.canvas.__proto__, 'width');\n    this.realCanvasHeight = Object.getOwnPropertyDescriptor(gl.canvas.__proto__, 'height');\n  }\n  this.isPatched = false;\n  this.lastBoundFramebuffer = null;\n  this.cullFace = false;\n  this.depthTest = false;\n  this.blend = false;\n  this.scissorTest = false;\n  this.stencilTest = false;\n  this.viewport = [0, 0, 0, 0];\n  this.colorMask = [true, true, true, true];\n  this.clearColor = [0, 0, 0, 0];\n  this.attribs = {\n    position: 0,\n    texCoord: 1\n  };\n  this.program = linkProgram(gl, distortionVS, distortionFS, this.attribs);\n  this.uniforms = getProgramUniforms(gl, this.program);\n  this.viewportOffsetScale = new Float32Array(8);\n  this.setTextureBounds();\n  this.vertexBuffer = gl.createBuffer();\n  this.indexBuffer = gl.createBuffer();\n  this.indexCount = 0;\n  this.renderTarget = gl.createTexture();\n  this.framebuffer = gl.createFramebuffer();\n  this.depthStencilBuffer = null;\n  this.depthBuffer = null;\n  this.stencilBuffer = null;\n  if (this.ctxAttribs.depth && this.ctxAttribs.stencil) {\n    this.depthStencilBuffer = gl.createRenderbuffer();\n  } else if (this.ctxAttribs.depth) {\n    this.depthBuffer = gl.createRenderbuffer();\n  } else if (this.ctxAttribs.stencil) {\n    this.stencilBuffer = gl.createRenderbuffer();\n  }\n  this.patch();\n  this.onResize();\n}\nCardboardDistorter.prototype.destroy = function () {\n  var gl = this.gl;\n  this.unpatch();\n  gl.deleteProgram(this.program);\n  gl.deleteBuffer(this.vertexBuffer);\n  gl.deleteBuffer(this.indexBuffer);\n  gl.deleteTexture(this.renderTarget);\n  gl.deleteFramebuffer(this.framebuffer);\n  if (this.depthStencilBuffer) {\n    gl.deleteRenderbuffer(this.depthStencilBuffer);\n  }\n  if (this.depthBuffer) {\n    gl.deleteRenderbuffer(this.depthBuffer);\n  }\n  if (this.stencilBuffer) {\n    gl.deleteRenderbuffer(this.stencilBuffer);\n  }\n  if (this.cardboardUI) {\n    this.cardboardUI.destroy();\n  }\n};\nCardboardDistorter.prototype.onResize = function () {\n  var gl = this.gl;\n  var self = this;\n  var glState = [gl.RENDERBUFFER_BINDING, gl.TEXTURE_BINDING_2D, gl.TEXTURE0];\n  glPreserveState(gl, glState, function (gl) {\n    self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, null);\n    if (self.scissorTest) {\n      self.realDisable.call(gl, gl.SCISSOR_TEST);\n    }\n    self.realColorMask.call(gl, true, true, true, true);\n    self.realViewport.call(gl, 0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    self.realClearColor.call(gl, 0, 0, 0, 1);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, self.framebuffer);\n    gl.bindTexture(gl.TEXTURE_2D, self.renderTarget);\n    gl.texImage2D(gl.TEXTURE_2D, 0, self.ctxAttribs.alpha ? gl.RGBA : gl.RGB, self.bufferWidth, self.bufferHeight, 0, self.ctxAttribs.alpha ? gl.RGBA : gl.RGB, gl.UNSIGNED_BYTE, null);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, self.renderTarget, 0);\n    if (self.ctxAttribs.depth && self.ctxAttribs.stencil) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, self.depthStencilBuffer);\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, self.bufferWidth, self.bufferHeight);\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, self.depthStencilBuffer);\n    } else if (self.ctxAttribs.depth) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, self.depthBuffer);\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, self.bufferWidth, self.bufferHeight);\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, self.depthBuffer);\n    } else if (self.ctxAttribs.stencil) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, self.stencilBuffer);\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.STENCIL_INDEX8, self.bufferWidth, self.bufferHeight);\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.STENCIL_ATTACHMENT, gl.RENDERBUFFER, self.stencilBuffer);\n    }\n    if (!gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\n      console.error('Framebuffer incomplete!');\n    }\n    self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, self.lastBoundFramebuffer);\n    if (self.scissorTest) {\n      self.realEnable.call(gl, gl.SCISSOR_TEST);\n    }\n    self.realColorMask.apply(gl, self.colorMask);\n    self.realViewport.apply(gl, self.viewport);\n    self.realClearColor.apply(gl, self.clearColor);\n  });\n  if (this.cardboardUI) {\n    this.cardboardUI.onResize();\n  }\n};\nCardboardDistorter.prototype.patch = function () {\n  if (this.isPatched) {\n    return;\n  }\n  var self = this;\n  var canvas = this.gl.canvas;\n  var gl = this.gl;\n  if (!isIOS()) {\n    canvas.width = getScreenWidth() * this.bufferScale;\n    canvas.height = getScreenHeight() * this.bufferScale;\n    Object.defineProperty(canvas, 'width', {\n      configurable: true,\n      enumerable: true,\n      get: function get() {\n        return self.bufferWidth;\n      },\n      set: function set(value) {\n        self.bufferWidth = value;\n        self.realCanvasWidth.set.call(canvas, value);\n        self.onResize();\n      }\n    });\n    Object.defineProperty(canvas, 'height', {\n      configurable: true,\n      enumerable: true,\n      get: function get() {\n        return self.bufferHeight;\n      },\n      set: function set(value) {\n        self.bufferHeight = value;\n        self.realCanvasHeight.set.call(canvas, value);\n        self.onResize();\n      }\n    });\n  }\n  this.lastBoundFramebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n  if (this.lastBoundFramebuffer == null) {\n    this.lastBoundFramebuffer = this.framebuffer;\n    this.gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer);\n  }\n  this.gl.bindFramebuffer = function (target, framebuffer) {\n    self.lastBoundFramebuffer = framebuffer ? framebuffer : self.framebuffer;\n    self.realBindFramebuffer.call(gl, target, self.lastBoundFramebuffer);\n  };\n  this.cullFace = gl.getParameter(gl.CULL_FACE);\n  this.depthTest = gl.getParameter(gl.DEPTH_TEST);\n  this.blend = gl.getParameter(gl.BLEND);\n  this.scissorTest = gl.getParameter(gl.SCISSOR_TEST);\n  this.stencilTest = gl.getParameter(gl.STENCIL_TEST);\n  gl.enable = function (pname) {\n    switch (pname) {\n      case gl.CULL_FACE:\n        self.cullFace = true;break;\n      case gl.DEPTH_TEST:\n        self.depthTest = true;break;\n      case gl.BLEND:\n        self.blend = true;break;\n      case gl.SCISSOR_TEST:\n        self.scissorTest = true;break;\n      case gl.STENCIL_TEST:\n        self.stencilTest = true;break;\n    }\n    self.realEnable.call(gl, pname);\n  };\n  gl.disable = function (pname) {\n    switch (pname) {\n      case gl.CULL_FACE:\n        self.cullFace = false;break;\n      case gl.DEPTH_TEST:\n        self.depthTest = false;break;\n      case gl.BLEND:\n        self.blend = false;break;\n      case gl.SCISSOR_TEST:\n        self.scissorTest = false;break;\n      case gl.STENCIL_TEST:\n        self.stencilTest = false;break;\n    }\n    self.realDisable.call(gl, pname);\n  };\n  this.colorMask = gl.getParameter(gl.COLOR_WRITEMASK);\n  gl.colorMask = function (r, g, b, a) {\n    self.colorMask[0] = r;\n    self.colorMask[1] = g;\n    self.colorMask[2] = b;\n    self.colorMask[3] = a;\n    self.realColorMask.call(gl, r, g, b, a);\n  };\n  this.clearColor = gl.getParameter(gl.COLOR_CLEAR_VALUE);\n  gl.clearColor = function (r, g, b, a) {\n    self.clearColor[0] = r;\n    self.clearColor[1] = g;\n    self.clearColor[2] = b;\n    self.clearColor[3] = a;\n    self.realClearColor.call(gl, r, g, b, a);\n  };\n  this.viewport = gl.getParameter(gl.VIEWPORT);\n  gl.viewport = function (x, y, w, h) {\n    self.viewport[0] = x;\n    self.viewport[1] = y;\n    self.viewport[2] = w;\n    self.viewport[3] = h;\n    self.realViewport.call(gl, x, y, w, h);\n  };\n  this.isPatched = true;\n  safariCssSizeWorkaround(canvas);\n};\nCardboardDistorter.prototype.unpatch = function () {\n  if (!this.isPatched) {\n    return;\n  }\n  var gl = this.gl;\n  var canvas = this.gl.canvas;\n  if (!isIOS()) {\n    Object.defineProperty(canvas, 'width', this.realCanvasWidth);\n    Object.defineProperty(canvas, 'height', this.realCanvasHeight);\n  }\n  canvas.width = this.bufferWidth;\n  canvas.height = this.bufferHeight;\n  gl.bindFramebuffer = this.realBindFramebuffer;\n  gl.enable = this.realEnable;\n  gl.disable = this.realDisable;\n  gl.colorMask = this.realColorMask;\n  gl.clearColor = this.realClearColor;\n  gl.viewport = this.realViewport;\n  if (this.lastBoundFramebuffer == this.framebuffer) {\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  }\n  this.isPatched = false;\n  setTimeout(function () {\n    safariCssSizeWorkaround(canvas);\n  }, 1);\n};\nCardboardDistorter.prototype.setTextureBounds = function (leftBounds, rightBounds) {\n  if (!leftBounds) {\n    leftBounds = [0, 0, 0.5, 1];\n  }\n  if (!rightBounds) {\n    rightBounds = [0.5, 0, 0.5, 1];\n  }\n  this.viewportOffsetScale[0] = leftBounds[0];\n  this.viewportOffsetScale[1] = leftBounds[1];\n  this.viewportOffsetScale[2] = leftBounds[2];\n  this.viewportOffsetScale[3] = leftBounds[3];\n  this.viewportOffsetScale[4] = rightBounds[0];\n  this.viewportOffsetScale[5] = rightBounds[1];\n  this.viewportOffsetScale[6] = rightBounds[2];\n  this.viewportOffsetScale[7] = rightBounds[3];\n};\nCardboardDistorter.prototype.submitFrame = function () {\n  var gl = this.gl;\n  var self = this;\n  var glState = [];\n  if (!this.dirtySubmitFrameBindings) {\n    glState.push(gl.CURRENT_PROGRAM, gl.ARRAY_BUFFER_BINDING, gl.ELEMENT_ARRAY_BUFFER_BINDING, gl.TEXTURE_BINDING_2D, gl.TEXTURE0);\n  }\n  glPreserveState(gl, glState, function (gl) {\n    self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, null);\n    if (self.cullFace) {\n      self.realDisable.call(gl, gl.CULL_FACE);\n    }\n    if (self.depthTest) {\n      self.realDisable.call(gl, gl.DEPTH_TEST);\n    }\n    if (self.blend) {\n      self.realDisable.call(gl, gl.BLEND);\n    }\n    if (self.scissorTest) {\n      self.realDisable.call(gl, gl.SCISSOR_TEST);\n    }\n    if (self.stencilTest) {\n      self.realDisable.call(gl, gl.STENCIL_TEST);\n    }\n    self.realColorMask.call(gl, true, true, true, true);\n    self.realViewport.call(gl, 0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    if (self.ctxAttribs.alpha || isIOS()) {\n      self.realClearColor.call(gl, 0, 0, 0, 1);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    gl.useProgram(self.program);\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, self.indexBuffer);\n    gl.bindBuffer(gl.ARRAY_BUFFER, self.vertexBuffer);\n    gl.enableVertexAttribArray(self.attribs.position);\n    gl.enableVertexAttribArray(self.attribs.texCoord);\n    gl.vertexAttribPointer(self.attribs.position, 2, gl.FLOAT, false, 20, 0);\n    gl.vertexAttribPointer(self.attribs.texCoord, 3, gl.FLOAT, false, 20, 8);\n    gl.activeTexture(gl.TEXTURE0);\n    gl.uniform1i(self.uniforms.diffuse, 0);\n    gl.bindTexture(gl.TEXTURE_2D, self.renderTarget);\n    gl.uniform4fv(self.uniforms.viewportOffsetScale, self.viewportOffsetScale);\n    gl.drawElements(gl.TRIANGLES, self.indexCount, gl.UNSIGNED_SHORT, 0);\n    if (self.cardboardUI) {\n      self.cardboardUI.renderNoState();\n    }\n    self.realBindFramebuffer.call(self.gl, gl.FRAMEBUFFER, self.framebuffer);\n    if (!self.ctxAttribs.preserveDrawingBuffer) {\n      self.realClearColor.call(gl, 0, 0, 0, 0);\n      gl.clear(gl.COLOR_BUFFER_BIT);\n    }\n    if (!self.dirtySubmitFrameBindings) {\n      self.realBindFramebuffer.call(gl, gl.FRAMEBUFFER, self.lastBoundFramebuffer);\n    }\n    if (self.cullFace) {\n      self.realEnable.call(gl, gl.CULL_FACE);\n    }\n    if (self.depthTest) {\n      self.realEnable.call(gl, gl.DEPTH_TEST);\n    }\n    if (self.blend) {\n      self.realEnable.call(gl, gl.BLEND);\n    }\n    if (self.scissorTest) {\n      self.realEnable.call(gl, gl.SCISSOR_TEST);\n    }\n    if (self.stencilTest) {\n      self.realEnable.call(gl, gl.STENCIL_TEST);\n    }\n    self.realColorMask.apply(gl, self.colorMask);\n    self.realViewport.apply(gl, self.viewport);\n    if (self.ctxAttribs.alpha || !self.ctxAttribs.preserveDrawingBuffer) {\n      self.realClearColor.apply(gl, self.clearColor);\n    }\n  });\n  if (isIOS()) {\n    var canvas = gl.canvas;\n    if (canvas.width != self.bufferWidth || canvas.height != self.bufferHeight) {\n      self.bufferWidth = canvas.width;\n      self.bufferHeight = canvas.height;\n      self.onResize();\n    }\n  }\n};\nCardboardDistorter.prototype.updateDeviceInfo = function (deviceInfo) {\n  var gl = this.gl;\n  var self = this;\n  var glState = [gl.ARRAY_BUFFER_BINDING, gl.ELEMENT_ARRAY_BUFFER_BINDING];\n  glPreserveState(gl, glState, function (gl) {\n    var vertices = self.computeMeshVertices_(self.meshWidth, self.meshHeight, deviceInfo);\n    gl.bindBuffer(gl.ARRAY_BUFFER, self.vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n    if (!self.indexCount) {\n      var indices = self.computeMeshIndices_(self.meshWidth, self.meshHeight);\n      gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, self.indexBuffer);\n      gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indices, gl.STATIC_DRAW);\n      self.indexCount = indices.length;\n    }\n  });\n};\nCardboardDistorter.prototype.computeMeshVertices_ = function (width, height, deviceInfo) {\n  var vertices = new Float32Array(2 * width * height * 5);\n  var lensFrustum = deviceInfo.getLeftEyeVisibleTanAngles();\n  var noLensFrustum = deviceInfo.getLeftEyeNoLensTanAngles();\n  var viewport = deviceInfo.getLeftEyeVisibleScreenRect(noLensFrustum);\n  var vidx = 0;\n  for (var e = 0; e < 2; e++) {\n    for (var j = 0; j < height; j++) {\n      for (var i = 0; i < width; i++, vidx++) {\n        var u = i / (width - 1);\n        var v = j / (height - 1);\n        var s = u;\n        var t = v;\n        var x = lerp(lensFrustum[0], lensFrustum[2], u);\n        var y = lerp(lensFrustum[3], lensFrustum[1], v);\n        var d = Math.sqrt(x * x + y * y);\n        var r = deviceInfo.distortion.distortInverse(d);\n        var p = x * r / d;\n        var q = y * r / d;\n        u = (p - noLensFrustum[0]) / (noLensFrustum[2] - noLensFrustum[0]);\n        v = (q - noLensFrustum[3]) / (noLensFrustum[1] - noLensFrustum[3]);\n        u = (viewport.x + u * viewport.width - 0.5) * 2.0;\n        v = (viewport.y + v * viewport.height - 0.5) * 2.0;\n        vertices[vidx * 5 + 0] = u;\n        vertices[vidx * 5 + 1] = v;\n        vertices[vidx * 5 + 2] = s;\n        vertices[vidx * 5 + 3] = t;\n        vertices[vidx * 5 + 4] = e;\n      }\n    }\n    var w = lensFrustum[2] - lensFrustum[0];\n    lensFrustum[0] = -(w + lensFrustum[0]);\n    lensFrustum[2] = w - lensFrustum[2];\n    w = noLensFrustum[2] - noLensFrustum[0];\n    noLensFrustum[0] = -(w + noLensFrustum[0]);\n    noLensFrustum[2] = w - noLensFrustum[2];\n    viewport.x = 1 - (viewport.x + viewport.width);\n  }\n  return vertices;\n};\nCardboardDistorter.prototype.computeMeshIndices_ = function (width, height) {\n  var indices = new Uint16Array(2 * (width - 1) * (height - 1) * 6);\n  var halfwidth = width / 2;\n  var halfheight = height / 2;\n  var vidx = 0;\n  var iidx = 0;\n  for (var e = 0; e < 2; e++) {\n    for (var j = 0; j < height; j++) {\n      for (var i = 0; i < width; i++, vidx++) {\n        if (i == 0 || j == 0) continue;\n        if (i <= halfwidth == j <= halfheight) {\n          indices[iidx++] = vidx;\n          indices[iidx++] = vidx - width - 1;\n          indices[iidx++] = vidx - width;\n          indices[iidx++] = vidx - width - 1;\n          indices[iidx++] = vidx;\n          indices[iidx++] = vidx - 1;\n        } else {\n          indices[iidx++] = vidx - 1;\n          indices[iidx++] = vidx - width;\n          indices[iidx++] = vidx;\n          indices[iidx++] = vidx - width;\n          indices[iidx++] = vidx - 1;\n          indices[iidx++] = vidx - width - 1;\n        }\n      }\n    }\n  }\n  return indices;\n};\nCardboardDistorter.prototype.getOwnPropertyDescriptor_ = function (proto, attrName) {\n  var descriptor = Object.getOwnPropertyDescriptor(proto, attrName);\n  if (descriptor.get === undefined || descriptor.set === undefined) {\n    descriptor.configurable = true;\n    descriptor.enumerable = true;\n    descriptor.get = function () {\n      return this.getAttribute(attrName);\n    };\n    descriptor.set = function (val) {\n      this.setAttribute(attrName, val);\n    };\n  }\n  return descriptor;\n};\nvar uiVS = ['attribute vec2 position;', 'uniform mat4 projectionMat;', 'void main() {', '  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );', '}'].join('\\n');\nvar uiFS = ['precision mediump float;', 'uniform vec4 color;', 'void main() {', '  gl_FragColor = color;', '}'].join('\\n');\nvar DEG2RAD = Math.PI / 180.0;\nvar kAnglePerGearSection = 60;\nvar kOuterRimEndAngle = 12;\nvar kInnerRimBeginAngle = 20;\nvar kOuterRadius = 1;\nvar kMiddleRadius = 0.75;\nvar kInnerRadius = 0.3125;\nvar kCenterLineThicknessDp = 4;\nvar kButtonWidthDp = 28;\nvar kTouchSlopFactor = 1.5;\nfunction CardboardUI(gl) {\n  this.gl = gl;\n  this.attribs = {\n    position: 0\n  };\n  this.program = linkProgram(gl, uiVS, uiFS, this.attribs);\n  this.uniforms = getProgramUniforms(gl, this.program);\n  this.vertexBuffer = gl.createBuffer();\n  this.gearOffset = 0;\n  this.gearVertexCount = 0;\n  this.arrowOffset = 0;\n  this.arrowVertexCount = 0;\n  this.projMat = new Float32Array(16);\n  this.listener = null;\n  this.onResize();\n}\nCardboardUI.prototype.destroy = function () {\n  var gl = this.gl;\n  if (this.listener) {\n    gl.canvas.removeEventListener('click', this.listener, false);\n  }\n  gl.deleteProgram(this.program);\n  gl.deleteBuffer(this.vertexBuffer);\n};\nCardboardUI.prototype.listen = function (optionsCallback, backCallback) {\n  var canvas = this.gl.canvas;\n  this.listener = function (event) {\n    var midline = canvas.clientWidth / 2;\n    var buttonSize = kButtonWidthDp * kTouchSlopFactor;\n    if (event.clientX > midline - buttonSize && event.clientX < midline + buttonSize && event.clientY > canvas.clientHeight - buttonSize) {\n      optionsCallback(event);\n    }\n    else if (event.clientX < buttonSize && event.clientY < buttonSize) {\n        backCallback(event);\n      }\n  };\n  canvas.addEventListener('click', this.listener, false);\n};\nCardboardUI.prototype.onResize = function () {\n  var gl = this.gl;\n  var self = this;\n  var glState = [gl.ARRAY_BUFFER_BINDING];\n  glPreserveState(gl, glState, function (gl) {\n    var vertices = [];\n    var midline = gl.drawingBufferWidth / 2;\n    var physicalPixels = Math.max(screen.width, screen.height) * window.devicePixelRatio;\n    var scalingRatio = gl.drawingBufferWidth / physicalPixels;\n    var dps = scalingRatio * window.devicePixelRatio;\n    var lineWidth = kCenterLineThicknessDp * dps / 2;\n    var buttonSize = kButtonWidthDp * kTouchSlopFactor * dps;\n    var buttonScale = kButtonWidthDp * dps / 2;\n    var buttonBorder = (kButtonWidthDp * kTouchSlopFactor - kButtonWidthDp) * dps;\n    vertices.push(midline - lineWidth, buttonSize);\n    vertices.push(midline - lineWidth, gl.drawingBufferHeight);\n    vertices.push(midline + lineWidth, buttonSize);\n    vertices.push(midline + lineWidth, gl.drawingBufferHeight);\n    self.gearOffset = vertices.length / 2;\n    function addGearSegment(theta, r) {\n      var angle = (90 - theta) * DEG2RAD;\n      var x = Math.cos(angle);\n      var y = Math.sin(angle);\n      vertices.push(kInnerRadius * x * buttonScale + midline, kInnerRadius * y * buttonScale + buttonScale);\n      vertices.push(r * x * buttonScale + midline, r * y * buttonScale + buttonScale);\n    }\n    for (var i = 0; i <= 6; i++) {\n      var segmentTheta = i * kAnglePerGearSection;\n      addGearSegment(segmentTheta, kOuterRadius);\n      addGearSegment(segmentTheta + kOuterRimEndAngle, kOuterRadius);\n      addGearSegment(segmentTheta + kInnerRimBeginAngle, kMiddleRadius);\n      addGearSegment(segmentTheta + (kAnglePerGearSection - kInnerRimBeginAngle), kMiddleRadius);\n      addGearSegment(segmentTheta + (kAnglePerGearSection - kOuterRimEndAngle), kOuterRadius);\n    }\n    self.gearVertexCount = vertices.length / 2 - self.gearOffset;\n    self.arrowOffset = vertices.length / 2;\n    function addArrowVertex(x, y) {\n      vertices.push(buttonBorder + x, gl.drawingBufferHeight - buttonBorder - y);\n    }\n    var angledLineWidth = lineWidth / Math.sin(45 * DEG2RAD);\n    addArrowVertex(0, buttonScale);\n    addArrowVertex(buttonScale, 0);\n    addArrowVertex(buttonScale + angledLineWidth, angledLineWidth);\n    addArrowVertex(angledLineWidth, buttonScale + angledLineWidth);\n    addArrowVertex(angledLineWidth, buttonScale - angledLineWidth);\n    addArrowVertex(0, buttonScale);\n    addArrowVertex(buttonScale, buttonScale * 2);\n    addArrowVertex(buttonScale + angledLineWidth, buttonScale * 2 - angledLineWidth);\n    addArrowVertex(angledLineWidth, buttonScale - angledLineWidth);\n    addArrowVertex(0, buttonScale);\n    addArrowVertex(angledLineWidth, buttonScale - lineWidth);\n    addArrowVertex(kButtonWidthDp * dps, buttonScale - lineWidth);\n    addArrowVertex(angledLineWidth, buttonScale + lineWidth);\n    addArrowVertex(kButtonWidthDp * dps, buttonScale + lineWidth);\n    self.arrowVertexCount = vertices.length / 2 - self.arrowOffset;\n    gl.bindBuffer(gl.ARRAY_BUFFER, self.vertexBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);\n  });\n};\nCardboardUI.prototype.render = function () {\n  var gl = this.gl;\n  var self = this;\n  var glState = [gl.CULL_FACE, gl.DEPTH_TEST, gl.BLEND, gl.SCISSOR_TEST, gl.STENCIL_TEST, gl.COLOR_WRITEMASK, gl.VIEWPORT, gl.CURRENT_PROGRAM, gl.ARRAY_BUFFER_BINDING];\n  glPreserveState(gl, glState, function (gl) {\n    gl.disable(gl.CULL_FACE);\n    gl.disable(gl.DEPTH_TEST);\n    gl.disable(gl.BLEND);\n    gl.disable(gl.SCISSOR_TEST);\n    gl.disable(gl.STENCIL_TEST);\n    gl.colorMask(true, true, true, true);\n    gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    self.renderNoState();\n  });\n};\nCardboardUI.prototype.renderNoState = function () {\n  var gl = this.gl;\n  gl.useProgram(this.program);\n  gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffer);\n  gl.enableVertexAttribArray(this.attribs.position);\n  gl.vertexAttribPointer(this.attribs.position, 2, gl.FLOAT, false, 8, 0);\n  gl.uniform4f(this.uniforms.color, 1.0, 1.0, 1.0, 1.0);\n  orthoMatrix(this.projMat, 0, gl.drawingBufferWidth, 0, gl.drawingBufferHeight, 0.1, 1024.0);\n  gl.uniformMatrix4fv(this.uniforms.projectionMat, false, this.projMat);\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  gl.drawArrays(gl.TRIANGLE_STRIP, this.gearOffset, this.gearVertexCount);\n  gl.drawArrays(gl.TRIANGLE_STRIP, this.arrowOffset, this.arrowVertexCount);\n};\nfunction Distortion(coefficients) {\n  this.coefficients = coefficients;\n}\nDistortion.prototype.distortInverse = function (radius) {\n  var r0 = 0;\n  var r1 = 1;\n  var dr0 = radius - this.distort(r0);\n  while (Math.abs(r1 - r0) > 0.0001             ) {\n    var dr1 = radius - this.distort(r1);\n    var r2 = r1 - dr1 * ((r1 - r0) / (dr1 - dr0));\n    r0 = r1;\n    r1 = r2;\n    dr0 = dr1;\n  }\n  return r1;\n};\nDistortion.prototype.distort = function (radius) {\n  var r2 = radius * radius;\n  var ret = 0;\n  for (var i = 0; i < this.coefficients.length; i++) {\n    ret = r2 * (ret + this.coefficients[i]);\n  }\n  return (ret + 1) * radius;\n};\nvar degToRad = Math.PI / 180;\nvar radToDeg = 180 / Math.PI;\nvar Vector3 = function Vector3(x, y, z) {\n  this.x = x || 0;\n  this.y = y || 0;\n  this.z = z || 0;\n};\nVector3.prototype = {\n  constructor: Vector3,\n  set: function set(x, y, z) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    return this;\n  },\n  copy: function copy(v) {\n    this.x = v.x;\n    this.y = v.y;\n    this.z = v.z;\n    return this;\n  },\n  length: function length() {\n    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n  },\n  normalize: function normalize() {\n    var scalar = this.length();\n    if (scalar !== 0) {\n      var invScalar = 1 / scalar;\n      this.multiplyScalar(invScalar);\n    } else {\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n    }\n    return this;\n  },\n  multiplyScalar: function multiplyScalar(scalar) {\n    this.x *= scalar;\n    this.y *= scalar;\n    this.z *= scalar;\n  },\n  applyQuaternion: function applyQuaternion(q) {\n    var x = this.x;\n    var y = this.y;\n    var z = this.z;\n    var qx = q.x;\n    var qy = q.y;\n    var qz = q.z;\n    var qw = q.w;\n    var ix = qw * x + qy * z - qz * y;\n    var iy = qw * y + qz * x - qx * z;\n    var iz = qw * z + qx * y - qy * x;\n    var iw = -qx * x - qy * y - qz * z;\n    this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n    this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n    this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n    return this;\n  },\n  dot: function dot(v) {\n    return this.x * v.x + this.y * v.y + this.z * v.z;\n  },\n  crossVectors: function crossVectors(a, b) {\n    var ax = a.x,\n        ay = a.y,\n        az = a.z;\n    var bx = b.x,\n        by = b.y,\n        bz = b.z;\n    this.x = ay * bz - az * by;\n    this.y = az * bx - ax * bz;\n    this.z = ax * by - ay * bx;\n    return this;\n  }\n};\nvar Quaternion = function Quaternion(x, y, z, w) {\n  this.x = x || 0;\n  this.y = y || 0;\n  this.z = z || 0;\n  this.w = w !== undefined ? w : 1;\n};\nQuaternion.prototype = {\n  constructor: Quaternion,\n  set: function set(x, y, z, w) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n    this.w = w;\n    return this;\n  },\n  copy: function copy(quaternion) {\n    this.x = quaternion.x;\n    this.y = quaternion.y;\n    this.z = quaternion.z;\n    this.w = quaternion.w;\n    return this;\n  },\n  setFromEulerXYZ: function setFromEulerXYZ(x, y, z) {\n    var c1 = Math.cos(x / 2);\n    var c2 = Math.cos(y / 2);\n    var c3 = Math.cos(z / 2);\n    var s1 = Math.sin(x / 2);\n    var s2 = Math.sin(y / 2);\n    var s3 = Math.sin(z / 2);\n    this.x = s1 * c2 * c3 + c1 * s2 * s3;\n    this.y = c1 * s2 * c3 - s1 * c2 * s3;\n    this.z = c1 * c2 * s3 + s1 * s2 * c3;\n    this.w = c1 * c2 * c3 - s1 * s2 * s3;\n    return this;\n  },\n  setFromEulerYXZ: function setFromEulerYXZ(x, y, z) {\n    var c1 = Math.cos(x / 2);\n    var c2 = Math.cos(y / 2);\n    var c3 = Math.cos(z / 2);\n    var s1 = Math.sin(x / 2);\n    var s2 = Math.sin(y / 2);\n    var s3 = Math.sin(z / 2);\n    this.x = s1 * c2 * c3 + c1 * s2 * s3;\n    this.y = c1 * s2 * c3 - s1 * c2 * s3;\n    this.z = c1 * c2 * s3 - s1 * s2 * c3;\n    this.w = c1 * c2 * c3 + s1 * s2 * s3;\n    return this;\n  },\n  setFromAxisAngle: function setFromAxisAngle(axis, angle) {\n    var halfAngle = angle / 2,\n        s = Math.sin(halfAngle);\n    this.x = axis.x * s;\n    this.y = axis.y * s;\n    this.z = axis.z * s;\n    this.w = Math.cos(halfAngle);\n    return this;\n  },\n  multiply: function multiply(q) {\n    return this.multiplyQuaternions(this, q);\n  },\n  multiplyQuaternions: function multiplyQuaternions(a, b) {\n    var qax = a.x,\n        qay = a.y,\n        qaz = a.z,\n        qaw = a.w;\n    var qbx = b.x,\n        qby = b.y,\n        qbz = b.z,\n        qbw = b.w;\n    this.x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n    this.y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n    this.z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n    this.w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n    return this;\n  },\n  inverse: function inverse() {\n    this.x *= -1;\n    this.y *= -1;\n    this.z *= -1;\n    this.normalize();\n    return this;\n  },\n  normalize: function normalize() {\n    var l = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n    if (l === 0) {\n      this.x = 0;\n      this.y = 0;\n      this.z = 0;\n      this.w = 1;\n    } else {\n      l = 1 / l;\n      this.x = this.x * l;\n      this.y = this.y * l;\n      this.z = this.z * l;\n      this.w = this.w * l;\n    }\n    return this;\n  },\n  slerp: function slerp(qb, t) {\n    if (t === 0) return this;\n    if (t === 1) return this.copy(qb);\n    var x = this.x,\n        y = this.y,\n        z = this.z,\n        w = this.w;\n    var cosHalfTheta = w * qb.w + x * qb.x + y * qb.y + z * qb.z;\n    if (cosHalfTheta < 0) {\n      this.w = -qb.w;\n      this.x = -qb.x;\n      this.y = -qb.y;\n      this.z = -qb.z;\n      cosHalfTheta = -cosHalfTheta;\n    } else {\n      this.copy(qb);\n    }\n    if (cosHalfTheta >= 1.0) {\n      this.w = w;\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      return this;\n    }\n    var halfTheta = Math.acos(cosHalfTheta);\n    var sinHalfTheta = Math.sqrt(1.0 - cosHalfTheta * cosHalfTheta);\n    if (Math.abs(sinHalfTheta) < 0.001) {\n      this.w = 0.5 * (w + this.w);\n      this.x = 0.5 * (x + this.x);\n      this.y = 0.5 * (y + this.y);\n      this.z = 0.5 * (z + this.z);\n      return this;\n    }\n    var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n        ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n    this.w = w * ratioA + this.w * ratioB;\n    this.x = x * ratioA + this.x * ratioB;\n    this.y = y * ratioA + this.y * ratioB;\n    this.z = z * ratioA + this.z * ratioB;\n    return this;\n  },\n  setFromUnitVectors: function () {\n    var v1, r;\n    var EPS = 0.000001;\n    return function (vFrom, vTo) {\n      if (v1 === undefined) v1 = new Vector3();\n      r = vFrom.dot(vTo) + 1;\n      if (r < EPS) {\n        r = 0;\n        if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n          v1.set(-vFrom.y, vFrom.x, 0);\n        } else {\n          v1.set(0, -vFrom.z, vFrom.y);\n        }\n      } else {\n        v1.crossVectors(vFrom, vTo);\n      }\n      this.x = v1.x;\n      this.y = v1.y;\n      this.z = v1.z;\n      this.w = r;\n      this.normalize();\n      return this;\n    };\n  }()\n};\nfunction Device(params) {\n  this.width = params.width || getScreenWidth();\n  this.height = params.height || getScreenHeight();\n  this.widthMeters = params.widthMeters;\n  this.heightMeters = params.heightMeters;\n  this.bevelMeters = params.bevelMeters;\n}\nvar DEFAULT_ANDROID = new Device({\n  widthMeters: 0.110,\n  heightMeters: 0.062,\n  bevelMeters: 0.004\n});\nvar DEFAULT_IOS = new Device({\n  widthMeters: 0.1038,\n  heightMeters: 0.0584,\n  bevelMeters: 0.004\n});\nvar Viewers = {\n  CardboardV1: new CardboardViewer({\n    id: 'CardboardV1',\n    label: 'Cardboard I/O 2014',\n    fov: 40,\n    interLensDistance: 0.060,\n    baselineLensDistance: 0.035,\n    screenLensDistance: 0.042,\n    distortionCoefficients: [0.441, 0.156],\n    inverseCoefficients: [-0.4410035, 0.42756155, -0.4804439, 0.5460139, -0.58821183, 0.5733938, -0.48303202, 0.33299083, -0.17573841, 0.0651772, -0.01488963, 0.001559834]\n  }),\n  CardboardV2: new CardboardViewer({\n    id: 'CardboardV2',\n    label: 'Cardboard I/O 2015',\n    fov: 60,\n    interLensDistance: 0.064,\n    baselineLensDistance: 0.035,\n    screenLensDistance: 0.039,\n    distortionCoefficients: [0.34, 0.55],\n    inverseCoefficients: [-0.33836704, -0.18162185, 0.862655, -1.2462051, 1.0560602, -0.58208317, 0.21609078, -0.05444823, 0.009177956, -9.904169E-4, 6.183535E-5, -1.6981803E-6]\n  })\n};\nfunction DeviceInfo(deviceParams, additionalViewers) {\n  this.viewer = Viewers.CardboardV2;\n  this.updateDeviceParams(deviceParams);\n  this.distortion = new Distortion(this.viewer.distortionCoefficients);\n  for (var i = 0; i < additionalViewers.length; i++) {\n    var viewer = additionalViewers[i];\n    Viewers[viewer.id] = new CardboardViewer(viewer);\n  }\n}\nDeviceInfo.prototype.updateDeviceParams = function (deviceParams) {\n  this.device = this.determineDevice_(deviceParams) || this.device;\n};\nDeviceInfo.prototype.getDevice = function () {\n  return this.device;\n};\nDeviceInfo.prototype.setViewer = function (viewer) {\n  this.viewer = viewer;\n  this.distortion = new Distortion(this.viewer.distortionCoefficients);\n};\nDeviceInfo.prototype.determineDevice_ = function (deviceParams) {\n  if (!deviceParams) {\n    if (isIOS()) {\n      console.warn('Using fallback iOS device measurements.');\n      return DEFAULT_IOS;\n    } else {\n      console.warn('Using fallback Android device measurements.');\n      return DEFAULT_ANDROID;\n    }\n  }\n  var METERS_PER_INCH = 0.0254;\n  var metersPerPixelX = METERS_PER_INCH / deviceParams.xdpi;\n  var metersPerPixelY = METERS_PER_INCH / deviceParams.ydpi;\n  var width = getScreenWidth();\n  var height = getScreenHeight();\n  return new Device({\n    widthMeters: metersPerPixelX * width,\n    heightMeters: metersPerPixelY * height,\n    bevelMeters: deviceParams.bevelMm * 0.001\n  });\n};\nDeviceInfo.prototype.getDistortedFieldOfViewLeftEye = function () {\n  var viewer = this.viewer;\n  var device = this.device;\n  var distortion = this.distortion;\n  var eyeToScreenDistance = viewer.screenLensDistance;\n  var outerDist = (device.widthMeters - viewer.interLensDistance) / 2;\n  var innerDist = viewer.interLensDistance / 2;\n  var bottomDist = viewer.baselineLensDistance - device.bevelMeters;\n  var topDist = device.heightMeters - bottomDist;\n  var outerAngle = radToDeg * Math.atan(distortion.distort(outerDist / eyeToScreenDistance));\n  var innerAngle = radToDeg * Math.atan(distortion.distort(innerDist / eyeToScreenDistance));\n  var bottomAngle = radToDeg * Math.atan(distortion.distort(bottomDist / eyeToScreenDistance));\n  var topAngle = radToDeg * Math.atan(distortion.distort(topDist / eyeToScreenDistance));\n  return {\n    leftDegrees: Math.min(outerAngle, viewer.fov),\n    rightDegrees: Math.min(innerAngle, viewer.fov),\n    downDegrees: Math.min(bottomAngle, viewer.fov),\n    upDegrees: Math.min(topAngle, viewer.fov)\n  };\n};\nDeviceInfo.prototype.getLeftEyeVisibleTanAngles = function () {\n  var viewer = this.viewer;\n  var device = this.device;\n  var distortion = this.distortion;\n  var fovLeft = Math.tan(-degToRad * viewer.fov);\n  var fovTop = Math.tan(degToRad * viewer.fov);\n  var fovRight = Math.tan(degToRad * viewer.fov);\n  var fovBottom = Math.tan(-degToRad * viewer.fov);\n  var halfWidth = device.widthMeters / 4;\n  var halfHeight = device.heightMeters / 2;\n  var verticalLensOffset = viewer.baselineLensDistance - device.bevelMeters - halfHeight;\n  var centerX = viewer.interLensDistance / 2 - halfWidth;\n  var centerY = -verticalLensOffset;\n  var centerZ = viewer.screenLensDistance;\n  var screenLeft = distortion.distort((centerX - halfWidth) / centerZ);\n  var screenTop = distortion.distort((centerY + halfHeight) / centerZ);\n  var screenRight = distortion.distort((centerX + halfWidth) / centerZ);\n  var screenBottom = distortion.distort((centerY - halfHeight) / centerZ);\n  var result = new Float32Array(4);\n  result[0] = Math.max(fovLeft, screenLeft);\n  result[1] = Math.min(fovTop, screenTop);\n  result[2] = Math.min(fovRight, screenRight);\n  result[3] = Math.max(fovBottom, screenBottom);\n  return result;\n};\nDeviceInfo.prototype.getLeftEyeNoLensTanAngles = function () {\n  var viewer = this.viewer;\n  var device = this.device;\n  var distortion = this.distortion;\n  var result = new Float32Array(4);\n  var fovLeft = distortion.distortInverse(Math.tan(-degToRad * viewer.fov));\n  var fovTop = distortion.distortInverse(Math.tan(degToRad * viewer.fov));\n  var fovRight = distortion.distortInverse(Math.tan(degToRad * viewer.fov));\n  var fovBottom = distortion.distortInverse(Math.tan(-degToRad * viewer.fov));\n  var halfWidth = device.widthMeters / 4;\n  var halfHeight = device.heightMeters / 2;\n  var verticalLensOffset = viewer.baselineLensDistance - device.bevelMeters - halfHeight;\n  var centerX = viewer.interLensDistance / 2 - halfWidth;\n  var centerY = -verticalLensOffset;\n  var centerZ = viewer.screenLensDistance;\n  var screenLeft = (centerX - halfWidth) / centerZ;\n  var screenTop = (centerY + halfHeight) / centerZ;\n  var screenRight = (centerX + halfWidth) / centerZ;\n  var screenBottom = (centerY - halfHeight) / centerZ;\n  result[0] = Math.max(fovLeft, screenLeft);\n  result[1] = Math.min(fovTop, screenTop);\n  result[2] = Math.min(fovRight, screenRight);\n  result[3] = Math.max(fovBottom, screenBottom);\n  return result;\n};\nDeviceInfo.prototype.getLeftEyeVisibleScreenRect = function (undistortedFrustum) {\n  var viewer = this.viewer;\n  var device = this.device;\n  var dist = viewer.screenLensDistance;\n  var eyeX = (device.widthMeters - viewer.interLensDistance) / 2;\n  var eyeY = viewer.baselineLensDistance - device.bevelMeters;\n  var left = (undistortedFrustum[0] * dist + eyeX) / device.widthMeters;\n  var top = (undistortedFrustum[1] * dist + eyeY) / device.heightMeters;\n  var right = (undistortedFrustum[2] * dist + eyeX) / device.widthMeters;\n  var bottom = (undistortedFrustum[3] * dist + eyeY) / device.heightMeters;\n  return {\n    x: left,\n    y: bottom,\n    width: right - left,\n    height: top - bottom\n  };\n};\nDeviceInfo.prototype.getFieldOfViewLeftEye = function (opt_isUndistorted) {\n  return opt_isUndistorted ? this.getUndistortedFieldOfViewLeftEye() : this.getDistortedFieldOfViewLeftEye();\n};\nDeviceInfo.prototype.getFieldOfViewRightEye = function (opt_isUndistorted) {\n  var fov = this.getFieldOfViewLeftEye(opt_isUndistorted);\n  return {\n    leftDegrees: fov.rightDegrees,\n    rightDegrees: fov.leftDegrees,\n    upDegrees: fov.upDegrees,\n    downDegrees: fov.downDegrees\n  };\n};\nDeviceInfo.prototype.getUndistortedFieldOfViewLeftEye = function () {\n  var p = this.getUndistortedParams_();\n  return {\n    leftDegrees: radToDeg * Math.atan(p.outerDist),\n    rightDegrees: radToDeg * Math.atan(p.innerDist),\n    downDegrees: radToDeg * Math.atan(p.bottomDist),\n    upDegrees: radToDeg * Math.atan(p.topDist)\n  };\n};\nDeviceInfo.prototype.getUndistortedViewportLeftEye = function () {\n  var p = this.getUndistortedParams_();\n  var viewer = this.viewer;\n  var device = this.device;\n  var eyeToScreenDistance = viewer.screenLensDistance;\n  var screenWidth = device.widthMeters / eyeToScreenDistance;\n  var screenHeight = device.heightMeters / eyeToScreenDistance;\n  var xPxPerTanAngle = device.width / screenWidth;\n  var yPxPerTanAngle = device.height / screenHeight;\n  var x = Math.round((p.eyePosX - p.outerDist) * xPxPerTanAngle);\n  var y = Math.round((p.eyePosY - p.bottomDist) * yPxPerTanAngle);\n  return {\n    x: x,\n    y: y,\n    width: Math.round((p.eyePosX + p.innerDist) * xPxPerTanAngle) - x,\n    height: Math.round((p.eyePosY + p.topDist) * yPxPerTanAngle) - y\n  };\n};\nDeviceInfo.prototype.getUndistortedParams_ = function () {\n  var viewer = this.viewer;\n  var device = this.device;\n  var distortion = this.distortion;\n  var eyeToScreenDistance = viewer.screenLensDistance;\n  var halfLensDistance = viewer.interLensDistance / 2 / eyeToScreenDistance;\n  var screenWidth = device.widthMeters / eyeToScreenDistance;\n  var screenHeight = device.heightMeters / eyeToScreenDistance;\n  var eyePosX = screenWidth / 2 - halfLensDistance;\n  var eyePosY = (viewer.baselineLensDistance - device.bevelMeters) / eyeToScreenDistance;\n  var maxFov = viewer.fov;\n  var viewerMax = distortion.distortInverse(Math.tan(degToRad * maxFov));\n  var outerDist = Math.min(eyePosX, viewerMax);\n  var innerDist = Math.min(halfLensDistance, viewerMax);\n  var bottomDist = Math.min(eyePosY, viewerMax);\n  var topDist = Math.min(screenHeight - eyePosY, viewerMax);\n  return {\n    outerDist: outerDist,\n    innerDist: innerDist,\n    topDist: topDist,\n    bottomDist: bottomDist,\n    eyePosX: eyePosX,\n    eyePosY: eyePosY\n  };\n};\nfunction CardboardViewer(params) {\n  this.id = params.id;\n  this.label = params.label;\n  this.fov = params.fov;\n  this.interLensDistance = params.interLensDistance;\n  this.baselineLensDistance = params.baselineLensDistance;\n  this.screenLensDistance = params.screenLensDistance;\n  this.distortionCoefficients = params.distortionCoefficients;\n  this.inverseCoefficients = params.inverseCoefficients;\n}\nDeviceInfo.Viewers = Viewers;\nvar format = 1;\nvar last_updated = \"2018-12-10T17:01:42Z\";\nvar devices = [{\"type\":\"android\",\"rules\":[{\"mdmh\":\"asus/*/Nexus 7/*\"},{\"ua\":\"Nexus 7\"}],\"dpi\":[320.8,323],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"asus/*/ASUS_Z00AD/*\"},{\"ua\":\"ASUS_Z00AD\"}],\"dpi\":[403,404.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel 2 XL/*\"},{\"ua\":\"Pixel 2 XL\"}],\"dpi\":537.9,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel 3 XL/*\"},{\"ua\":\"Pixel 3 XL\"}],\"dpi\":[558.5,553.8],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel XL/*\"},{\"ua\":\"Pixel XL\"}],\"dpi\":[537.9,533],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel 3/*\"},{\"ua\":\"Pixel 3\"}],\"dpi\":442.4,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel 2/*\"},{\"ua\":\"Pixel 2\"}],\"dpi\":441,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Google/*/Pixel/*\"},{\"ua\":\"Pixel\"}],\"dpi\":[432.6,436.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC6435LVW/*\"},{\"ua\":\"HTC6435LVW\"}],\"dpi\":[449.7,443.3],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC One XL/*\"},{\"ua\":\"HTC One XL\"}],\"dpi\":[315.3,314.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"htc/*/Nexus 9/*\"},{\"ua\":\"Nexus 9\"}],\"dpi\":289,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC One M9/*\"},{\"ua\":\"HTC One M9\"}],\"dpi\":[442.5,443.3],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC One_M8/*\"},{\"ua\":\"HTC One_M8\"}],\"dpi\":[449.7,447.4],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"HTC/*/HTC One/*\"},{\"ua\":\"HTC One\"}],\"dpi\":472.8,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Huawei/*/Nexus 6P/*\"},{\"ua\":\"Nexus 6P\"}],\"dpi\":[515.1,518],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Huawei/*/BLN-L24/*\"},{\"ua\":\"HONORBLN-L24\"}],\"dpi\":480,\"bw\":4,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Huawei/*/BKL-L09/*\"},{\"ua\":\"BKL-L09\"}],\"dpi\":403,\"bw\":3.47,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LENOVO/*/Lenovo PB2-690Y/*\"},{\"ua\":\"Lenovo PB2-690Y\"}],\"dpi\":[457.2,454.713],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/Nexus 5X/*\"},{\"ua\":\"Nexus 5X\"}],\"dpi\":[422,419.9],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LGMS345/*\"},{\"ua\":\"LGMS345\"}],\"dpi\":[221.7,219.1],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LG-D800/*\"},{\"ua\":\"LG-D800\"}],\"dpi\":[422,424.1],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LG-D850/*\"},{\"ua\":\"LG-D850\"}],\"dpi\":[537.9,541.9],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/VS985 4G/*\"},{\"ua\":\"VS985 4G\"}],\"dpi\":[537.9,535.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/Nexus 5/*\"},{\"ua\":\"Nexus 5 B\"}],\"dpi\":[442.4,444.8],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/Nexus 4/*\"},{\"ua\":\"Nexus 4\"}],\"dpi\":[319.8,318.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LG-P769/*\"},{\"ua\":\"LG-P769\"}],\"dpi\":[240.6,247.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LGMS323/*\"},{\"ua\":\"LGMS323\"}],\"dpi\":[206.6,204.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"LGE/*/LGLS996/*\"},{\"ua\":\"LGLS996\"}],\"dpi\":[403.4,401.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Micromax/*/4560MMX/*\"},{\"ua\":\"4560MMX\"}],\"dpi\":[240,219.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Micromax/*/A250/*\"},{\"ua\":\"Micromax A250\"}],\"dpi\":[480,446.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Micromax/*/Micromax AQ4501/*\"},{\"ua\":\"Micromax AQ4501\"}],\"dpi\":240,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/G5/*\"},{\"ua\":\"Moto G (5) Plus\"}],\"dpi\":[403.4,403],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/DROID RAZR/*\"},{\"ua\":\"DROID RAZR\"}],\"dpi\":[368.1,256.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT830C/*\"},{\"ua\":\"XT830C\"}],\"dpi\":[254,255.9],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1021/*\"},{\"ua\":\"XT1021\"}],\"dpi\":[254,256.7],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1023/*\"},{\"ua\":\"XT1023\"}],\"dpi\":[254,256.7],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1028/*\"},{\"ua\":\"XT1028\"}],\"dpi\":[326.6,327.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1034/*\"},{\"ua\":\"XT1034\"}],\"dpi\":[326.6,328.4],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1053/*\"},{\"ua\":\"XT1053\"}],\"dpi\":[315.3,316.1],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1562/*\"},{\"ua\":\"XT1562\"}],\"dpi\":[403.4,402.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/Nexus 6/*\"},{\"ua\":\"Nexus 6 B\"}],\"dpi\":[494.3,489.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1063/*\"},{\"ua\":\"XT1063\"}],\"dpi\":[295,296.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1064/*\"},{\"ua\":\"XT1064\"}],\"dpi\":[295,295.6],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1092/*\"},{\"ua\":\"XT1092\"}],\"dpi\":[422,424.1],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/XT1095/*\"},{\"ua\":\"XT1095\"}],\"dpi\":[422,423.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"motorola/*/G4/*\"},{\"ua\":\"Moto G (4)\"}],\"dpi\":401,\"bw\":4,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/A0001/*\"},{\"ua\":\"A0001\"}],\"dpi\":[403.4,401],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE E1005/*\"},{\"ua\":\"ONE E1005\"}],\"dpi\":[442.4,441.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE A2005/*\"},{\"ua\":\"ONE A2005\"}],\"dpi\":[391.9,405.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONEPLUS A5000/*\"},{\"ua\":\"ONEPLUS A5000 \"}],\"dpi\":[403.411,399.737],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OnePlus/*/ONE A5010/*\"},{\"ua\":\"ONEPLUS A5010\"}],\"dpi\":[403,400],\"bw\":2,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"OPPO/*/X909/*\"},{\"ua\":\"X909\"}],\"dpi\":[442.4,444.1],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9082/*\"},{\"ua\":\"GT-I9082\"}],\"dpi\":[184.7,185.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G360P/*\"},{\"ua\":\"SM-G360P\"}],\"dpi\":[196.7,205.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/Nexus S/*\"},{\"ua\":\"Nexus S\"}],\"dpi\":[234.5,229.8],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9300/*\"},{\"ua\":\"GT-I9300\"}],\"dpi\":[304.8,303.9],\"bw\":5,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-T230NU/*\"},{\"ua\":\"SM-T230NU\"}],\"dpi\":216,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SGH-T399/*\"},{\"ua\":\"SGH-T399\"}],\"dpi\":[217.7,231.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SGH-M919/*\"},{\"ua\":\"SGH-M919\"}],\"dpi\":[440.8,437.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N9005/*\"},{\"ua\":\"SM-N9005\"}],\"dpi\":[386.4,387],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SAMSUNG-SM-N900A/*\"},{\"ua\":\"SAMSUNG-SM-N900A\"}],\"dpi\":[386.4,387.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9500/*\"},{\"ua\":\"GT-I9500\"}],\"dpi\":[442.5,443.3],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9505/*\"},{\"ua\":\"GT-I9505\"}],\"dpi\":439.4,\"bw\":4,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G900F/*\"},{\"ua\":\"SM-G900F\"}],\"dpi\":[415.6,431.6],\"bw\":5,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G900M/*\"},{\"ua\":\"SM-G900M\"}],\"dpi\":[415.6,431.6],\"bw\":5,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G800F/*\"},{\"ua\":\"SM-G800F\"}],\"dpi\":326.8,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G906S/*\"},{\"ua\":\"SM-G906S\"}],\"dpi\":[562.7,572.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9300/*\"},{\"ua\":\"GT-I9300\"}],\"dpi\":[306.7,304.8],\"bw\":5,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-T535/*\"},{\"ua\":\"SM-T535\"}],\"dpi\":[142.6,136.4],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N920C/*\"},{\"ua\":\"SM-N920C\"}],\"dpi\":[515.1,518.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N920P/*\"},{\"ua\":\"SM-N920P\"}],\"dpi\":[386.3655,390.144],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N920W8/*\"},{\"ua\":\"SM-N920W8\"}],\"dpi\":[515.1,518.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9300I/*\"},{\"ua\":\"GT-I9300I\"}],\"dpi\":[304.8,305.8],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-I9195/*\"},{\"ua\":\"GT-I9195\"}],\"dpi\":[249.4,256.7],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SPH-L520/*\"},{\"ua\":\"SPH-L520\"}],\"dpi\":[249.4,255.9],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SAMSUNG-SGH-I717/*\"},{\"ua\":\"SAMSUNG-SGH-I717\"}],\"dpi\":285.8,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SPH-D710/*\"},{\"ua\":\"SPH-D710\"}],\"dpi\":[217.7,204.2],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/GT-N7100/*\"},{\"ua\":\"GT-N7100\"}],\"dpi\":265.1,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SCH-I605/*\"},{\"ua\":\"SCH-I605\"}],\"dpi\":265.1,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/Galaxy Nexus/*\"},{\"ua\":\"Galaxy Nexus\"}],\"dpi\":[315.3,314.2],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N910H/*\"},{\"ua\":\"SM-N910H\"}],\"dpi\":[515.1,518],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-N910C/*\"},{\"ua\":\"SM-N910C\"}],\"dpi\":[515.2,520.2],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G130M/*\"},{\"ua\":\"SM-G130M\"}],\"dpi\":[165.9,164.8],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G928I/*\"},{\"ua\":\"SM-G928I\"}],\"dpi\":[515.1,518.4],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G920F/*\"},{\"ua\":\"SM-G920F\"}],\"dpi\":580.6,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G920P/*\"},{\"ua\":\"SM-G920P\"}],\"dpi\":[522.5,577],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G925F/*\"},{\"ua\":\"SM-G925F\"}],\"dpi\":580.6,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G925V/*\"},{\"ua\":\"SM-G925V\"}],\"dpi\":[522.5,576.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G930F/*\"},{\"ua\":\"SM-G930F\"}],\"dpi\":576.6,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G935F/*\"},{\"ua\":\"SM-G935F\"}],\"dpi\":533,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G950F/*\"},{\"ua\":\"SM-G950F\"}],\"dpi\":[562.707,565.293],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G955U/*\"},{\"ua\":\"SM-G955U\"}],\"dpi\":[522.514,525.762],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"samsung/*/SM-G955F/*\"},{\"ua\":\"SM-G955F\"}],\"dpi\":[522.514,525.762],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/C6903/*\"},{\"ua\":\"C6903\"}],\"dpi\":[442.5,443.3],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/D6653/*\"},{\"ua\":\"D6653\"}],\"dpi\":[428.6,427.6],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/E6653/*\"},{\"ua\":\"E6653\"}],\"dpi\":[428.6,425.7],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/E6853/*\"},{\"ua\":\"E6853\"}],\"dpi\":[403.4,401.9],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Sony/*/SGP321/*\"},{\"ua\":\"SGP321\"}],\"dpi\":[224.7,224.1],\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"TCT/*/ALCATEL ONE TOUCH Fierce/*\"},{\"ua\":\"ALCATEL ONE TOUCH Fierce\"}],\"dpi\":[240,247.5],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"THL/*/thl 5000/*\"},{\"ua\":\"thl 5000\"}],\"dpi\":[480,443.3],\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"Fly/*/IQ4412/*\"},{\"ua\":\"IQ4412\"}],\"dpi\":307.9,\"bw\":3,\"ac\":1000},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"ZTE/*/ZTE Blade L2/*\"},{\"ua\":\"ZTE Blade L2\"}],\"dpi\":240,\"bw\":3,\"ac\":500},{\"type\":\"android\",\"rules\":[{\"mdmh\":\"BENEVE/*/VR518/*\"},{\"ua\":\"VR518\"}],\"dpi\":480,\"bw\":3,\"ac\":500},{\"type\":\"ios\",\"rules\":[{\"res\":[640,960]}],\"dpi\":[325.1,328.4],\"bw\":4,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[640,1136]}],\"dpi\":[317.1,320.2],\"bw\":3,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[750,1334]}],\"dpi\":326.4,\"bw\":4,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[1242,2208]}],\"dpi\":[453.6,458.4],\"bw\":4,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[1125,2001]}],\"dpi\":[410.9,415.4],\"bw\":4,\"ac\":1000},{\"type\":\"ios\",\"rules\":[{\"res\":[1125,2436]}],\"dpi\":458,\"bw\":4,\"ac\":1000}];\nvar DPDB_CACHE = {\n\tformat: format,\n\tlast_updated: last_updated,\n\tdevices: devices\n};\nfunction Dpdb(url, onDeviceParamsUpdated) {\n  this.dpdb = DPDB_CACHE;\n  this.recalculateDeviceParams_();\n  if (url) {\n    this.onDeviceParamsUpdated = onDeviceParamsUpdated;\n    var xhr = new XMLHttpRequest();\n    var obj = this;\n    xhr.open('GET', url, true);\n    xhr.addEventListener('load', function () {\n      obj.loading = false;\n      if (xhr.status >= 200 && xhr.status <= 299) {\n        obj.dpdb = JSON.parse(xhr.response);\n        obj.recalculateDeviceParams_();\n      } else {\n        console.error('Error loading online DPDB!');\n      }\n    });\n    xhr.send();\n  }\n}\nDpdb.prototype.getDeviceParams = function () {\n  return this.deviceParams;\n};\nDpdb.prototype.recalculateDeviceParams_ = function () {\n  var newDeviceParams = this.calcDeviceParams_();\n  if (newDeviceParams) {\n    this.deviceParams = newDeviceParams;\n    if (this.onDeviceParamsUpdated) {\n      this.onDeviceParamsUpdated(this.deviceParams);\n    }\n  } else {\n    console.error('Failed to recalculate device parameters.');\n  }\n};\nDpdb.prototype.calcDeviceParams_ = function () {\n  var db = this.dpdb;\n  if (!db) {\n    console.error('DPDB not available.');\n    return null;\n  }\n  if (db.format != 1) {\n    console.error('DPDB has unexpected format version.');\n    return null;\n  }\n  if (!db.devices || !db.devices.length) {\n    console.error('DPDB does not have a devices section.');\n    return null;\n  }\n  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n  var width = getScreenWidth();\n  var height = getScreenHeight();\n  if (!db.devices) {\n    console.error('DPDB has no devices section.');\n    return null;\n  }\n  for (var i = 0; i < db.devices.length; i++) {\n    var device = db.devices[i];\n    if (!device.rules) {\n      console.warn('Device[' + i + '] has no rules section.');\n      continue;\n    }\n    if (device.type != 'ios' && device.type != 'android') {\n      console.warn('Device[' + i + '] has invalid type.');\n      continue;\n    }\n    if (isIOS() != (device.type == 'ios')) continue;\n    var matched = false;\n    for (var j = 0; j < device.rules.length; j++) {\n      var rule = device.rules[j];\n      if (this.ruleMatches_(rule, userAgent, width, height)) {\n        matched = true;\n        break;\n      }\n    }\n    if (!matched) continue;\n    var xdpi = device.dpi[0] || device.dpi;\n    var ydpi = device.dpi[1] || device.dpi;\n    return new DeviceParams({ xdpi: xdpi, ydpi: ydpi, bevelMm: device.bw });\n  }\n  console.warn('No DPDB device match.');\n  return null;\n};\nDpdb.prototype.ruleMatches_ = function (rule, ua, screenWidth, screenHeight) {\n  if (!rule.ua && !rule.res) return false;\n  if (rule.ua && rule.ua.substring(0, 2) === 'SM') rule.ua = rule.ua.substring(0, 7);\n  if (rule.ua && ua.indexOf(rule.ua) < 0) return false;\n  if (rule.res) {\n    if (!rule.res[0] || !rule.res[1]) return false;\n    var resX = rule.res[0];\n    var resY = rule.res[1];\n    if (Math.min(screenWidth, screenHeight) != Math.min(resX, resY) || Math.max(screenWidth, screenHeight) != Math.max(resX, resY)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction DeviceParams(params) {\n  this.xdpi = params.xdpi;\n  this.ydpi = params.ydpi;\n  this.bevelMm = params.bevelMm;\n}\nfunction SensorSample(sample, timestampS) {\n  this.set(sample, timestampS);\n}\nSensorSample.prototype.set = function (sample, timestampS) {\n  this.sample = sample;\n  this.timestampS = timestampS;\n};\nSensorSample.prototype.copy = function (sensorSample) {\n  this.set(sensorSample.sample, sensorSample.timestampS);\n};\nfunction ComplementaryFilter(kFilter, isDebug) {\n  this.kFilter = kFilter;\n  this.isDebug = isDebug;\n  this.currentAccelMeasurement = new SensorSample();\n  this.currentGyroMeasurement = new SensorSample();\n  this.previousGyroMeasurement = new SensorSample();\n  if (isIOS()) {\n    this.filterQ = new Quaternion(-1, 0, 0, 1);\n  } else {\n    this.filterQ = new Quaternion(1, 0, 0, 1);\n  }\n  this.previousFilterQ = new Quaternion();\n  this.previousFilterQ.copy(this.filterQ);\n  this.accelQ = new Quaternion();\n  this.isOrientationInitialized = false;\n  this.estimatedGravity = new Vector3();\n  this.measuredGravity = new Vector3();\n  this.gyroIntegralQ = new Quaternion();\n}\nComplementaryFilter.prototype.addAccelMeasurement = function (vector, timestampS) {\n  this.currentAccelMeasurement.set(vector, timestampS);\n};\nComplementaryFilter.prototype.addGyroMeasurement = function (vector, timestampS) {\n  this.currentGyroMeasurement.set(vector, timestampS);\n  var deltaT = timestampS - this.previousGyroMeasurement.timestampS;\n  if (isTimestampDeltaValid(deltaT)) {\n    this.run_();\n  }\n  this.previousGyroMeasurement.copy(this.currentGyroMeasurement);\n};\nComplementaryFilter.prototype.run_ = function () {\n  if (!this.isOrientationInitialized) {\n    this.accelQ = this.accelToQuaternion_(this.currentAccelMeasurement.sample);\n    this.previousFilterQ.copy(this.accelQ);\n    this.isOrientationInitialized = true;\n    return;\n  }\n  var deltaT = this.currentGyroMeasurement.timestampS - this.previousGyroMeasurement.timestampS;\n  var gyroDeltaQ = this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample, deltaT);\n  this.gyroIntegralQ.multiply(gyroDeltaQ);\n  this.filterQ.copy(this.previousFilterQ);\n  this.filterQ.multiply(gyroDeltaQ);\n  var invFilterQ = new Quaternion();\n  invFilterQ.copy(this.filterQ);\n  invFilterQ.inverse();\n  this.estimatedGravity.set(0, 0, -1);\n  this.estimatedGravity.applyQuaternion(invFilterQ);\n  this.estimatedGravity.normalize();\n  this.measuredGravity.copy(this.currentAccelMeasurement.sample);\n  this.measuredGravity.normalize();\n  var deltaQ = new Quaternion();\n  deltaQ.setFromUnitVectors(this.estimatedGravity, this.measuredGravity);\n  deltaQ.inverse();\n  if (this.isDebug) {\n    console.log('Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)', radToDeg * getQuaternionAngle(deltaQ), this.estimatedGravity.x.toFixed(1), this.estimatedGravity.y.toFixed(1), this.estimatedGravity.z.toFixed(1), this.measuredGravity.x.toFixed(1), this.measuredGravity.y.toFixed(1), this.measuredGravity.z.toFixed(1));\n  }\n  var targetQ = new Quaternion();\n  targetQ.copy(this.filterQ);\n  targetQ.multiply(deltaQ);\n  this.filterQ.slerp(targetQ, 1 - this.kFilter);\n  this.previousFilterQ.copy(this.filterQ);\n};\nComplementaryFilter.prototype.getOrientation = function () {\n  return this.filterQ;\n};\nComplementaryFilter.prototype.accelToQuaternion_ = function (accel) {\n  var normAccel = new Vector3();\n  normAccel.copy(accel);\n  normAccel.normalize();\n  var quat = new Quaternion();\n  quat.setFromUnitVectors(new Vector3(0, 0, -1), normAccel);\n  quat.inverse();\n  return quat;\n};\nComplementaryFilter.prototype.gyroToQuaternionDelta_ = function (gyro, dt) {\n  var quat = new Quaternion();\n  var axis = new Vector3();\n  axis.copy(gyro);\n  axis.normalize();\n  quat.setFromAxisAngle(axis, gyro.length() * dt);\n  return quat;\n};\nfunction PosePredictor(predictionTimeS, isDebug) {\n  this.predictionTimeS = predictionTimeS;\n  this.isDebug = isDebug;\n  this.previousQ = new Quaternion();\n  this.previousTimestampS = null;\n  this.deltaQ = new Quaternion();\n  this.outQ = new Quaternion();\n}\nPosePredictor.prototype.getPrediction = function (currentQ, gyro, timestampS) {\n  if (!this.previousTimestampS) {\n    this.previousQ.copy(currentQ);\n    this.previousTimestampS = timestampS;\n    return currentQ;\n  }\n  var axis = new Vector3();\n  axis.copy(gyro);\n  axis.normalize();\n  var angularSpeed = gyro.length();\n  if (angularSpeed < degToRad * 20) {\n    if (this.isDebug) {\n      console.log('Moving slowly, at %s deg/s: no prediction', (radToDeg * angularSpeed).toFixed(1));\n    }\n    this.outQ.copy(currentQ);\n    this.previousQ.copy(currentQ);\n    return this.outQ;\n  }\n  var predictAngle = angularSpeed * this.predictionTimeS;\n  this.deltaQ.setFromAxisAngle(axis, predictAngle);\n  this.outQ.copy(this.previousQ);\n  this.outQ.multiply(this.deltaQ);\n  this.previousQ.copy(currentQ);\n  this.previousTimestampS = timestampS;\n  return this.outQ;\n};\nfunction FusionPoseSensor(kFilter, predictionTime, yawOnly, isDebug) {\n  this.yawOnly = yawOnly;\n  this.accelerometer = new Vector3();\n  this.gyroscope = new Vector3();\n  this.filter = new ComplementaryFilter(kFilter, isDebug);\n  this.posePredictor = new PosePredictor(predictionTime, isDebug);\n  this.isFirefoxAndroid = isFirefoxAndroid();\n  this.isIOS = isIOS();\n  var chromeVersion = getChromeVersion();\n  this.isDeviceMotionInRadians = !this.isIOS && chromeVersion && chromeVersion < 66;\n  this.isWithoutDeviceMotion = isChromeWithoutDeviceMotion();\n  this.filterToWorldQ = new Quaternion();\n  if (isIOS()) {\n    this.filterToWorldQ.setFromAxisAngle(new Vector3(1, 0, 0), Math.PI / 2);\n  } else {\n    this.filterToWorldQ.setFromAxisAngle(new Vector3(1, 0, 0), -Math.PI / 2);\n  }\n  this.inverseWorldToScreenQ = new Quaternion();\n  this.worldToScreenQ = new Quaternion();\n  this.originalPoseAdjustQ = new Quaternion();\n  this.originalPoseAdjustQ.setFromAxisAngle(new Vector3(0, 0, 1), -window.orientation * Math.PI / 180);\n  this.setScreenTransform_();\n  if (isLandscapeMode()) {\n    this.filterToWorldQ.multiply(this.inverseWorldToScreenQ);\n  }\n  this.resetQ = new Quaternion();\n  this.orientationOut_ = new Float32Array(4);\n  this.start();\n}\nFusionPoseSensor.prototype.getPosition = function () {\n  return null;\n};\nFusionPoseSensor.prototype.getOrientation = function () {\n  var orientation = void 0;\n  if (this.isWithoutDeviceMotion && this._deviceOrientationQ) {\n    this.deviceOrientationFixQ = this.deviceOrientationFixQ || function () {\n      var z = new Quaternion().setFromAxisAngle(new Vector3(0, 0, -1), 0);\n      var y = new Quaternion();\n      if (window.orientation === -90) {\n        y.setFromAxisAngle(new Vector3(0, 1, 0), Math.PI / -2);\n      } else {\n        y.setFromAxisAngle(new Vector3(0, 1, 0), Math.PI / 2);\n      }\n      return z.multiply(y);\n    }();\n    this.deviceOrientationFilterToWorldQ = this.deviceOrientationFilterToWorldQ || function () {\n      var q = new Quaternion();\n      q.setFromAxisAngle(new Vector3(1, 0, 0), -Math.PI / 2);\n      return q;\n    }();\n    orientation = this._deviceOrientationQ;\n    var out = new Quaternion();\n    out.copy(orientation);\n    out.multiply(this.deviceOrientationFilterToWorldQ);\n    out.multiply(this.resetQ);\n    out.multiply(this.worldToScreenQ);\n    out.multiplyQuaternions(this.deviceOrientationFixQ, out);\n    if (this.yawOnly) {\n      out.x = 0;\n      out.z = 0;\n      out.normalize();\n    }\n    this.orientationOut_[0] = out.x;\n    this.orientationOut_[1] = out.y;\n    this.orientationOut_[2] = out.z;\n    this.orientationOut_[3] = out.w;\n    return this.orientationOut_;\n  } else {\n    var filterOrientation = this.filter.getOrientation();\n    orientation = this.posePredictor.getPrediction(filterOrientation, this.gyroscope, this.previousTimestampS);\n  }\n  var out = new Quaternion();\n  out.copy(this.filterToWorldQ);\n  out.multiply(this.resetQ);\n  out.multiply(orientation);\n  out.multiply(this.worldToScreenQ);\n  if (this.yawOnly) {\n    out.x = 0;\n    out.z = 0;\n    out.normalize();\n  }\n  this.orientationOut_[0] = out.x;\n  this.orientationOut_[1] = out.y;\n  this.orientationOut_[2] = out.z;\n  this.orientationOut_[3] = out.w;\n  return this.orientationOut_;\n};\nFusionPoseSensor.prototype.resetPose = function () {\n  this.resetQ.copy(this.filter.getOrientation());\n  this.resetQ.x = 0;\n  this.resetQ.y = 0;\n  this.resetQ.z *= -1;\n  this.resetQ.normalize();\n  if (isLandscapeMode()) {\n    this.resetQ.multiply(this.inverseWorldToScreenQ);\n  }\n  this.resetQ.multiply(this.originalPoseAdjustQ);\n};\nFusionPoseSensor.prototype.onDeviceOrientation_ = function (e) {\n  this._deviceOrientationQ = this._deviceOrientationQ || new Quaternion();\n  var alpha = e.alpha,\n      beta = e.beta,\n      gamma = e.gamma;\n  alpha = (alpha || 0) * Math.PI / 180;\n  beta = (beta || 0) * Math.PI / 180;\n  gamma = (gamma || 0) * Math.PI / 180;\n  this._deviceOrientationQ.setFromEulerYXZ(beta, alpha, -gamma);\n};\nFusionPoseSensor.prototype.onDeviceMotion_ = function (deviceMotion) {\n  this.updateDeviceMotion_(deviceMotion);\n};\nFusionPoseSensor.prototype.updateDeviceMotion_ = function (deviceMotion) {\n  var accGravity = deviceMotion.accelerationIncludingGravity;\n  var rotRate = deviceMotion.rotationRate;\n  var timestampS = deviceMotion.timeStamp / 1000;\n  var deltaS = timestampS - this.previousTimestampS;\n  if (deltaS < 0) {\n    warnOnce('fusion-pose-sensor:invalid:non-monotonic', 'Invalid timestamps detected: non-monotonic timestamp from devicemotion');\n    this.previousTimestampS = timestampS;\n    return;\n  } else if (deltaS <= MIN_TIMESTEP || deltaS > MAX_TIMESTEP) {\n    warnOnce('fusion-pose-sensor:invalid:outside-threshold', 'Invalid timestamps detected: Timestamp from devicemotion outside expected range.');\n    this.previousTimestampS = timestampS;\n    return;\n  }\n  this.accelerometer.set(-accGravity.x, -accGravity.y, -accGravity.z);\n  if (isR7()) {\n    this.gyroscope.set(-rotRate.beta, rotRate.alpha, rotRate.gamma);\n  } else {\n    this.gyroscope.set(rotRate.alpha, rotRate.beta, rotRate.gamma);\n  }\n  if (!this.isDeviceMotionInRadians) {\n    this.gyroscope.multiplyScalar(Math.PI / 180);\n  }\n  this.filter.addAccelMeasurement(this.accelerometer, timestampS);\n  this.filter.addGyroMeasurement(this.gyroscope, timestampS);\n  this.previousTimestampS = timestampS;\n};\nFusionPoseSensor.prototype.onOrientationChange_ = function (screenOrientation) {\n  this.setScreenTransform_();\n};\nFusionPoseSensor.prototype.onMessage_ = function (event) {\n  var message = event.data;\n  if (!message || !message.type) {\n    return;\n  }\n  var type = message.type.toLowerCase();\n  if (type !== 'devicemotion') {\n    return;\n  }\n  this.updateDeviceMotion_(message.deviceMotionEvent);\n};\nFusionPoseSensor.prototype.setScreenTransform_ = function () {\n  this.worldToScreenQ.set(0, 0, 0, 1);\n  switch (window.orientation) {\n    case 0:\n      break;\n    case 90:\n      this.worldToScreenQ.setFromAxisAngle(new Vector3(0, 0, 1), -Math.PI / 2);\n      break;\n    case -90:\n      this.worldToScreenQ.setFromAxisAngle(new Vector3(0, 0, 1), Math.PI / 2);\n      break;\n    case 180:\n      break;\n  }\n  this.inverseWorldToScreenQ.copy(this.worldToScreenQ);\n  this.inverseWorldToScreenQ.inverse();\n};\nFusionPoseSensor.prototype.start = function () {\n  this.onDeviceMotionCallback_ = this.onDeviceMotion_.bind(this);\n  this.onOrientationChangeCallback_ = this.onOrientationChange_.bind(this);\n  this.onMessageCallback_ = this.onMessage_.bind(this);\n  this.onDeviceOrientationCallback_ = this.onDeviceOrientation_.bind(this);\n  if (isIOS() && isInsideCrossOriginIFrame()) {\n    window.addEventListener('message', this.onMessageCallback_);\n  }\n  window.addEventListener('orientationchange', this.onOrientationChangeCallback_);\n  if (this.isWithoutDeviceMotion) {\n    window.addEventListener('deviceorientation', this.onDeviceOrientationCallback_);\n  } else {\n    window.addEventListener('devicemotion', this.onDeviceMotionCallback_);\n  }\n};\nFusionPoseSensor.prototype.stop = function () {\n  window.removeEventListener('devicemotion', this.onDeviceMotionCallback_);\n  window.removeEventListener('deviceorientation', this.onDeviceOrientationCallback_);\n  window.removeEventListener('orientationchange', this.onOrientationChangeCallback_);\n  window.removeEventListener('message', this.onMessageCallback_);\n};\nvar SENSOR_FREQUENCY = 60;\nvar X_AXIS = new Vector3(1, 0, 0);\nvar Z_AXIS = new Vector3(0, 0, 1);\nvar SENSOR_TO_VR = new Quaternion();\nSENSOR_TO_VR.setFromAxisAngle(X_AXIS, -Math.PI / 2);\nSENSOR_TO_VR.multiply(new Quaternion().setFromAxisAngle(Z_AXIS, Math.PI / 2));\nvar PoseSensor = function () {\n  function PoseSensor(config) {\n    classCallCheck(this, PoseSensor);\n    this.config = config;\n    this.sensor = null;\n    this.fusionSensor = null;\n    this._out = new Float32Array(4);\n    this.api = null;\n    this.errors = [];\n    this._sensorQ = new Quaternion();\n    this._outQ = new Quaternion();\n    this._onSensorRead = this._onSensorRead.bind(this);\n    this._onSensorError = this._onSensorError.bind(this);\n    this.init();\n  }\n  createClass(PoseSensor, [{\n    key: 'init',\n    value: function init() {\n      var sensor = null;\n      try {\n        sensor = new RelativeOrientationSensor({\n          frequency: SENSOR_FREQUENCY,\n          referenceFrame: 'screen'\n        });\n        sensor.addEventListener('error', this._onSensorError);\n      } catch (error) {\n        this.errors.push(error);\n        if (error.name === 'SecurityError') {\n          console.error('Cannot construct sensors due to the Feature Policy');\n          console.warn('Attempting to fall back using \"devicemotion\"; however this will ' + 'fail in the future without correct permissions.');\n          this.useDeviceMotion();\n        } else if (error.name === 'ReferenceError') {\n          this.useDeviceMotion();\n        } else {\n          console.error(error);\n        }\n      }\n      if (sensor) {\n        this.api = 'sensor';\n        this.sensor = sensor;\n        this.sensor.addEventListener('reading', this._onSensorRead);\n        this.sensor.start();\n      }\n    }\n  }, {\n    key: 'useDeviceMotion',\n    value: function useDeviceMotion() {\n      this.api = 'devicemotion';\n      this.fusionSensor = new FusionPoseSensor(this.config.K_FILTER, this.config.PREDICTION_TIME_S, this.config.YAW_ONLY, this.config.DEBUG);\n      if (this.sensor) {\n        this.sensor.removeEventListener('reading', this._onSensorRead);\n        this.sensor.removeEventListener('error', this._onSensorError);\n        this.sensor = null;\n      }\n    }\n  }, {\n    key: 'getOrientation',\n    value: function getOrientation() {\n      if (this.fusionSensor) {\n        return this.fusionSensor.getOrientation();\n      }\n      if (!this.sensor || !this.sensor.quaternion) {\n        this._out[0] = this._out[1] = this._out[2] = 0;\n        this._out[3] = 1;\n        return this._out;\n      }\n      var q = this.sensor.quaternion;\n      this._sensorQ.set(q[0], q[1], q[2], q[3]);\n      var out = this._outQ;\n      out.copy(SENSOR_TO_VR);\n      out.multiply(this._sensorQ);\n      if (this.config.YAW_ONLY) {\n        out.x = out.z = 0;\n        out.normalize();\n      }\n      this._out[0] = out.x;\n      this._out[1] = out.y;\n      this._out[2] = out.z;\n      this._out[3] = out.w;\n      return this._out;\n    }\n  }, {\n    key: '_onSensorError',\n    value: function _onSensorError(event) {\n      this.errors.push(event.error);\n      if (event.error.name === 'NotAllowedError') {\n        console.error('Permission to access sensor was denied');\n      } else if (event.error.name === 'NotReadableError') {\n        console.error('Sensor could not be read');\n      } else {\n        console.error(event.error);\n      }\n      this.useDeviceMotion();\n    }\n  }, {\n    key: '_onSensorRead',\n    value: function _onSensorRead() {}\n  }]);\n  return PoseSensor;\n}();\nvar rotateInstructionsAsset = \"<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>\";\nfunction RotateInstructions() {\n  this.loadIcon_();\n  var overlay = document.createElement('div');\n  var s = overlay.style;\n  s.position = 'fixed';\n  s.top = 0;\n  s.right = 0;\n  s.bottom = 0;\n  s.left = 0;\n  s.backgroundColor = 'gray';\n  s.fontFamily = 'sans-serif';\n  s.zIndex = 1000000;\n  var img = document.createElement('img');\n  img.src = this.icon;\n  var s = img.style;\n  s.marginLeft = '25%';\n  s.marginTop = '25%';\n  s.width = '50%';\n  overlay.appendChild(img);\n  var text = document.createElement('div');\n  var s = text.style;\n  s.textAlign = 'center';\n  s.fontSize = '16px';\n  s.lineHeight = '24px';\n  s.margin = '24px 25%';\n  s.width = '50%';\n  text.innerHTML = 'Place your phone into your Cardboard viewer.';\n  overlay.appendChild(text);\n  var snackbar = document.createElement('div');\n  var s = snackbar.style;\n  s.backgroundColor = '#CFD8DC';\n  s.position = 'fixed';\n  s.bottom = 0;\n  s.width = '100%';\n  s.height = '48px';\n  s.padding = '14px 24px';\n  s.boxSizing = 'border-box';\n  s.color = '#656A6B';\n  overlay.appendChild(snackbar);\n  var snackbarText = document.createElement('div');\n  snackbarText.style.float = 'left';\n  snackbarText.innerHTML = 'No Cardboard viewer?';\n  var snackbarButton = document.createElement('a');\n  snackbarButton.href = 'https://www.google.com/get/cardboard/get-cardboard/';\n  snackbarButton.innerHTML = 'get one';\n  snackbarButton.target = '_blank';\n  var s = snackbarButton.style;\n  s.float = 'right';\n  s.fontWeight = 600;\n  s.textTransform = 'uppercase';\n  s.borderLeft = '1px solid gray';\n  s.paddingLeft = '24px';\n  s.textDecoration = 'none';\n  s.color = '#656A6B';\n  snackbar.appendChild(snackbarText);\n  snackbar.appendChild(snackbarButton);\n  this.overlay = overlay;\n  this.text = text;\n  this.hide();\n}\nRotateInstructions.prototype.show = function (parent) {\n  if (!parent && !this.overlay.parentElement) {\n    document.body.appendChild(this.overlay);\n  } else if (parent) {\n    if (this.overlay.parentElement && this.overlay.parentElement != parent) this.overlay.parentElement.removeChild(this.overlay);\n    parent.appendChild(this.overlay);\n  }\n  this.overlay.style.display = 'block';\n  var img = this.overlay.querySelector('img');\n  var s = img.style;\n  if (isLandscapeMode()) {\n    s.width = '20%';\n    s.marginLeft = '40%';\n    s.marginTop = '3%';\n  } else {\n    s.width = '50%';\n    s.marginLeft = '25%';\n    s.marginTop = '25%';\n  }\n};\nRotateInstructions.prototype.hide = function () {\n  this.overlay.style.display = 'none';\n};\nRotateInstructions.prototype.showTemporarily = function (ms, parent) {\n  this.show(parent);\n  this.timer = setTimeout(this.hide.bind(this), ms);\n};\nRotateInstructions.prototype.disableShowTemporarily = function () {\n  clearTimeout(this.timer);\n};\nRotateInstructions.prototype.update = function () {\n  this.disableShowTemporarily();\n  if (!isLandscapeMode() && isMobile()) {\n    this.show();\n  } else {\n    this.hide();\n  }\n};\nRotateInstructions.prototype.loadIcon_ = function () {\n  this.icon = dataUri('image/svg+xml', rotateInstructionsAsset);\n};\nvar DEFAULT_VIEWER = 'CardboardV1';\nvar VIEWER_KEY = 'WEBVR_CARDBOARD_VIEWER';\nvar CLASS_NAME = 'webvr-polyfill-viewer-selector';\nfunction ViewerSelector(defaultViewer) {\n  try {\n    this.selectedKey = localStorage.getItem(VIEWER_KEY);\n  } catch (error) {\n    console.error('Failed to load viewer profile: %s', error);\n  }\n  if (!this.selectedKey) {\n    this.selectedKey = defaultViewer || DEFAULT_VIEWER;\n  }\n  this.dialog = this.createDialog_(DeviceInfo.Viewers);\n  this.root = null;\n  this.onChangeCallbacks_ = [];\n}\nViewerSelector.prototype.show = function (root) {\n  this.root = root;\n  root.appendChild(this.dialog);\n  var selected = this.dialog.querySelector('#' + this.selectedKey);\n  selected.checked = true;\n  this.dialog.style.display = 'block';\n};\nViewerSelector.prototype.hide = function () {\n  if (this.root && this.root.contains(this.dialog)) {\n    this.root.removeChild(this.dialog);\n  }\n  this.dialog.style.display = 'none';\n};\nViewerSelector.prototype.getCurrentViewer = function () {\n  return DeviceInfo.Viewers[this.selectedKey];\n};\nViewerSelector.prototype.getSelectedKey_ = function () {\n  var input = this.dialog.querySelector('input[name=field]:checked');\n  if (input) {\n    return input.id;\n  }\n  return null;\n};\nViewerSelector.prototype.onChange = function (cb) {\n  this.onChangeCallbacks_.push(cb);\n};\nViewerSelector.prototype.fireOnChange_ = function (viewer) {\n  for (var i = 0; i < this.onChangeCallbacks_.length; i++) {\n    this.onChangeCallbacks_[i](viewer);\n  }\n};\nViewerSelector.prototype.onSave_ = function () {\n  this.selectedKey = this.getSelectedKey_();\n  if (!this.selectedKey || !DeviceInfo.Viewers[this.selectedKey]) {\n    console.error('ViewerSelector.onSave_: this should never happen!');\n    return;\n  }\n  this.fireOnChange_(DeviceInfo.Viewers[this.selectedKey]);\n  try {\n    localStorage.setItem(VIEWER_KEY, this.selectedKey);\n  } catch (error) {\n    console.error('Failed to save viewer profile: %s', error);\n  }\n  this.hide();\n};\nViewerSelector.prototype.createDialog_ = function (options) {\n  var container = document.createElement('div');\n  container.classList.add(CLASS_NAME);\n  container.style.display = 'none';\n  var overlay = document.createElement('div');\n  var s = overlay.style;\n  s.position = 'fixed';\n  s.left = 0;\n  s.top = 0;\n  s.width = '100%';\n  s.height = '100%';\n  s.background = 'rgba(0, 0, 0, 0.3)';\n  overlay.addEventListener('click', this.hide.bind(this));\n  var width = 280;\n  var dialog = document.createElement('div');\n  var s = dialog.style;\n  s.boxSizing = 'border-box';\n  s.position = 'fixed';\n  s.top = '24px';\n  s.left = '50%';\n  s.marginLeft = -width / 2 + 'px';\n  s.width = width + 'px';\n  s.padding = '24px';\n  s.overflow = 'hidden';\n  s.background = '#fafafa';\n  s.fontFamily = \"'Roboto', sans-serif\";\n  s.boxShadow = '0px 5px 20px #666';\n  dialog.appendChild(this.createH1_('Select your viewer'));\n  for (var id in options) {\n    dialog.appendChild(this.createChoice_(id, options[id].label));\n  }\n  dialog.appendChild(this.createButton_('Save', this.onSave_.bind(this)));\n  container.appendChild(overlay);\n  container.appendChild(dialog);\n  return container;\n};\nViewerSelector.prototype.createH1_ = function (name) {\n  var h1 = document.createElement('h1');\n  var s = h1.style;\n  s.color = 'black';\n  s.fontSize = '20px';\n  s.fontWeight = 'bold';\n  s.marginTop = 0;\n  s.marginBottom = '24px';\n  h1.innerHTML = name;\n  return h1;\n};\nViewerSelector.prototype.createChoice_ = function (id, name) {\n  var div = document.createElement('div');\n  div.style.marginTop = '8px';\n  div.style.color = 'black';\n  var input = document.createElement('input');\n  input.style.fontSize = '30px';\n  input.setAttribute('id', id);\n  input.setAttribute('type', 'radio');\n  input.setAttribute('value', id);\n  input.setAttribute('name', 'field');\n  var label = document.createElement('label');\n  label.style.marginLeft = '4px';\n  label.setAttribute('for', id);\n  label.innerHTML = name;\n  div.appendChild(input);\n  div.appendChild(label);\n  return div;\n};\nViewerSelector.prototype.createButton_ = function (label, onclick) {\n  var button = document.createElement('button');\n  button.innerHTML = label;\n  var s = button.style;\n  s.float = 'right';\n  s.textTransform = 'uppercase';\n  s.color = '#1094f7';\n  s.fontSize = '14px';\n  s.letterSpacing = 0;\n  s.border = 0;\n  s.background = 'none';\n  s.marginTop = '16px';\n  button.addEventListener('click', onclick);\n  return button;\n};\nvar commonjsGlobal$$1 = typeof window !== 'undefined' ? window : typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : typeof self !== 'undefined' ? self : {};\nfunction unwrapExports$$1 (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\nfunction createCommonjsModule$$1(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\nvar NoSleep = createCommonjsModule$$1(function (module, exports) {\n(function webpackUniversalModuleDefinition(root, factory) {\n\tmodule.exports = factory();\n})(commonjsGlobal$$1, function() {\nreturn          (function(modules) {\n         \tvar installedModules = {};\n         \tfunction __webpack_require__(moduleId) {\n         \t\tif(installedModules[moduleId]) {\n         \t\t\treturn installedModules[moduleId].exports;\n         \t\t}\n         \t\tvar module = installedModules[moduleId] = {\n         \t\t\ti: moduleId,\n         \t\t\tl: false,\n         \t\t\texports: {}\n         \t\t};\n         \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n         \t\tmodule.l = true;\n         \t\treturn module.exports;\n         \t}\n         \t__webpack_require__.m = modules;\n         \t__webpack_require__.c = installedModules;\n         \t__webpack_require__.d = function(exports, name, getter) {\n         \t\tif(!__webpack_require__.o(exports, name)) {\n         \t\t\tObject.defineProperty(exports, name, {\n         \t\t\t\tconfigurable: false,\n         \t\t\t\tenumerable: true,\n         \t\t\t\tget: getter\n         \t\t\t});\n         \t\t}\n         \t};\n         \t__webpack_require__.n = function(module) {\n         \t\tvar getter = module && module.__esModule ?\n         \t\t\tfunction getDefault() { return module['default']; } :\n         \t\t\tfunction getModuleExports() { return module; };\n         \t\t__webpack_require__.d(getter, 'a', getter);\n         \t\treturn getter;\n         \t};\n         \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n         \t__webpack_require__.p = \"\";\n         \treturn __webpack_require__(__webpack_require__.s = 0);\n         })\n         ([\n      (function(module, exports, __webpack_require__) {\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nvar mediaFile = __webpack_require__(1);\nvar oldIOS = typeof navigator !== 'undefined' && parseFloat(('' + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ''])[1]).replace('undefined', '3_2').replace('_', '.').replace('_', '')) < 10 && !window.MSStream;\nvar NoSleep = function () {\n  function NoSleep() {\n    _classCallCheck(this, NoSleep);\n    if (oldIOS) {\n      this.noSleepTimer = null;\n    } else {\n      this.noSleepVideo = document.createElement('video');\n      this.noSleepVideo.setAttribute('playsinline', '');\n      this.noSleepVideo.setAttribute('src', mediaFile);\n      this.noSleepVideo.addEventListener('timeupdate', function (e) {\n        if (this.noSleepVideo.currentTime > 0.5) {\n          this.noSleepVideo.currentTime = Math.random();\n        }\n      }.bind(this));\n    }\n  }\n  _createClass(NoSleep, [{\n    key: 'enable',\n    value: function enable() {\n      if (oldIOS) {\n        this.disable();\n        this.noSleepTimer = window.setInterval(function () {\n          window.location.href = '/';\n          window.setTimeout(window.stop, 0);\n        }, 15000);\n      } else {\n        this.noSleepVideo.play();\n      }\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      if (oldIOS) {\n        if (this.noSleepTimer) {\n          window.clearInterval(this.noSleepTimer);\n          this.noSleepTimer = null;\n        }\n      } else {\n        this.noSleepVideo.pause();\n      }\n    }\n  }]);\n  return NoSleep;\n}();\nmodule.exports = NoSleep;\n      }),\n      (function(module, exports, __webpack_require__) {\nmodule.exports = 'data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA=';\n      })\n         ]);\n});\n});\nvar NoSleep$1 = unwrapExports$$1(NoSleep);\nvar nextDisplayId = 1000;\nvar defaultLeftBounds = [0, 0, 0.5, 1];\nvar defaultRightBounds = [0.5, 0, 0.5, 1];\nvar raf = window.requestAnimationFrame;\nvar caf = window.cancelAnimationFrame;\nfunction VRFrameData() {\n  this.leftProjectionMatrix = new Float32Array(16);\n  this.leftViewMatrix = new Float32Array(16);\n  this.rightProjectionMatrix = new Float32Array(16);\n  this.rightViewMatrix = new Float32Array(16);\n  this.pose = null;\n}\nfunction VRDisplayCapabilities(config) {\n  Object.defineProperties(this, {\n    hasPosition: {\n      writable: false, enumerable: true, value: config.hasPosition\n    },\n    hasExternalDisplay: {\n      writable: false, enumerable: true, value: config.hasExternalDisplay\n    },\n    canPresent: {\n      writable: false, enumerable: true, value: config.canPresent\n    },\n    maxLayers: {\n      writable: false, enumerable: true, value: config.maxLayers\n    },\n    hasOrientation: {\n      enumerable: true, get: function get() {\n        deprecateWarning('VRDisplayCapabilities.prototype.hasOrientation', 'VRDisplay.prototype.getFrameData');\n        return config.hasOrientation;\n      }\n    }\n  });\n}\nfunction VRDisplay(config) {\n  config = config || {};\n  var USE_WAKELOCK = 'wakelock' in config ? config.wakelock : true;\n  this.isPolyfilled = true;\n  this.displayId = nextDisplayId++;\n  this.displayName = '';\n  this.depthNear = 0.01;\n  this.depthFar = 10000.0;\n  this.isPresenting = false;\n  Object.defineProperty(this, 'isConnected', {\n    get: function get() {\n      deprecateWarning('VRDisplay.prototype.isConnected', 'VRDisplayCapabilities.prototype.hasExternalDisplay');\n      return false;\n    }\n  });\n  this.capabilities = new VRDisplayCapabilities({\n    hasPosition: false,\n    hasOrientation: false,\n    hasExternalDisplay: false,\n    canPresent: false,\n    maxLayers: 1\n  });\n  this.stageParameters = null;\n  this.waitingForPresent_ = false;\n  this.layer_ = null;\n  this.originalParent_ = null;\n  this.fullscreenElement_ = null;\n  this.fullscreenWrapper_ = null;\n  this.fullscreenElementCachedStyle_ = null;\n  this.fullscreenEventTarget_ = null;\n  this.fullscreenChangeHandler_ = null;\n  this.fullscreenErrorHandler_ = null;\n  if (USE_WAKELOCK && isMobile()) {\n    this.wakelock_ = new NoSleep$1();\n  }\n}\nVRDisplay.prototype.getFrameData = function (frameData) {\n  return frameDataFromPose(frameData, this._getPose(), this);\n};\nVRDisplay.prototype.getPose = function () {\n  deprecateWarning('VRDisplay.prototype.getPose', 'VRDisplay.prototype.getFrameData');\n  return this._getPose();\n};\nVRDisplay.prototype.resetPose = function () {\n  deprecateWarning('VRDisplay.prototype.resetPose');\n  return this._resetPose();\n};\nVRDisplay.prototype.getImmediatePose = function () {\n  deprecateWarning('VRDisplay.prototype.getImmediatePose', 'VRDisplay.prototype.getFrameData');\n  return this._getPose();\n};\nVRDisplay.prototype.requestAnimationFrame = function (callback) {\n  return raf(callback);\n};\nVRDisplay.prototype.cancelAnimationFrame = function (id) {\n  return caf(id);\n};\nVRDisplay.prototype.wrapForFullscreen = function (element) {\n  if (isIOS()) {\n    return element;\n  }\n  if (!this.fullscreenWrapper_) {\n    this.fullscreenWrapper_ = document.createElement('div');\n    var cssProperties = ['height: ' + Math.min(screen.height, screen.width) + 'px !important', 'top: 0 !important', 'left: 0 !important', 'right: 0 !important', 'border: 0', 'margin: 0', 'padding: 0', 'z-index: 999999 !important', 'position: fixed'];\n    this.fullscreenWrapper_.setAttribute('style', cssProperties.join('; ') + ';');\n    this.fullscreenWrapper_.classList.add('webvr-polyfill-fullscreen-wrapper');\n  }\n  if (this.fullscreenElement_ == element) {\n    return this.fullscreenWrapper_;\n  }\n  if (this.fullscreenElement_) {\n    if (this.originalParent_) {\n      this.originalParent_.appendChild(this.fullscreenElement_);\n    } else {\n      this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_);\n    }\n  }\n  this.fullscreenElement_ = element;\n  this.originalParent_ = element.parentElement;\n  if (!this.originalParent_) {\n    document.body.appendChild(element);\n  }\n  if (!this.fullscreenWrapper_.parentElement) {\n    var parent = this.fullscreenElement_.parentElement;\n    parent.insertBefore(this.fullscreenWrapper_, this.fullscreenElement_);\n    parent.removeChild(this.fullscreenElement_);\n  }\n  this.fullscreenWrapper_.insertBefore(this.fullscreenElement_, this.fullscreenWrapper_.firstChild);\n  this.fullscreenElementCachedStyle_ = this.fullscreenElement_.getAttribute('style');\n  var self = this;\n  function applyFullscreenElementStyle() {\n    if (!self.fullscreenElement_) {\n      return;\n    }\n    var cssProperties = ['position: absolute', 'top: 0', 'left: 0', 'width: ' + Math.max(screen.width, screen.height) + 'px', 'height: ' + Math.min(screen.height, screen.width) + 'px', 'border: 0', 'margin: 0', 'padding: 0'];\n    self.fullscreenElement_.setAttribute('style', cssProperties.join('; ') + ';');\n  }\n  applyFullscreenElementStyle();\n  return this.fullscreenWrapper_;\n};\nVRDisplay.prototype.removeFullscreenWrapper = function () {\n  if (!this.fullscreenElement_) {\n    return;\n  }\n  var element = this.fullscreenElement_;\n  if (this.fullscreenElementCachedStyle_) {\n    element.setAttribute('style', this.fullscreenElementCachedStyle_);\n  } else {\n    element.removeAttribute('style');\n  }\n  this.fullscreenElement_ = null;\n  this.fullscreenElementCachedStyle_ = null;\n  var parent = this.fullscreenWrapper_.parentElement;\n  this.fullscreenWrapper_.removeChild(element);\n  if (this.originalParent_ === parent) {\n    parent.insertBefore(element, this.fullscreenWrapper_);\n  }\n  else if (this.originalParent_) {\n      this.originalParent_.appendChild(element);\n    }\n  parent.removeChild(this.fullscreenWrapper_);\n  return element;\n};\nVRDisplay.prototype.requestPresent = function (layers) {\n  var wasPresenting = this.isPresenting;\n  var self = this;\n  if (!(layers instanceof Array)) {\n    deprecateWarning('VRDisplay.prototype.requestPresent with non-array argument', 'an array of VRLayers as the first argument');\n    layers = [layers];\n  }\n  return new Promise(function (resolve, reject) {\n    if (!self.capabilities.canPresent) {\n      reject(new Error('VRDisplay is not capable of presenting.'));\n      return;\n    }\n    if (layers.length == 0 || layers.length > self.capabilities.maxLayers) {\n      reject(new Error('Invalid number of layers.'));\n      return;\n    }\n    var incomingLayer = layers[0];\n    if (!incomingLayer.source) {\n      resolve();\n      return;\n    }\n    var leftBounds = incomingLayer.leftBounds || defaultLeftBounds;\n    var rightBounds = incomingLayer.rightBounds || defaultRightBounds;\n    if (wasPresenting) {\n      var layer = self.layer_;\n      if (layer.source !== incomingLayer.source) {\n        layer.source = incomingLayer.source;\n      }\n      for (var i = 0; i < 4; i++) {\n        layer.leftBounds[i] = leftBounds[i];\n        layer.rightBounds[i] = rightBounds[i];\n      }\n      self.wrapForFullscreen(self.layer_.source);\n      self.updatePresent_();\n      resolve();\n      return;\n    }\n    self.layer_ = {\n      predistorted: incomingLayer.predistorted,\n      source: incomingLayer.source,\n      leftBounds: leftBounds.slice(0),\n      rightBounds: rightBounds.slice(0)\n    };\n    self.waitingForPresent_ = false;\n    if (self.layer_ && self.layer_.source) {\n      var fullscreenElement = self.wrapForFullscreen(self.layer_.source);\n      var onFullscreenChange = function onFullscreenChange() {\n        var actualFullscreenElement = getFullscreenElement();\n        self.isPresenting = fullscreenElement === actualFullscreenElement;\n        if (self.isPresenting) {\n          if (screen.orientation && screen.orientation.lock) {\n            screen.orientation.lock('landscape-primary').catch(function (error) {\n              console.error('screen.orientation.lock() failed due to', error.message);\n            });\n          }\n          self.waitingForPresent_ = false;\n          self.beginPresent_();\n          resolve();\n        } else {\n          if (screen.orientation && screen.orientation.unlock) {\n            screen.orientation.unlock();\n          }\n          self.removeFullscreenWrapper();\n          self.disableWakeLock();\n          self.endPresent_();\n          self.removeFullscreenListeners_();\n        }\n        self.fireVRDisplayPresentChange_();\n      };\n      var onFullscreenError = function onFullscreenError() {\n        if (!self.waitingForPresent_) {\n          return;\n        }\n        self.removeFullscreenWrapper();\n        self.removeFullscreenListeners_();\n        self.disableWakeLock();\n        self.waitingForPresent_ = false;\n        self.isPresenting = false;\n        reject(new Error('Unable to present.'));\n      };\n      self.addFullscreenListeners_(fullscreenElement, onFullscreenChange, onFullscreenError);\n      if (requestFullscreen(fullscreenElement)) {\n        self.enableWakeLock();\n        self.waitingForPresent_ = true;\n      } else if (isIOS() || isWebViewAndroid()) {\n        self.enableWakeLock();\n        self.isPresenting = true;\n        self.beginPresent_();\n        self.fireVRDisplayPresentChange_();\n        resolve();\n      }\n    }\n    if (!self.waitingForPresent_ && !isIOS()) {\n      exitFullscreen();\n      reject(new Error('Unable to present.'));\n    }\n  });\n};\nVRDisplay.prototype.exitPresent = function () {\n  var wasPresenting = this.isPresenting;\n  var self = this;\n  this.isPresenting = false;\n  this.layer_ = null;\n  this.disableWakeLock();\n  return new Promise(function (resolve, reject) {\n    if (wasPresenting) {\n      if (!exitFullscreen() && isIOS()) {\n        self.endPresent_();\n        self.fireVRDisplayPresentChange_();\n      }\n      if (isWebViewAndroid()) {\n        self.removeFullscreenWrapper();\n        self.removeFullscreenListeners_();\n        self.endPresent_();\n        self.fireVRDisplayPresentChange_();\n      }\n      resolve();\n    } else {\n      reject(new Error('Was not presenting to VRDisplay.'));\n    }\n  });\n};\nVRDisplay.prototype.getLayers = function () {\n  if (this.layer_) {\n    return [this.layer_];\n  }\n  return [];\n};\nVRDisplay.prototype.fireVRDisplayPresentChange_ = function () {\n  var event = new CustomEvent('vrdisplaypresentchange', { detail: { display: this } });\n  window.dispatchEvent(event);\n};\nVRDisplay.prototype.fireVRDisplayConnect_ = function () {\n  var event = new CustomEvent('vrdisplayconnect', { detail: { display: this } });\n  window.dispatchEvent(event);\n};\nVRDisplay.prototype.addFullscreenListeners_ = function (element, changeHandler, errorHandler) {\n  this.removeFullscreenListeners_();\n  this.fullscreenEventTarget_ = element;\n  this.fullscreenChangeHandler_ = changeHandler;\n  this.fullscreenErrorHandler_ = errorHandler;\n  if (changeHandler) {\n    if (document.fullscreenEnabled) {\n      element.addEventListener('fullscreenchange', changeHandler, false);\n    } else if (document.webkitFullscreenEnabled) {\n      element.addEventListener('webkitfullscreenchange', changeHandler, false);\n    } else if (document.mozFullScreenEnabled) {\n      document.addEventListener('mozfullscreenchange', changeHandler, false);\n    } else if (document.msFullscreenEnabled) {\n      element.addEventListener('msfullscreenchange', changeHandler, false);\n    }\n  }\n  if (errorHandler) {\n    if (document.fullscreenEnabled) {\n      element.addEventListener('fullscreenerror', errorHandler, false);\n    } else if (document.webkitFullscreenEnabled) {\n      element.addEventListener('webkitfullscreenerror', errorHandler, false);\n    } else if (document.mozFullScreenEnabled) {\n      document.addEventListener('mozfullscreenerror', errorHandler, false);\n    } else if (document.msFullscreenEnabled) {\n      element.addEventListener('msfullscreenerror', errorHandler, false);\n    }\n  }\n};\nVRDisplay.prototype.removeFullscreenListeners_ = function () {\n  if (!this.fullscreenEventTarget_) return;\n  var element = this.fullscreenEventTarget_;\n  if (this.fullscreenChangeHandler_) {\n    var changeHandler = this.fullscreenChangeHandler_;\n    element.removeEventListener('fullscreenchange', changeHandler, false);\n    element.removeEventListener('webkitfullscreenchange', changeHandler, false);\n    document.removeEventListener('mozfullscreenchange', changeHandler, false);\n    element.removeEventListener('msfullscreenchange', changeHandler, false);\n  }\n  if (this.fullscreenErrorHandler_) {\n    var errorHandler = this.fullscreenErrorHandler_;\n    element.removeEventListener('fullscreenerror', errorHandler, false);\n    element.removeEventListener('webkitfullscreenerror', errorHandler, false);\n    document.removeEventListener('mozfullscreenerror', errorHandler, false);\n    element.removeEventListener('msfullscreenerror', errorHandler, false);\n  }\n  this.fullscreenEventTarget_ = null;\n  this.fullscreenChangeHandler_ = null;\n  this.fullscreenErrorHandler_ = null;\n};\nVRDisplay.prototype.enableWakeLock = function () {\n  if (this.wakelock_) {\n    this.wakelock_.enable();\n  }\n};\nVRDisplay.prototype.disableWakeLock = function () {\n  if (this.wakelock_) {\n    this.wakelock_.disable();\n  }\n};\nVRDisplay.prototype.beginPresent_ = function () {\n};\nVRDisplay.prototype.endPresent_ = function () {\n};\nVRDisplay.prototype.submitFrame = function (pose) {\n};\nVRDisplay.prototype.getEyeParameters = function (whichEye) {\n  return null;\n};\nvar config = {\n  ADDITIONAL_VIEWERS: [],\n  DEFAULT_VIEWER: '',\n  MOBILE_WAKE_LOCK: true,\n  DEBUG: false,\n  DPDB_URL: 'https://dpdb.webvr.rocks/dpdb.json',\n  K_FILTER: 0.98,\n  PREDICTION_TIME_S: 0.040,\n  CARDBOARD_UI_DISABLED: false,\n  ROTATE_INSTRUCTIONS_DISABLED: false,\n  YAW_ONLY: false,\n  BUFFER_SCALE: 0.5,\n  DIRTY_SUBMIT_FRAME_BINDINGS: false\n};\nvar Eye = {\n  LEFT: 'left',\n  RIGHT: 'right'\n};\nfunction CardboardVRDisplay(config$$1) {\n  var defaults = extend({}, config);\n  config$$1 = extend(defaults, config$$1 || {});\n  VRDisplay.call(this, {\n    wakelock: config$$1.MOBILE_WAKE_LOCK\n  });\n  this.config = config$$1;\n  this.displayName = 'Cardboard VRDisplay';\n  this.capabilities = new VRDisplayCapabilities({\n    hasPosition: false,\n    hasOrientation: true,\n    hasExternalDisplay: false,\n    canPresent: true,\n    maxLayers: 1\n  });\n  this.stageParameters = null;\n  this.bufferScale_ = this.config.BUFFER_SCALE;\n  this.poseSensor_ = new PoseSensor(this.config);\n  this.distorter_ = null;\n  this.cardboardUI_ = null;\n  this.dpdb_ = new Dpdb(this.config.DPDB_URL, this.onDeviceParamsUpdated_.bind(this));\n  this.deviceInfo_ = new DeviceInfo(this.dpdb_.getDeviceParams(), config$$1.ADDITIONAL_VIEWERS);\n  this.viewerSelector_ = new ViewerSelector(config$$1.DEFAULT_VIEWER);\n  this.viewerSelector_.onChange(this.onViewerChanged_.bind(this));\n  this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer());\n  if (!this.config.ROTATE_INSTRUCTIONS_DISABLED) {\n    this.rotateInstructions_ = new RotateInstructions();\n  }\n  if (isIOS()) {\n    window.addEventListener('resize', this.onResize_.bind(this));\n  }\n}\nCardboardVRDisplay.prototype = Object.create(VRDisplay.prototype);\nCardboardVRDisplay.prototype._getPose = function () {\n  return {\n    position: null,\n    orientation: this.poseSensor_.getOrientation(),\n    linearVelocity: null,\n    linearAcceleration: null,\n    angularVelocity: null,\n    angularAcceleration: null\n  };\n};\nCardboardVRDisplay.prototype._resetPose = function () {\n  if (this.poseSensor_.resetPose) {\n    this.poseSensor_.resetPose();\n  }\n};\nCardboardVRDisplay.prototype._getFieldOfView = function (whichEye) {\n  var fieldOfView;\n  if (whichEye == Eye.LEFT) {\n    fieldOfView = this.deviceInfo_.getFieldOfViewLeftEye();\n  } else if (whichEye == Eye.RIGHT) {\n    fieldOfView = this.deviceInfo_.getFieldOfViewRightEye();\n  } else {\n    console.error('Invalid eye provided: %s', whichEye);\n    return null;\n  }\n  return fieldOfView;\n};\nCardboardVRDisplay.prototype._getEyeOffset = function (whichEye) {\n  var offset;\n  if (whichEye == Eye.LEFT) {\n    offset = [-this.deviceInfo_.viewer.interLensDistance * 0.5, 0.0, 0.0];\n  } else if (whichEye == Eye.RIGHT) {\n    offset = [this.deviceInfo_.viewer.interLensDistance * 0.5, 0.0, 0.0];\n  } else {\n    console.error('Invalid eye provided: %s', whichEye);\n    return null;\n  }\n  return offset;\n};\nCardboardVRDisplay.prototype.getEyeParameters = function (whichEye) {\n  var offset = this._getEyeOffset(whichEye);\n  var fieldOfView = this._getFieldOfView(whichEye);\n  var eyeParams = {\n    offset: offset,\n    renderWidth: this.deviceInfo_.device.width * 0.5 * this.bufferScale_,\n    renderHeight: this.deviceInfo_.device.height * this.bufferScale_\n  };\n  Object.defineProperty(eyeParams, 'fieldOfView', {\n    enumerable: true,\n    get: function get() {\n      deprecateWarning('VRFieldOfView', 'VRFrameData\\'s projection matrices');\n      return fieldOfView;\n    }\n  });\n  return eyeParams;\n};\nCardboardVRDisplay.prototype.onDeviceParamsUpdated_ = function (newParams) {\n  if (this.config.DEBUG) {\n    console.log('DPDB reported that device params were updated.');\n  }\n  this.deviceInfo_.updateDeviceParams(newParams);\n  if (this.distorter_) {\n    this.distorter_.updateDeviceInfo(this.deviceInfo_);\n  }\n};\nCardboardVRDisplay.prototype.updateBounds_ = function () {\n  if (this.layer_ && this.distorter_ && (this.layer_.leftBounds || this.layer_.rightBounds)) {\n    this.distorter_.setTextureBounds(this.layer_.leftBounds, this.layer_.rightBounds);\n  }\n};\nCardboardVRDisplay.prototype.beginPresent_ = function () {\n  var gl = this.layer_.source.getContext('webgl');\n  if (!gl) gl = this.layer_.source.getContext('experimental-webgl');\n  if (!gl) gl = this.layer_.source.getContext('webgl2');\n  if (!gl) return;\n  if (this.layer_.predistorted) {\n    if (!this.config.CARDBOARD_UI_DISABLED) {\n      gl.canvas.width = getScreenWidth() * this.bufferScale_;\n      gl.canvas.height = getScreenHeight() * this.bufferScale_;\n      this.cardboardUI_ = new CardboardUI(gl);\n    }\n  } else {\n    if (!this.config.CARDBOARD_UI_DISABLED) {\n      this.cardboardUI_ = new CardboardUI(gl);\n    }\n    this.distorter_ = new CardboardDistorter(gl, this.cardboardUI_, this.config.BUFFER_SCALE, this.config.DIRTY_SUBMIT_FRAME_BINDINGS);\n    this.distorter_.updateDeviceInfo(this.deviceInfo_);\n  }\n  if (this.cardboardUI_) {\n    this.cardboardUI_.listen(function (e) {\n      this.viewerSelector_.show(this.layer_.source.parentElement);\n      e.stopPropagation();\n      e.preventDefault();\n    }.bind(this), function (e) {\n      this.exitPresent();\n      e.stopPropagation();\n      e.preventDefault();\n    }.bind(this));\n  }\n  if (this.rotateInstructions_) {\n    if (isLandscapeMode() && isMobile()) {\n      this.rotateInstructions_.showTemporarily(3000, this.layer_.source.parentElement);\n    } else {\n      this.rotateInstructions_.update();\n    }\n  }\n  this.orientationHandler = this.onOrientationChange_.bind(this);\n  window.addEventListener('orientationchange', this.orientationHandler);\n  this.vrdisplaypresentchangeHandler = this.updateBounds_.bind(this);\n  window.addEventListener('vrdisplaypresentchange', this.vrdisplaypresentchangeHandler);\n  this.fireVRDisplayDeviceParamsChange_();\n};\nCardboardVRDisplay.prototype.endPresent_ = function () {\n  if (this.distorter_) {\n    this.distorter_.destroy();\n    this.distorter_ = null;\n  }\n  if (this.cardboardUI_) {\n    this.cardboardUI_.destroy();\n    this.cardboardUI_ = null;\n  }\n  if (this.rotateInstructions_) {\n    this.rotateInstructions_.hide();\n  }\n  this.viewerSelector_.hide();\n  window.removeEventListener('orientationchange', this.orientationHandler);\n  window.removeEventListener('vrdisplaypresentchange', this.vrdisplaypresentchangeHandler);\n};\nCardboardVRDisplay.prototype.updatePresent_ = function () {\n  this.endPresent_();\n  this.beginPresent_();\n};\nCardboardVRDisplay.prototype.submitFrame = function (pose) {\n  if (this.distorter_) {\n    this.updateBounds_();\n    this.distorter_.submitFrame();\n  } else if (this.cardboardUI_ && this.layer_) {\n    var canvas = this.layer_.source.getContext('webgl').canvas;\n    if (canvas.width != this.lastWidth || canvas.height != this.lastHeight) {\n      this.cardboardUI_.onResize();\n    }\n    this.lastWidth = canvas.width;\n    this.lastHeight = canvas.height;\n    this.cardboardUI_.render();\n  }\n};\nCardboardVRDisplay.prototype.onOrientationChange_ = function (e) {\n  this.viewerSelector_.hide();\n  if (this.rotateInstructions_) {\n    this.rotateInstructions_.update();\n  }\n  this.onResize_();\n};\nCardboardVRDisplay.prototype.onResize_ = function (e) {\n  if (this.layer_) {\n    var gl = this.layer_.source.getContext('webgl');\n    var cssProperties = ['position: absolute', 'top: 0', 'left: 0',\n    'width: 100vw', 'height: 100vh', 'border: 0', 'margin: 0',\n    'padding: 0px', 'box-sizing: content-box'];\n    gl.canvas.setAttribute('style', cssProperties.join('; ') + ';');\n    safariCssSizeWorkaround(gl.canvas);\n  }\n};\nCardboardVRDisplay.prototype.onViewerChanged_ = function (viewer) {\n  this.deviceInfo_.setViewer(viewer);\n  if (this.distorter_) {\n    this.distorter_.updateDeviceInfo(this.deviceInfo_);\n  }\n  this.fireVRDisplayDeviceParamsChange_();\n};\nCardboardVRDisplay.prototype.fireVRDisplayDeviceParamsChange_ = function () {\n  var event = new CustomEvent('vrdisplaydeviceparamschange', {\n    detail: {\n      vrdisplay: this,\n      deviceInfo: this.deviceInfo_\n    }\n  });\n  window.dispatchEvent(event);\n};\nCardboardVRDisplay.VRFrameData = VRFrameData;\nCardboardVRDisplay.VRDisplay = VRDisplay;\nreturn CardboardVRDisplay;\n})));\n});\nvar CardboardVRDisplay = unwrapExports(cardboardVrDisplay);\n\nclass PolyfilledXRDevice extends EventTarget {\n  constructor(global) {\n    super();\n    this.global = global;\n    this.onWindowResize = this.onWindowResize.bind(this);\n    this.global.window.addEventListener('resize', this.onWindowResize);\n    this.environmentBlendMode = 'opaque';\n  }\n  get depthNear() { throw new Error('Not implemented'); }\n  set depthNear(val) { throw new Error('Not implemented'); }\n  get depthFar() { throw new Error('Not implemented'); }\n  set depthFar(val) { throw new Error('Not implemented'); }\n  onBaseLayerSet(sessionId, layer) { throw new Error('Not implemented'); }\n  supportsSession(options={}) { throw new Error('Not implemented'); }\n  async requestSession(options={}) { throw new Error('Not implemented'); }\n  requestAnimationFrame(callback) { throw new Error('Not implemented'); }\n  onFrameStart(sessionId) { throw new Error('Not implemented'); }\n  onFrameEnd(sessionId) { throw new Error('Not implemented'); }\n  requestStageBounds() { throw new Error('Not implemented'); }\n  async requestFrameOfReferenceTransform(type, options) {\n    return undefined;\n  }\n  cancelAnimationFrame(handle) { throw new Error('Not implemented'); }\n  endSession(sessionId) { throw new Error('Not implemented'); }\n  getViewport(sessionId, eye, layer, target) { throw new Error('Not implemented'); }\n  getProjectionMatrix(eye) { throw new Error('Not implemented'); }\n  getBasePoseMatrix() { throw new Error('Not implemented'); }\n  getBaseViewMatrix(eye) { throw new Error('Not implemented'); }\n  getInputSources() { throw new Error('Not implemented'); }\n  getInputPose(inputSource, coordinateSystem) { throw new Error('Not implemented'); }\n  onWindowResize() {\n    this.onWindowResize();\n  }\n}\n\nfunction create$2() {\n  let out = new ARRAY_TYPE(9);\n  if(ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n\nfunction create$3() {\n  let out = new ARRAY_TYPE(4);\n  if(ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n  return out;\n}\nfunction clone$3(a) {\n  let out = new ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nfunction copy$3(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction normalize$1(out, a) {\n  let x = a[0];\n  let y = a[1];\n  let z = a[2];\n  let w = a[3];\n  let len = x*x + y*y + z*z + w*w;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    out[0] = x * len;\n    out[1] = y * len;\n    out[2] = z * len;\n    out[3] = w * len;\n  }\n  return out;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst forEach$1 = (function() {\n  let vec = create$3();\n  return function(a, stride, offset, count, fn, arg) {\n    let i, l;\n    if(!stride) {\n      stride = 4;\n    }\n    if(!offset) {\n      offset = 0;\n    }\n    if(count) {\n      l = Math.min((count * stride) + offset, a.length);\n    } else {\n      l = a.length;\n    }\n    for(i = offset; i < l; i += stride) {\n      vec[0] = a[i]; vec[1] = a[i+1]; vec[2] = a[i+2]; vec[3] = a[i+3];\n      fn(vec, vec, arg);\n      a[i] = vec[0]; a[i+1] = vec[1]; a[i+2] = vec[2]; a[i+3] = vec[3];\n    }\n    return a;\n  };\n})();\n\nfunction create$4() {\n  let out = new ARRAY_TYPE(4);\n  if(ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  out[3] = 1;\n  return out;\n}\n\nfunction setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  let s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n\nfunction multiply$4(out, a, b) {\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bx = b[0], by = b[1], bz = b[2], bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n\n\n\n\nfunction slerp(out, a, b, t) {\n  let ax = a[0], ay = a[1], az = a[2], aw = a[3];\n  let bx = b[0], by = b[1], bz = b[2], bw = b[3];\n  let omega, cosom, sinom, scale0, scale1;\n  cosom = ax * bx + ay * by + az * bz + aw * bw;\n  if ( cosom < 0.0 ) {\n    cosom = -cosom;\n    bx = - bx;\n    by = - by;\n    bz = - bz;\n    bw = - bw;\n  }\n  if ( (1.0 - cosom) > EPSILON ) {\n    omega  = Math.acos(cosom);\n    sinom  = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    scale0 = 1.0 - t;\n    scale1 = t;\n  }\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n\nfunction invert$2(out, a) {\n  let a0 = a[0], a1 = a[1], a2 = a[2], a3 = a[3];\n  let dot$$1 = a0*a0 + a1*a1 + a2*a2 + a3*a3;\n  let invDot = dot$$1 ? 1.0/dot$$1 : 0;\n  out[0] = -a0*invDot;\n  out[1] = -a1*invDot;\n  out[2] = -a2*invDot;\n  out[3] = a3*invDot;\n  return out;\n}\n\nfunction fromMat3(out, m) {\n  let fTrace = m[0] + m[4] + m[8];\n  let fRoot;\n  if ( fTrace > 0.0 ) {\n    fRoot = Math.sqrt(fTrace + 1.0);\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5/fRoot;\n    out[0] = (m[5]-m[7])*fRoot;\n    out[1] = (m[6]-m[2])*fRoot;\n    out[2] = (m[1]-m[3])*fRoot;\n  } else {\n    let i = 0;\n    if ( m[4] > m[0] )\n      i = 1;\n    if ( m[8] > m[i*3+i] )\n      i = 2;\n    let j = (i+1)%3;\n    let k = (i+2)%3;\n    fRoot = Math.sqrt(m[i*3+i]-m[j*3+j]-m[k*3+k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j*3+k] - m[k*3+j]) * fRoot;\n    out[j] = (m[j*3+i] + m[i*3+j]) * fRoot;\n    out[k] = (m[k*3+i] + m[i*3+k]) * fRoot;\n  }\n  return out;\n}\nfunction fromEuler(out, x, y, z) {\n    let halfToRad = 0.5 * Math.PI / 180.0;\n    x *= halfToRad;\n    y *= halfToRad;\n    z *= halfToRad;\n    let sx = Math.sin(x);\n    let cx = Math.cos(x);\n    let sy = Math.sin(y);\n    let cy = Math.cos(y);\n    let sz = Math.sin(z);\n    let cz = Math.cos(z);\n    out[0] = sx * cy * cz - cx * sy * sz;\n    out[1] = cx * sy * cz + sx * cy * sz;\n    out[2] = cx * cy * sz - sx * sy * cz;\n    out[3] = cx * cy * cz + sx * sy * sz;\n    return out;\n}\n\nconst clone$4 = clone$3;\n\nconst copy$4 = copy$3;\n\n\n\n\n\n\n\n\n\n\nconst normalize$2 = normalize$1;\n\n\nconst rotationTo = (function() {\n  let tmpvec3 = create$1();\n  let xUnitVec3 = fromValues$1(1,0,0);\n  let yUnitVec3 = fromValues$1(0,1,0);\n  return function(out, a, b) {\n    let dot$$1 = dot(a, b);\n    if (dot$$1 < -0.999999) {\n      cross(tmpvec3, xUnitVec3, a);\n      if (len(tmpvec3) < 0.000001)\n        cross(tmpvec3, yUnitVec3, a);\n      normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot$$1 > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot$$1;\n      return normalize$2(out, out);\n    }\n  };\n})();\nconst sqlerp = (function () {\n  let temp1 = create$4();\n  let temp2 = create$4();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}());\nconst setAxes = (function() {\n  let matr = create$2();\n  return function(out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize$2(out, fromMat3(out, matr));\n  };\n})();\n\nconst HEAD_ELBOW_OFFSET_RIGHTHANDED = fromValues$1(0.155, -0.465, -0.15);\nconst HEAD_ELBOW_OFFSET_LEFTHANDED = fromValues$1(-0.155, -0.465, -0.15);\nconst ELBOW_WRIST_OFFSET = fromValues$1(0, 0, -0.25);\nconst WRIST_CONTROLLER_OFFSET = fromValues$1(0, 0, 0.05);\nconst ARM_EXTENSION_OFFSET = fromValues$1(-0.08, 0.14, 0.08);\nconst ELBOW_BEND_RATIO = 0.4;\nconst EXTENSION_RATIO_WEIGHT = 0.4;\nconst MIN_ANGULAR_SPEED = 0.61;\nconst MIN_ANGLE_DELTA = 0.175;\nconst MIN_EXTENSION_COS = 0.12;\nconst MAX_EXTENSION_COS = 0.87;\nconst RAD_TO_DEG = 180 / Math.PI;\nfunction eulerFromQuaternion(out, q, order) {\n  function clamp(value, min$$1, max$$1) {\n    return (value < min$$1 ? min$$1 : (value > max$$1 ? max$$1 : value));\n  }\n  var sqx = q[0] * q[0];\n  var sqy = q[1] * q[1];\n  var sqz = q[2] * q[2];\n  var sqw = q[3] * q[3];\n  if ( order === 'XYZ' ) {\n    out[0] = Math.atan2( 2 * ( q[0] * q[3] - q[1] * q[2] ), ( sqw - sqx - sqy + sqz ) );\n    out[1] = Math.asin(  clamp( 2 * ( q[0] * q[2] + q[1] * q[3] ), -1, 1 ) );\n    out[2] = Math.atan2( 2 * ( q[2] * q[3] - q[0] * q[1] ), ( sqw + sqx - sqy - sqz ) );\n  } else if ( order ===  'YXZ' ) {\n    out[0] = Math.asin(  clamp( 2 * ( q[0] * q[3] - q[1] * q[2] ), -1, 1 ) );\n    out[1] = Math.atan2( 2 * ( q[0] * q[2] + q[1] * q[3] ), ( sqw - sqx - sqy + sqz ) );\n    out[2] = Math.atan2( 2 * ( q[0] * q[1] + q[2] * q[3] ), ( sqw - sqx + sqy - sqz ) );\n  } else if ( order === 'ZXY' ) {\n    out[0] = Math.asin(  clamp( 2 * ( q[0] * q[3] + q[1] * q[2] ), -1, 1 ) );\n    out[1] = Math.atan2( 2 * ( q[1] * q[3] - q[2] * q[0] ), ( sqw - sqx - sqy + sqz ) );\n    out[2] = Math.atan2( 2 * ( q[2] * q[3] - q[0] * q[1] ), ( sqw - sqx + sqy - sqz ) );\n  } else if ( order === 'ZYX' ) {\n    out[0] = Math.atan2( 2 * ( q[0] * q[3] + q[2] * q[1] ), ( sqw - sqx - sqy + sqz ) );\n    out[1] = Math.asin(  clamp( 2 * ( q[1] * q[3] - q[0] * q[2] ), -1, 1 ) );\n    out[2] = Math.atan2( 2 * ( q[0] * q[1] + q[2] * q[3] ), ( sqw + sqx - sqy - sqz ) );\n  } else if ( order === 'YZX' ) {\n    out[0] = Math.atan2( 2 * ( q[0] * q[3] - q[2] * q[1] ), ( sqw - sqx + sqy - sqz ) );\n    out[1] = Math.atan2( 2 * ( q[1] * q[3] - q[0] * q[2] ), ( sqw + sqx - sqy - sqz ) );\n    out[2] = Math.asin(  clamp( 2 * ( q[0] * q[1] + q[2] * q[3] ), -1, 1 ) );\n  } else if ( order === 'XZY' ) {\n    out[0] = Math.atan2( 2 * ( q[0] * q[3] + q[1] * q[2] ), ( sqw - sqx + sqy - sqz ) );\n    out[1] = Math.atan2( 2 * ( q[0] * q[2] + q[1] * q[3] ), ( sqw + sqx - sqy - sqz ) );\n    out[2] = Math.asin(  clamp( 2 * ( q[2] * q[3] - q[0] * q[1] ), -1, 1 ) );\n  } else {\n    console.log('No order given for quaternion to euler conversion.');\n    return;\n  }\n}\nclass OrientationArmModel {\n  constructor() {\n    this.hand = 'right';\n    this.headElbowOffset = HEAD_ELBOW_OFFSET_RIGHTHANDED;\n    this.controllerQ = create$4();\n    this.lastControllerQ = create$4();\n    this.headQ = create$4();\n    this.headPos = create$1();\n    this.elbowPos = create$1();\n    this.wristPos = create$1();\n    this.time = null;\n    this.lastTime = null;\n    this.rootQ = create$4();\n    this.position = create$1();\n  }\n  setHandedness(hand) {\n    if (this.hand != hand) {\n      this.hand = hand;\n      if (this.hand == 'left') {\n        this.headElbowOffset = HEAD_ELBOW_OFFSET_LEFTHANDED;\n      } else {\n        this.headElbowOffset = HEAD_ELBOW_OFFSET_RIGHTHANDED;\n      }\n    }\n  }\n  update(controllerOrientation, headPoseMatrix) {\n    this.time = now$1();\n    if (controllerOrientation) {\n      copy$4(this.lastControllerQ, this.controllerQ);\n      copy$4(this.controllerQ, controllerOrientation);\n    }\n    if (headPoseMatrix) {\n      getTranslation(this.headPos, headPoseMatrix);\n      getRotation(this.headQ, headPoseMatrix);\n    }\n    let headYawQ = this.getHeadYawOrientation_();\n    let angleDelta = this.quatAngle_(this.lastControllerQ, this.controllerQ);\n    let timeDelta = (this.time - this.lastTime) / 1000;\n    let controllerAngularSpeed = angleDelta / timeDelta;\n    if (controllerAngularSpeed > MIN_ANGULAR_SPEED) {\n      slerp(this.rootQ, this.rootQ, headYawQ,\n                 Math.min(angleDelta / MIN_ANGLE_DELTA, 1.0));\n    } else {\n      copy$4(this.rootQ, headYawQ);\n    }\n    let controllerForward = fromValues$1(0, 0, -1.0);\n    transformQuat(controllerForward, controllerForward, this.controllerQ);\n    let controllerDotY = dot(controllerForward, [0, 1, 0]);\n    let extensionRatio = this.clamp_(\n        (controllerDotY - MIN_EXTENSION_COS) / MAX_EXTENSION_COS, 0.0, 1.0);\n    let controllerCameraQ = clone$4(this.rootQ);\n    invert$2(controllerCameraQ, controllerCameraQ);\n    multiply$4(controllerCameraQ, controllerCameraQ, this.controllerQ);\n    let elbowPos = this.elbowPos;\n    copy$1(elbowPos, this.headPos);\n    add$1(elbowPos, elbowPos, this.headElbowOffset);\n    let elbowOffset = clone$1(ARM_EXTENSION_OFFSET);\n    scale$1(elbowOffset, elbowOffset, extensionRatio);\n    add$1(elbowPos, elbowPos, elbowOffset);\n    let totalAngle = this.quatAngle_(controllerCameraQ, create$4());\n    let totalAngleDeg = totalAngle * RAD_TO_DEG;\n    let lerpSuppression = 1 - Math.pow(totalAngleDeg / 180, 4);let elbowRatio = ELBOW_BEND_RATIO;\n    let wristRatio = 1 - ELBOW_BEND_RATIO;\n    let lerpValue = lerpSuppression *\n        (elbowRatio + wristRatio * extensionRatio * EXTENSION_RATIO_WEIGHT);\n    let wristQ = create$4();\n    slerp(wristQ, wristQ, controllerCameraQ, lerpValue);\n    let invWristQ = invert$2(create$4(), wristQ);\n    let elbowQ = clone$4(controllerCameraQ);\n    multiply$4(elbowQ, elbowQ, invWristQ);\n    let wristPos = this.wristPos;\n    copy$1(wristPos, WRIST_CONTROLLER_OFFSET);\n    transformQuat(wristPos, wristPos, wristQ);\n    add$1(wristPos, wristPos, ELBOW_WRIST_OFFSET);\n    transformQuat(wristPos, wristPos, elbowQ);\n    add$1(wristPos, wristPos, elbowPos);\n    let offset = clone$1(ARM_EXTENSION_OFFSET);\n    scale$1(offset, offset, extensionRatio);\n    add$1(this.position, this.wristPos, offset);\n    transformQuat(this.position, this.position, this.rootQ);\n    this.lastTime = this.time;\n  }\n  getPosition() {\n    return this.position;\n  }\n  getHeadYawOrientation_() {\n    let headEuler = create$1();\n    eulerFromQuaternion(headEuler, this.headQ, 'YXZ');\n    let destinationQ = fromEuler(create$4(), 0, headEuler[1] * RAD_TO_DEG, 0);\n    return destinationQ;\n  }\n  clamp_(value, min$$1, max$$1) {\n    return Math.min(Math.max(value, min$$1), max$$1);\n  }\n  quatAngle_(q1, q2) {\n    let vec1 = [0, 0, -1];\n    let vec2 = [0, 0, -1];\n    transformQuat(vec1, vec1, q1);\n    transformQuat(vec2, vec2, q2);\n    return angle(vec1, vec2);\n  }\n}\n\nclass GamepadXRInputSource {\n  constructor(polyfill, primaryButtonIndex = 0) {\n    this.polyfill = polyfill;\n    this.gamepad = null;\n    this.inputSource = new XRInputSource(this);\n    this.lastPosition = create$1();\n    this.emulatedPosition = false;\n    this.basePoseMatrix = create();\n    this.inputPoses = new WeakMap();\n    this.primaryButtonIndex = primaryButtonIndex;\n    this.primaryActionPressed = false;\n    this.handedness = '';\n    this.targetRayMode = 'gaze';\n    this.armModel = null;\n  }\n  updateFromGamepad(gamepad) {\n    this.gamepad = gamepad;\n    this.handedness = gamepad.hand;\n    if (gamepad.pose) {\n      this.targetRayMode = 'tracked-pointer';\n      this.emulatedPosition = !gamepad.pose.hasPosition;\n    } else if (gamepad.hand === '') {\n      this.targetRayMode = 'gaze';\n      this.emulatedPosition = false;\n    }\n  }\n  updateBasePoseMatrix() {\n    if (this.gamepad && this.gamepad.pose) {\n      let pose = this.gamepad.pose;\n      let position = pose.position;\n      let orientation = pose.orientation;\n      if (!position && !orientation) {\n        return;\n      }\n      if (!position) {\n        if (!pose.hasPosition) {\n          if (!this.armModel) {\n            this.armModel = new OrientationArmModel();\n          }\n          this.armModel.setHandedness(this.gamepad.hand);\n          this.armModel.update(orientation, this.polyfill.getBasePoseMatrix());\n          position = this.armModel.getPosition();\n        } else {\n          position = this.lastPosition;\n        }\n      } else {\n        this.lastPosition[0] = position[0];\n        this.lastPosition[1] = position[1];\n        this.lastPosition[2] = position[2];\n      }\n      fromRotationTranslation(this.basePoseMatrix, orientation, position);\n    } else {\n      copy(this.basePoseMatrix, this.polyfill.getBasePoseMatrix());\n    }\n    return this.basePoseMatrix;\n  }\n  getXRInputPose(coordinateSystem) {\n    this.updateBasePoseMatrix();\n    let inputPose = this.inputPoses.get(coordinateSystem);\n    if (!inputPose) {\n      inputPose = new XRInputPose(this, this.gamepad && this.gamepad.pose);\n      this.inputPoses.set(coordinateSystem, inputPose);\n    }\n    const rayTransformMatrix = new Float32Array(16);\n    coordinateSystem.transformBasePoseMatrix(rayTransformMatrix, this.basePoseMatrix);\n    inputPose.targetRay = poseMatrixToXRRay(rayTransformMatrix);\n    if (inputPose.gripMatrix) {\n      coordinateSystem.transformBasePoseMatrix(inputPose.gripMatrix, this.basePoseMatrix);\n    }\n    return inputPose;\n  }\n}\n\nconst TEST_ENV = \"production\" === 'test';\nconst EXTRA_PRESENTATION_ATTRIBUTES = {\n  highRefreshRate: true,\n};\nconst PRIMARY_BUTTON_MAP = {\n  oculus: 1,\n  openvr: 1,\n  'spatial controller (spatial interaction source)': 1\n};\nlet SESSION_ID = 0;\nclass Session {\n  constructor(sessionOptions, polyfillOptions={}) {\n    this.outputContext = sessionOptions.outputContext;\n    this.immersive = sessionOptions.immersive;\n    this.ended = null;\n    this.baseLayer = null;\n    this.id = ++SESSION_ID;\n    this.modifiedCanvasLayer = false;\n    if (this.outputContext && !TEST_ENV) {\n      const renderContextType = polyfillOptions.renderContextType || '2d';\n      this.renderContext = this.outputContext.canvas.getContext(renderContextType);\n    }\n  }\n}\nclass WebVRDevice extends PolyfilledXRDevice {\n  constructor(global, display) {\n    const { canPresent } = display.capabilities;\n    super(global);\n    this.display = display;\n    this.frame = new global.VRFrameData();\n    this.sessions = new Map();\n    this.immersiveSession = null;\n    this.canPresent = canPresent;\n    this.baseModelMatrix = create();\n    this.gamepadInputSources = {};\n    this.tempVec3 = new Float32Array(3);\n    this.onVRDisplayPresentChange = this.onVRDisplayPresentChange.bind(this);\n    global.window.addEventListener('vrdisplaypresentchange', this.onVRDisplayPresentChange);\n    this.CAN_USE_GAMEPAD = global.navigator && ('getGamepads' in global.navigator);\n    this.HAS_BITMAP_SUPPORT = isImageBitmapSupported(global);\n  }\n  get depthNear() { return this.display.depthNear; }\n  set depthNear(val) { this.display.depthNear = val; }\n  get depthFar() { return this.display.depthFar; }\n  set depthFar(val) { this.display.depthFar = val; }\n  onBaseLayerSet(sessionId, layer) {\n    const session = this.sessions.get(sessionId);\n    const canvas = layer.context.canvas;\n    if (session.immersive) {\n      const left = this.display.getEyeParameters('left');\n      const right = this.display.getEyeParameters('right');\n      canvas.width = Math.max(left.renderWidth, right.renderWidth) * 2;\n      canvas.height = Math.max(left.renderHeight, right.renderHeight);\n      this.display.requestPresent([{\n          source: canvas, attributes: EXTRA_PRESENTATION_ATTRIBUTES\n        }]).then(() => {\n        if (!TEST_ENV && !this.global.document.body.contains(canvas)) {\n          session.modifiedCanvasLayer = true;\n          this.global.document.body.appendChild(canvas);\n          applyCanvasStylesForMinimalRendering(canvas);\n        }\n        session.baseLayer = layer;\n      });\n    }\n    else if (session.outputContext) {\n      session.baseLayer = layer;\n    }\n  }\n  supportsSession(options={}) {\n    if (options.immersive === true && this.canPresent === false) {\n      return false;\n    }\n    return true;\n  }\n  async requestSession(options={}) {\n    if (!this.supportsSession(options)) {\n      return Promise.reject();\n    }\n    if (options.immersive) {\n      const canvas = this.global.document.createElement('canvas');\n      if (!TEST_ENV) {\n        const ctx = canvas.getContext('webgl');\n      }\n      await this.display.requestPresent([{\n          source: canvas, attributes: EXTRA_PRESENTATION_ATTRIBUTES }]);\n    }\n    const session = new Session(options, {\n      renderContextType: this.HAS_BITMAP_SUPPORT ? 'bitmaprenderer' : '2d'\n    });\n    this.sessions.set(session.id, session);\n    if (options.immersive) {\n      this.immersiveSession = session;\n      this.dispatchEvent('@@webxr-polyfill/vr-present-start', session.id);\n    }\n    return Promise.resolve(session.id);\n  }\n  requestAnimationFrame(callback) {\n    return this.display.requestAnimationFrame(callback);\n  }\n  getPrimaryButtonIndex(gamepad) {\n    let primaryButton = 0;\n    let name = gamepad.id.toLowerCase();\n    for (let key in PRIMARY_BUTTON_MAP) {\n      if (name.includes(key)) {\n        primaryButton = PRIMARY_BUTTON_MAP[key];\n        break;\n      }\n    }\n    return Math.min(primaryButton, gamepad.buttons.length - 1);\n  }\n  onFrameStart(sessionId) {\n    this.display.getFrameData(this.frame);\n    const session = this.sessions.get(sessionId);\n    if (session.immersive && this.CAN_USE_GAMEPAD) {\n      let prevInputSources = this.gamepadInputSources;\n      this.gamepadInputSources = {};\n      let gamepads = this.global.navigator.getGamepads();\n      for (let i = 0; i < gamepads.length; ++i) {\n        let gamepad = gamepads[i];\n        if (gamepad && gamepad.displayId === this.display.displayId) {\n          let inputSourceImpl = prevInputSources[i];\n          if (!inputSourceImpl) {\n            inputSourceImpl = new GamepadXRInputSource(this, this.getPrimaryButtonIndex(gamepad));\n          }\n          inputSourceImpl.updateFromGamepad(gamepad);\n          this.gamepadInputSources[i] = inputSourceImpl;\n          if (inputSourceImpl.primaryButtonIndex != -1) {\n            let primaryActionPressed = gamepad.buttons[inputSourceImpl.primaryButtonIndex].pressed;\n            if (primaryActionPressed && !inputSourceImpl.primaryActionPressed) {\n              this.dispatchEvent('@@webxr-polyfill/input-select-start', { sessionId: session.id, inputSource: inputSourceImpl.inputSource });\n            } else if (!primaryActionPressed && inputSourceImpl.primaryActionPressed) {\n              this.dispatchEvent('@@webxr-polyfill/input-select-end', { sessionId: session.id, inputSource: inputSourceImpl.inputSource });\n            }\n            inputSourceImpl.primaryActionPressed = primaryActionPressed;\n          }\n        }\n      }\n    }\n    if (TEST_ENV) {\n      return;\n    }\n    if (session.outputContext && !session.immersive) {\n      const outputCanvas = session.outputContext.canvas;\n      const oWidth = outputCanvas.offsetWidth;\n      const oHeight = outputCanvas.offsetHeight;\n      if (outputCanvas.width != oWidth) {\n        outputCanvas.width = oWidth;\n      }\n      if (outputCanvas.height != oHeight) {\n        outputCanvas.height = oHeight;\n      }\n      const canvas = session.baseLayer.context.canvas;\n      if (!this.immersiveSession ||\n          canvas !== this.immersiveSession.baseLayer.context.canvas) {\n        if (canvas.width != oWidth) {\n          canvas.width = oWidth;\n        }\n        if (canvas.height != oHeight) {\n          canvas.height = oHeight;\n        }\n        perspective(this.frame.leftProjectionMatrix, Math.PI * 0.4,\n                         oWidth/oHeight, this.depthNear, this.depthFar);\n      }\n    }\n  }\n  onFrameEnd(sessionId) {\n    const session = this.sessions.get(sessionId);\n    if (session.ended || !session.baseLayer) {\n      return;\n    }\n    if (session.outputContext &&\n        !(session.immersive && !this.display.capabilities.hasExternalDisplay)) {\n      const mirroring =\n        session.immersive && this.display.capabilities.hasExternalDisplay;\n      const iCanvas = session.baseLayer.context.canvas;\n      const iWidth = mirroring ? iCanvas.width / 2 : iCanvas.width;\n      const iHeight = iCanvas.height;\n      if (!TEST_ENV) {\n        const oCanvas = session.outputContext.canvas;\n        const oWidth = oCanvas.width;\n        const oHeight = oCanvas.height;\n        const renderContext = session.renderContext;\n        if (this.HAS_BITMAP_SUPPORT) {\n          if (iCanvas.transferToImageBitmap) {\n            renderContext.transferFromImageBitmap(iCanvas.transferToImageBitmap());\n          }\n          else {\n            this.global.createImageBitmap(iCanvas, 0, 0, iWidth, iHeight, {\n              resizeWidth: oWidth,\n              resizeHeight: oHeight,\n            }).then(bitmap => renderContext.transferFromImageBitmap(bitmap));\n          }\n        } else {\n          renderContext.drawImage(iCanvas, 0, 0, iWidth, iHeight,\n                                           0, 0, oWidth, oHeight);\n        }\n      }\n    }\n    if (session.immersive && session.baseLayer) {\n      this.display.submitFrame();\n    }\n  }\n  cancelAnimationFrame(handle) {\n    this.display.cancelAnimationFrame(handle);\n  }\n  async endSession(sessionId) {\n    const session = this.sessions.get(sessionId);\n    if (session.ended) {\n      return;\n    }\n    if (session.immersive) {\n      return this.display.exitPresent();\n    } else {\n      session.ended = true;\n    }\n  }\n  requestStageBounds() {\n    if (this.display.stageParameters) {\n      const width = this.display.stageParameters.sizeX;\n      const depth = this.display.stageParameters.sizeZ;\n      const data = [];\n      data.push(-width / 2);\n      data.push(-depth / 2);\n      data.push(width / 2);\n      data.push(-depth / 2);\n      data.push(width / 2);\n      data.push(depth / 2);\n      data.push(-width / 2);\n      data.push(depth / 2);\n      return data;\n    }\n    return null;\n  }\n  async requestFrameOfReferenceTransform(type, options) {\n    if (type === 'stage' && this.display.stageParameters &&\n                            this.display.stageParameters.sittingToStandingTransform) {\n      return this.display.stageParameters.sittingToStandingTransform;\n    }\n  }\n  getProjectionMatrix(eye) {\n    if (eye === 'left') {\n      return this.frame.leftProjectionMatrix;\n    } else if (eye === 'right') {\n      return this.frame.rightProjectionMatrix;\n    } else {\n      throw new Error(`eye must be of type 'left' or 'right'`);\n    }\n  }\n  getViewport(sessionId, eye, layer, target) {\n    const session = this.sessions.get(sessionId);\n    const { width, height } = layer.context.canvas;\n    if (!session.immersive) {\n      target.x = target.y = 0;\n      target.width = width;\n      target.height = height;\n      return true;\n    }\n    if (eye === 'left') {\n      target.x = 0;\n    } else if (eye === 'right') {\n      target.x = width / 2;\n    } else {\n      return false;\n    }\n    target.y = 0;\n    target.width = width / 2;\n    target.height = height;\n    return true;\n  }\n  getBasePoseMatrix() {\n    let { position, orientation } = this.frame.pose;\n    if (!position && !orientation) {\n      return this.baseModelMatrix;\n    }\n    if (!position) {\n      position = this.tempVec3;\n      position[0] = position[1] = position[2] = 0;\n    }\n    fromRotationTranslation(this.baseModelMatrix, orientation, position);\n    return this.baseModelMatrix;\n  }\n  getBaseViewMatrix(eye) {\n    if (eye === 'left') {\n      return this.frame.leftViewMatrix;\n    } else if (eye === 'right') {\n      return this.frame.rightViewMatrix;\n    } else {\n      throw new Error(`eye must be of type 'left' or 'right'`);\n    }\n  }\n  getInputSources() {\n    let inputSources = [];\n    for (let i in this.gamepadInputSources) {\n      inputSources.push(this.gamepadInputSources[i].inputSource);\n    }\n    return inputSources;\n  }\n  getInputPose(inputSource, coordinateSystem) {\n    if (!coordinateSystem) {\n      return null;\n    }\n    for (let i in this.gamepadInputSources) {\n      let inputSourceImpl = this.gamepadInputSources[i];\n      if (inputSourceImpl.inputSource === inputSource) {\n        return inputSourceImpl.getXRInputPose(coordinateSystem);\n      }\n    }\n    return null;\n  }\n  onWindowResize() {\n  }\n  onVRDisplayPresentChange(e) {\n    if (!this.display.isPresenting) {\n      this.sessions.forEach(session => {\n        if (session.immersive && !session.ended) {\n          if (session.modifiedCanvasLayer) {\n            const canvas = session.baseLayer.context.canvas;\n            document.body.removeChild(canvas);\n            canvas.setAttribute('style', '');\n          }\n          if (this.immersiveSession === session) {\n            this.immersiveSession = null;\n          }\n          this.dispatchEvent('@@webxr-polyfill/vr-present-end', session.id);\n        }\n      });\n    }\n  }\n}\n\nclass CardboardXRDevice extends WebVRDevice {\n  constructor(global) {\n    const display = new CardboardVRDisplay();\n    super(global, display);\n    this.display = display;\n    this.frame = {\n      rightViewMatrix: new Float32Array(16),\n      leftViewMatrix: new Float32Array(16),\n      rightProjectionMatrix: new Float32Array(16),\n      leftProjectionMatrix: new Float32Array(16),\n      pose: null,\n      timestamp: null,\n    };\n  }\n}\n\nconst getXRDevice = async function (global) {\n  let device = null;\n  if ('xr' in global.navigator) {\n    try {\n      device = await global.navigator.xr.requestDevice();\n    } catch (e) {}\n  }\n  return device;\n};\nconst getVRDisplay = async function (global) {\n  let device = null;\n  if ('getVRDisplays' in global.navigator) {\n    try {\n      const displays = await global.navigator.getVRDisplays();\n      if (displays && displays.length) {\n        device = new WebVRDevice(global, displays[0]);\n      }\n    } catch (e) {}\n  }\n  return device;\n};\nconst requestDevice = async function (global, config) {\n  let device = await getXRDevice(global);\n  if (device) {\n    return device;\n  }\n  if (config.webvr) {\n    device = await getVRDisplay(global);\n    if (device) {\n      return new XRDevice(device);\n    }\n  }\n  if (config.cardboard && isMobile(global)) {\n    if (!global.VRFrameData) {\n      global.VRFrameData = function () {\n        this.rightViewMatrix = new Float32Array(16);\n        this.leftViewMatrix = new Float32Array(16);\n        this.rightProjectionMatrix = new Float32Array(16);\n        this.leftProjectionMatrix = new Float32Array(16);\n        this.pose = null;\n      };\n    }\n    return new XRDevice(new CardboardXRDevice(global));\n  }\n  return null;\n};\n\nconst CONFIG_DEFAULTS = {\n  webvr: true,\n  cardboard: true,\n};\nconst partials = ['navigator', 'HTMLCanvasElement', 'WebGLRenderingContext'];\nclass WebXRPolyfill {\n  constructor(global, config={}) {\n    this.global = global || _global;\n    this.config = Object.freeze(Object.assign({}, CONFIG_DEFAULTS, config));\n    this.nativeWebXR = 'xr' in this.global.navigator;\n    this.injected = false;\n    if (!this.nativeWebXR) {\n      this._injectPolyfill(this.global);\n    }\n    else if (this.config.cardboard && isMobile(this.global)) {\n      this._patchRequestDevice();\n    }\n  }\n  _injectPolyfill(global) {\n    if (!partials.every(iface => !!global[iface])) {\n      throw new Error(`Global must have the following attributes : ${partials}`);\n    }\n    for (const className of Object.keys(API)) {\n      if (global[className] !== undefined) {\n        console.warn(`${className} already defined on global.`);\n      } else {\n        global[className] = API[className];\n      }\n    }\n    {\n      const polyfilledCtx = polyfillSetCompatibleXRDevice(global.WebGLRenderingContext);\n      if (polyfilledCtx) {\n        const renderContextType = isImageBitmapSupported(global) ? 'bitmaprenderer' : '2d';\n        polyfillGetContext(global.HTMLCanvasElement, renderContextType);\n        if (global.OffscreenCanvas) {\n          polyfillGetContext(global.OffscreenCanvas, null);\n        }\n        if (global.WebGL2RenderingContext){\n          polyfillSetCompatibleXRDevice(global.WebGL2RenderingContext);\n        }\n      }\n    }\n    this.injected = true;\n    this._patchRequestDevice();\n  }\n  _patchRequestDevice() {\n    const device = requestDevice(this.global, this.config);\n    this.xr = new XR(device);\n    Object.defineProperty(this.global.navigator, 'xr', {\n      value: this.xr,\n      configurable: true,\n    });\n  }\n}\n\nexport default WebXRPolyfill;\n","import WebXRPolyfill from 'webxr-polyfill';\r\n\r\np5vr = function() {\r\n\r\n    let xrDevice = null;\r\n    let xrSession = null;\r\n    let xrFrameOfRef = null;\r\n\r\n    let gl = null;\r\n\r\n    p5.prototype.createVRCanvas = function () {\r\n        var polyfill = new WebXRPolyfill();\r\n        var versionShim = new WebXRVersionShim();\r\n        initVR(this);\r\n    }\r\n\r\n    // Called when we've successfully acquired a XRSession. In response we\r\n    // will set up the necessary session state and kick off the frame loop.\r\n    function onVRSessionStarted(session) {\r\n        xrSession = session;\r\n        // Listen for the sessions 'end' event so we can respond if the user\r\n        // or UA ends the session for any reason.\r\n        session.addEventListener('end', onSessionEnded);\r\n        // Create a WebGL context to render with, initialized to be compatible\r\n        // with the XRDisplay we're presenting to.\r\n        createCanvas(windowWidth, windowHeight, WEBGL);\r\n        console.log('MADE VR CANVAS');\r\n        let canvas = p5.instance.canvas;\r\n        gl = canvas.getContext('webgl', {\r\n            compatibleXRDevice: session.device\r\n        });\r\n        // Use the new WebGL context to create a XRWebGLLayer and set it as the\r\n        // sessions baseLayer. This allows any content rendered to the layer to\r\n        // be displayed on the XRDevice.\r\n        session.baseLayer = new XRWebGLLayer(session, gl);\r\n        // Get a frame of reference, which is required for querying poses. In\r\n        // this case an 'eye-level' frame of reference means that all poses will\r\n        // be relative to the location where the XRDevice was first detected.\r\n        session.requestFrameOfReference('eye-level').then((frameOfRef) => {\r\n            xrFrameOfRef = frameOfRef;\r\n            // Inform the session that we're ready to begin drawing.\r\n            session.requestAnimationFrame(onXRFrame);\r\n        });\r\n    }\r\n\r\n    function initVR(_pInst) {\r\n        // Is WebXR available on this UA?\r\n        if (navigator.xr) {\r\n            // Request an XRDevice connected to the system.\r\n            let xrButton = document.getElementById('xr-button');\r\n            navigator.xr.requestDevice().then((device) => {\r\n                xrDevice = device;\r\n                device.supportsSession({ immersive: true }).then(() => {\r\n                    xrButton.addEventListener('click', onVRButtonClicked);\r\n                    xrButton.innerHTML = 'Enter XR';\r\n                    xrButton.disabled = false;\r\n                    console.log('supported');\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    function onVRButtonClicked() {\r\n        console.log('clicked');\r\n        if (!xrSession) {\r\n            xrDevice.requestSession({ immersive: true }).then(onVRSessionStarted);\r\n        } else {\r\n            xrSession.end();\r\n        }\r\n    }\r\n\r\n\r\n    function onXRFrame(t, frame) {\r\n        let session = frame.session;\r\n        // Inform the session that we're ready for the next frame.\r\n        session.requestAnimationFrame(onXRFrame);\r\n        // Get the XRDevice pose relative to the Frame of Reference we created\r\n        // earlier.\r\n        let pose = frame.getDevicePose(xrFrameOfRef);\r\n        // Getting the pose may fail if, for example, tracking is lost. So we\r\n        // have to check to make sure that we got a valid pose before attempting\r\n        // to render with it. If not in this case we'll just leave the\r\n        // framebuffer cleared, so tracking loss means the scene will simply\r\n        // dissapear.\r\n        if (pose) {\r\n            // If we do have a valid pose, bind the WebGL layer's framebuffer,\r\n            // which is where any content to be displayed on the XRDevice must be\r\n            // rendered.\r\n            gl.bindFramebuffer(gl.FRAMEBUFFER, session.baseLayer.framebuffer);\r\n            // Update the clear color so that we can observe the color in the\r\n            // headset changing over time.\r\n            let time = Date.now();\r\n            // Normally you'd loop through each of the views reported by the frame\r\n            // and draw them into the corresponding viewport here, but we're\r\n            // keeping this sample slim so we're not bothering to draw any\r\n            // geometry.\r\n            background(200, 0, 200);\r\n            for (let view of frame.views) {\r\n                let viewport = session.baseLayer.getViewport(view);\r\n                gl.viewport(viewport.x, viewport.y,\r\n                    viewport.width, viewport.height);\r\n                p5.instance._renderer.uMVMatrix.set(pose.getViewMatrix(view));\r\n                p5.instance._renderer.uPMatrix.set(view.projectionMatrix);\r\n                drawing();\r\n                // Draw something.\r\n                //   drawScene(view.projectionMatrix, pose.getViewMatrix(view));\r\n            }\r\n        }\r\n    }\r\n\r\n    let viewX = 0;\r\n\r\n    function drawing() {\r\n        // \r\n        fill(0, 150, 100);\r\n        translate(0, 0, 10);\r\n        strokeWeight(0.1);\r\n        rotateX(10);\r\n        rotateY(20);\r\n        box(5);\r\n        p5.instance._renderer._update();\r\n    }\r\n\r\n    function onEndSession(session) {\r\n        session.end();\r\n    }\r\n    // Called either when the user has explicitly ended the session (like in\r\n    // onEndSession()) or when the UA has ended the session for any reason.\r\n    // At this point the session object is no longer usable and should be\r\n    // discarded.\r\n    function onSessionEnded(event) {\r\n        xrSession = null;\r\n        xrButton.innerHTML = 'Enter VR';\r\n        // In this simple case discard the WebGL context too, since we're not\r\n        // rendering anything else to the screen with it.\r\n        gl = null;\r\n    }\r\n\r\n    p5.RendererGL.prototype._update = function () {\r\n        /* TODO: Figure out how to avoid overwriting this function */\r\n        /* IE: Override the resetting of cameraMatrices in _update */\r\n        /*\r\n        /*\r\n        /*\r\n        /*\r\n        /*\r\n        */\r\n\r\n        // reset model view and apply initial camera transform\r\n        // (containing only look at info; no projection).\r\n        // this.uMVMatrix.set(\r\n        //   this._curCamera.cameraMatrix.mat4[0],\r\n        //   this._curCamera.cameraMatrix.mat4[1],\r\n        //   this._curCamera.cameraMatrix.mat4[2],\r\n        //   this._curCamera.cameraMatrix.mat4[3],\r\n        //   this._curCamera.cameraMatrix.mat4[4],\r\n        //   this._curCamera.cameraMatrix.mat4[5],\r\n        //   this._curCamera.cameraMatrix.mat4[6],\r\n        //   this._curCamera.cameraMatrix.mat4[7],\r\n        //   this._curCamera.cameraMatrix.mat4[8],\r\n        //   this._curCamera.cameraMatrix.mat4[9],\r\n        //   this._curCamera.cameraMatrix.mat4[10],\r\n        //   this._curCamera.cameraMatrix.mat4[11],\r\n        //   this._curCamera.cameraMatrix.mat4[12],\r\n        //   this._curCamera.cameraMatrix.mat4[13],\r\n        //   this._curCamera.cameraMatrix.mat4[14],\r\n        //   this._curCamera.cameraMatrix.mat4[15]\r\n        // );\r\n        // p5.instance._renderer.uMVMatrix.set(viewMat);\r\n        // p5.instance._renderer.uPMatrix.set(projMat);\r\n        // reset light data for new frame.\r\n\r\n        /*\r\n        /*\r\n        /*\r\n        /*\r\n        /*\r\n        */\r\n        /* TODO: Figure out how to avoid overwriting this function */\r\n        /* IE: Override the resetting of cameraMatrices in _update */\r\n\r\n        this.ambientLightColors.length = 0;\r\n        this.directionalLightDirections.length = 0;\r\n        this.directionalLightColors.length = 0;\r\n\r\n        this.pointLightPositions.length = 0;\r\n        this.pointLightColors.length = 0;\r\n    };\r\n}\r\n\r\nmodule.exports = p5vr;\r\n\r\n","`use strict`\r\n\r\nimport './p5xr/p5vr/p5vr.js';\r\n// import('./webxr/webxr-button.js');\r\n// import('./webxr/webxr-polyfill.js');\r\n// import('./webxr/webxr-version-shim.js');\r\n"]}